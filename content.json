{"meta":{"title":"SmartSeançš„å°ç«™","subtitle":"æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ã€‚","description":null,"author":"smartsean","url":"https://github.com/smartsean/smartsean.github.io"},"pages":[{"title":"","date":"2018-01-15T13:47:47.305Z","updated":"2018-01-15T13:47:47.305Z","comments":true,"path":"404.html","permalink":"https://github.com/smartsean/smartsean.github.io/404.html","excerpt":"","text":"404"}],"posts":[{"title":"Android ä¸Šä¼  Library åˆ° JCenter","slug":"Android-ä¸Šä¼ -Library-åˆ°-JCenter","date":"2017-12-21T03:25:41.000Z","updated":"2018-01-16T03:27:03.413Z","comments":true,"path":"2017/12/21/Android-ä¸Šä¼ -Library-åˆ°-JCenter/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/12/21/Android-ä¸Šä¼ -Library-åˆ°-JCenter/","excerpt":"","text":"ç°åœ¨ä¸å–œæ¬¢åºŸè¯äº†ï¼Œç›´æ¥å¹²è´§å§ 1ã€æ³¨å†Œæ³¨å†Œåœ°å€ï¼š è®¤æ¸…åœ°å€ï¼šhttps://bintray.com/signup/oss è®¤æ¸…åœ°å€ï¼šhttps://bintray.com/signup/oss è®¤æ¸…åœ°å€ï¼šhttps://bintray.com/signup/oss 2ã€æ–°å»ºä»“åº“æ³¨å†ŒæˆåŠŸç™»é™†ä¹‹åï¼Œç‚¹å‡»ä¸»é¡µé¢çš„ Add New Repository é€‰æ‹© Public - anyone can download your files.ï¼ˆå½“ç„¶ï¼Œprivate æ˜¯æ”¶è´¹çš„ï¼‰ Nameå¡« maven Type é€‰æ‹© Maven Default Licenses (Optional) ä¸€èˆ¬é€‰æ‹© Apache-2.0 Description (Optional) éšä¾¿å¡« Create 3ã€æ–°å»ºåŒ…æ–°å»ºå®Œ maven ä»“åº“ä»¥åï¼Œç‚¹è¿›å» maven ä»“åº“ï¼Œé€‰æ‹© Add New Package Name å¿…å¡« å°å†™ ä¸€èˆ¬å’Œç¬¬å››æ­¥çš„ publish æ ‡ç­¾å†…çš„ artifactId ä¸€è‡´ Description é€‰å¡« Licenses * æ˜¯ Apache-2.0 Tags å¯å¡«å¯ä¸å¡«ï¼Œå»ºè®® Android Maturity é»˜è®¤ none Website å»ºè®® github ä»“åº“åœ°å€ Issues tracker githubä»“åº“çš„ issues åœ°å€ Version control * github ä»“åº“çš„gitåœ°å€ï¼ˆå°±æ˜¯Git clone åé¢è·Ÿçš„åœ°å€ï¼Œä»¥.gitç»“å°¾ï¼‰ Create Package 4ã€æ–°å»ºè¦ä¸Šä¼ çš„ Android Libraryå¹¶é…ç½® 1ã€æ–°å»ºAndroid é¡¹ç›® 2ã€æ–°å»º Module é€‰æ‹© AndroidLibrary 3ã€åœ¨é¡¹ç›®çš„æ ¹ç›®å½•çš„ build.gradle ä¸­ 12345678910buildscript &#123; repositories &#123; google() jcenter() &#125; dependencies &#123; classpath &apos;com.android.tools.build:gradle:3.0.0&apos; classpath &apos;com.novoda:bintray-release:0.5.0&apos;//æ–°å¢è¿™è¡Œ &#125;&#125; æ³¨æ„ï¼šbintray-releasçš„ç‰ˆæœ¬ ä¾èµ–ï¼Œå¯¹åº”ä½ é¡¹ç›®ä½¿ç”¨ Gradle ç‰ˆæœ¬ bintray-releas version 0.5.0 å¯¹åº” Gradle æ˜¯ version 3.4+ (åŒ…æ‹¬3.4) bintray-releas version 0.4.0 å¯¹åº” Gradle æ˜¯ version 3.3+ (åŒ…æ‹¬3.3) bintray-releas version 0.3.4 å¯¹åº” Gradle æ˜¯ version 1.3.0+(åŒ…æ‹¬1.3) åœ¨è¦ä¸Šä¼ çš„ Library çš„ build.gradle ä¸­12345678910111213141516171819apply plugin: &apos;com.android.library&apos;apply plugin: &apos;com.novoda.bintray-release&apos;//æ–°å¢//æ–°å¢android &#123; lintOptions &#123; abortOnError false &#125;&#125;//æ–°å¢publish &#123; userOrg = &apos;derekcao&apos; //bintrayæ³¨å†Œçš„ç”¨æˆ·å groupId = &apos;cn.smartsean&apos; //compileå¼•ç”¨æ—¶çš„ç¬¬1éƒ¨åˆ† groupId artifactId = &apos;lib&apos; //compileå¼•ç”¨æ—¶çš„ç¬¬2éƒ¨åˆ†é¡¹ç›®å(ä¸€èˆ¬å’Œä¸Šé¢æ–°å»ºåŒ…é‚£ä¸€æ­¥çš„ Name ä¸€æ ·) publishVersion = &apos;0.0.1&apos; //compileå¼•ç”¨æ—¶çš„ç¬¬3éƒ¨åˆ†ç‰ˆæœ¬å· desc = &apos;This is a utils lib&apos;//dé¡¹ç›®æè¿° repoName=&quot;maven&quot; //ä½ çš„ä»“åº“åç§°ï¼Œæ²¡æœ‰å¡«å†™é»˜è®¤ä»“åº“æ˜¯maven//è¿™ä¹Ÿæ˜¯å¾ˆå¤šäººä¸Šä¼ ä»“åº“ä¸å¯¹åé—®é¢˜æœ€å¤šæƒ…å†µï¼Œ website = &apos;https://github.com/smartsean/AndroidCode&apos; //github æ‰˜ç®¡åœ°å€&#125; 5ã€æ‰§è¡Œä¸Šä¼ å‘½ä»¤é¦–å…ˆè·å–ä½ çš„ ApiKey ï¼Œåœ¨ EditProfile ä¸­å·¦ä¾§çš„ API KEYé€‰é¡¹æ‰¾ã€‚ Macï¼š 1./gradlew clean build bintrayUpload -PbintrayUser=&quot;derekcap&quot; -PbintrayKey=&quot;ä½ çš„ApiKey&quot; -PdryRun=false ç„¶åè¿›å…¥ç¬¬ä¸‰éƒ¨æ–°å»ºçš„åŒ…ä¸­ï¼Œç‚¹å‡» Add To JCenter ï¼Œå¡«å†™ä½ çš„ç®€ä»‹ï¼Œå¾ˆç®€å•çš„è‹±æ–‡ä»‹ç»å³å¯ï¼Œç„¶åè€å¿ƒç­‰å¾…å°±å¥½äº†ã€‚è‡³äºç­‰å¾…å¤šä¹…ï¼Œçœ‹è¿æ°”äº†ï¼Œæˆ‘çš„åŠä¸ªå°æ—¶å°±å¥½äº†ã€‚ 6ã€ä½¿ç”¨ç„¶åå†ä½¿ç”¨ï¼š1234compile &apos;groupId:artifactId:publishVersion&apos;//æˆ‘çš„æ˜¯compile &apos;cn.smartsean:lib:0.0.1&apos; groupId ç¬¬å››æ­¥çš„ publish ä¸­çš„ groupId artifactId ç¬¬å››æ­¥çš„ publish ä¸­çš„ artifactId publishVersion ç¬¬å››æ­¥çš„ publish ä¸­çš„ publishVersion è‡³æ­¤å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨äº†ã€‚ å¦‚æœä½ é‡åˆ°ï¼Œæœ‰é—®é¢˜çš„è¯·è”ç³»æˆ‘ï¼Œå¾ˆä¹æ„å¸®ä½ è§£å†³ï¼š é‚®ç®±ï¼šsmartsean.vip@gmail.com","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"},{"name":"å·¥å…·","slug":"Android/å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/"},{"name":"æˆ‘","slug":"Android/å·¥å…·/æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/æˆ‘/"}],"tags":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/tags/æˆ‘/"},{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å·¥å…·/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"},{"name":"å·¥å…·","slug":"Android/å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/"},{"name":"æˆ‘","slug":"Android/å·¥å…·/æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/æˆ‘/"}]},{"title":"AndroidåŸºç¡€ Android EditTextç¦æ­¢è¾“å…¥ç©ºæ ¼","slug":"AndroidåŸºç¡€-Android-EditTextç¦æ­¢è¾“å…¥ç©ºæ ¼","date":"2017-12-20T03:27:30.000Z","updated":"2018-01-16T03:28:24.190Z","comments":true,"path":"2017/12/20/AndroidåŸºç¡€-Android-EditTextç¦æ­¢è¾“å…¥ç©ºæ ¼/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/12/20/AndroidåŸºç¡€-Android-EditTextç¦æ­¢è¾“å…¥ç©ºæ ¼/","excerpt":"","text":"1ã€å®šä¹‰å…¬å…±InputFilter1234567891011121314/*** ç¦æ­¢è¾“å…¥ç©ºæ ¼** @return*/public class SpaceFilter implements InputFilter &#123; @Override public SpaceFilter filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) &#123; //è¿”å›nullè¡¨ç¤ºæ¥æ”¶è¾“å…¥çš„å­—ç¬¦,è¿”å›ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºä¸æ¥å—è¾“å…¥çš„å­—ç¬¦ if (source.equals(&quot; &quot;)) return &quot;&quot;; return null; &#125;&#125; 2ã€EditTextä½¿ç”¨è¯¥InputFilter12testEt = (EditText)findViewById(R.id.test_et);testEt.setFilters(new InputFilter[]&#123;new SpaceFilter()&#125;); ç‰¹æ­¤è®°å½•,å…¶ä»–ç±»ä¼¼åŠŸèƒ½ï¼Œå¯ä»¥è‡ªè¡Œæ‰©å±•å®ç°ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Androidæ‰“å¼€æŒ‡å®šæ–‡ä»¶å®è·µ --- å·¥å…·ç±»","slug":"Androidæ‰“å¼€æŒ‡å®šæ–‡ä»¶å®è·µ-å·¥å…·ç±»","date":"2017-12-12T08:57:03.000Z","updated":"2018-01-16T03:17:29.507Z","comments":true,"path":"2017/12/12/Androidæ‰“å¼€æŒ‡å®šæ–‡ä»¶å®è·µ-å·¥å…·ç±»/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/12/12/Androidæ‰“å¼€æŒ‡å®šæ–‡ä»¶å®è·µ-å·¥å…·ç±»/","excerpt":"","text":"é¡¹ç›®ä¸­æœ‰ä¸‹è½½æ–‡ä»¶çš„åŠŸèƒ½ï¼Œä½†æ˜¯æœ‰ç‚¹ lowï¼Œå°±æ˜¯å•çº¯çš„ä¸‹è½½ï¼Œä¸‹è½½æˆåŠŸæç¤ºç”¨æˆ·æ–‡ä»¶ä¸‹è½½åœ¨å“ªï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨å»æ–‡ä»¶ç®¡ç†å™¨æ‰¾è¿™äº›æ–‡ä»¶ï¼Œä¸æ˜¯å¾ˆäººæ€§åŒ–ï¼Œäºæ˜¯å†³å®šæ–°å¢ä¸‹è½½æ–‡ä»¶ä»¥åè®©ç”¨æˆ·ç›´æ¥èƒ½æ‰“å¼€æ–‡ä»¶ï¼Œå‹å¥½å‹ä¼šå¥½å¾ˆå¤š å‰è¨€é¦–å…ˆåœ¨å®ç°æ‰“å¼€æŒ‡å®šæ–‡ä»¶ä¹‹å‰ï¼Œæˆ‘å°è¯•è¿‡æ‰“å¼€æŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æˆåŠŸï¼Œç ”ç©¶äº†å¤§åŠå¤©çš„æ—¶é—´ï¼Œå‘ç°æ˜¯ä¸å¯è¡Œçš„ï¼Œè¿™æ˜¯ä¸ªå‘ï¼Œå¸Œæœ›ä¸è¦æœ‰äººå†è¸©è¿™ä¸ªå‘äº†ï¼Œï¼ˆå½“ç„¶ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘æ²¡æ‰¾åˆ°æ‰“å¼€æ–‡ä»¶å¤¹çš„æ–¹æ³•ï¼Œå¦‚æœæœ‰äººçŸ¥é“ï¼Œå¸Œæœ›èƒ½å¤Ÿèµæ•™ä¸‹ï¼Œå…ˆè°¢è°¢äº†ï¼‰ æ–‡æœ«ä¼šç»™å‡ºå°è£…å¥½çš„ä»£ç ï¼ŒOpenFileUtils å’Œ FileProviderUtils ç±»ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ åˆ¤æ–­æ–‡ä»¶ç±»å‹æˆ‘ä»¬åœ¨æ‰“å¼€æ–‡ä»¶ä¹‹å‰ï¼Œé¦–å…ˆå¾—çŸ¥é“æ–‡ä»¶çš„ç±»å‹ï¼Œæ‰èƒ½æŒ‡å®š Intent çš„ Data ï¼Œæ‰èƒ½å®ç°æ‰“å¼€æ–‡ä»¶çš„åŠŸèƒ½ã€‚ å¸¸è§çš„æ–‡ä»¶ç±»å‹ä»¥åŠå¯¹åº”çš„ DataType å¦‚ä¸‹ï¼š 123456789101112131415161718/** * å£°æ˜å„ç§ç±»å‹æ–‡ä»¶çš„dataType **/private static final String DATA_TYPE_APK = &quot;application/vnd.android.package-archive&quot;;private static final String DATA_TYPE_VIDEO = &quot;video/*&quot;;private static final String DATA_TYPE_AUDIO = &quot;audio/*&quot;;private static final String DATA_TYPE_HTML = &quot;text/html&quot;;private static final String DATA_TYPE_IMAGE = &quot;image/*&quot;;private static final String DATA_TYPE_PPT = &quot;application/vnd.ms-powerpoint&quot;;private static final String DATA_TYPE_EXCEL = &quot;application/vnd.ms-excel&quot;;private static final String DATA_TYPE_WORD = &quot;application/msword&quot;;private static final String DATA_TYPE_CHM = &quot;application/x-chm&quot;;private static final String DATA_TYPE_TXT = &quot;text/plain&quot;;private static final String DATA_TYPE_PDF = &quot;application/pdf&quot;;/** * æœªæŒ‡å®šæ˜ç¡®çš„æ–‡ä»¶ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨ç²¾ç¡®ç±»å‹çš„å·¥å…·æ‰“å¼€ï¼Œéœ€è¦ç”¨æˆ·é€‰æ‹© */private static final String DATA_TYPE_ALL = &quot;*/*&quot;; ç„¶åæˆ‘ä»¬å¾—æ ¹æ®è¦æ‰“å¼€çš„æ–‡ä»¶åï¼Œè·å–æ–‡ä»¶çš„ç±»å‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// å–å¾—æ–‡ä»¶æ‰©å±•åString end = file.getName().substring(file.getName().lastIndexOf(&quot;.&quot;) + 1, file.getName().length()).toLowerCase();// ä¾æ‰©å±•åçš„ç±»å‹å†³å®šMimeTypeswitch (end) &#123; case &quot;3gp&quot;: case &quot;mp4&quot;: openVideoFileIntent(mContext, file); break; case &quot;m4a&quot;: case &quot;mp3&quot;: case &quot;mid&quot;: case &quot;xmf&quot;: case &quot;ogg&quot;: case &quot;wav&quot;: openAudioFileIntent(mContext, file); break; case &quot;doc&quot;: case &quot;docx&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_WORD); break; case &quot;xls&quot;: case &quot;xlsx&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_EXCEL); break; case &quot;jpg&quot;: case &quot;gif&quot;: case &quot;png&quot;: case &quot;jpeg&quot;: case &quot;bmp&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_IMAGE); break; case &quot;txt&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_TXT); break; case &quot;htm&quot;: case &quot;html&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_HTML); break; case &quot;apk&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_APK); break; case &quot;ppt&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_PPT); break; case &quot;pdf&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_PDF); break; case &quot;chm&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_CHM); break; default: commonOpenFileWithType(mContext, file, DATA_TYPE_ALL); break;&#125; æ ¹æ®æ–‡ä»¶åæ‹¿åˆ° DataType ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠ DataType ä¼ å…¥ Intent æ¥æ‰“å¼€æ–‡ä»¶äº†ã€‚ä¸‹é¢ä»¥æ‰“å¼€ Video ä¸ºä¾‹ï¼š 1234567891011121314/** * Androidæ‰“å¼€Videoæ–‡ä»¶ * @param mContext * @param file */public static void openVideoFileIntent(Context mContext, File file) &#123; Intent intent = new Intent(Intent.ACTION_VIEW); intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); intent.putExtra(&quot;oneshot&quot;, 0); intent.putExtra(&quot;configchange&quot;, 0); FileProviderUtils.setIntentDataAndType(mContext, intent, DATA_TYPE_VIDEO, file, false); mContext.startActivity(intent);&#125; åªè¦ä¼ å…¥ Context å’Œ File å°±å¯ä»¥ä½¿ç”¨äº†ã€‚ ç›¸å…³ä»£ç ä¸Šé¢çš„ä»£ç æ˜¯ä¸å®Œæ•´çš„ï¼Œä¸‹é¢æˆ‘è´´å‡ºæœ‰å…³çš„ç±»çš„ä»£ç ï¼š é¦–å…ˆæ˜¯ï¼šOpenFileUtils ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134/** * @author SmartSean * @date 17/12/11 16:04 */public class OpenFileUtils &#123; /** * å£°æ˜å„ç§ç±»å‹æ–‡ä»¶çš„dataType **/ private static final String DATA_TYPE_APK = &quot;application/vnd.android.package-archive&quot;; private static final String DATA_TYPE_VIDEO = &quot;video/*&quot;; private static final String DATA_TYPE_AUDIO = &quot;audio/*&quot;; private static final String DATA_TYPE_HTML = &quot;text/html&quot;; private static final String DATA_TYPE_IMAGE = &quot;image/*&quot;; private static final String DATA_TYPE_PPT = &quot;application/vnd.ms-powerpoint&quot;; private static final String DATA_TYPE_EXCEL = &quot;application/vnd.ms-excel&quot;; private static final String DATA_TYPE_WORD = &quot;application/msword&quot;; private static final String DATA_TYPE_CHM = &quot;application/x-chm&quot;; private static final String DATA_TYPE_TXT = &quot;text/plain&quot;; private static final String DATA_TYPE_PDF = &quot;application/pdf&quot;; /** * æœªæŒ‡å®šæ˜ç¡®çš„æ–‡ä»¶ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨ç²¾ç¡®ç±»å‹çš„å·¥å…·æ‰“å¼€ï¼Œéœ€è¦ç”¨æˆ·é€‰æ‹© */ private static final String DATA_TYPE_ALL = &quot;*/*&quot;; /** * æ‰“å¼€æ–‡ä»¶ * @param mContext * @param file */ public static void openFile(Context mContext, File file) &#123; if (!file.exists()) &#123; return; &#125; // å–å¾—æ–‡ä»¶æ‰©å±•å String end = file.getName().substring(file.getName().lastIndexOf(&quot;.&quot;) + 1, file.getName().length()).toLowerCase(); // ä¾æ‰©å±•åçš„ç±»å‹å†³å®šMimeType switch (end) &#123; case &quot;3gp&quot;: case &quot;mp4&quot;: openVideoFileIntent(mContext, file); break; case &quot;m4a&quot;: case &quot;mp3&quot;: case &quot;mid&quot;: case &quot;xmf&quot;: case &quot;ogg&quot;: case &quot;wav&quot;: openAudioFileIntent(mContext, file); break; case &quot;doc&quot;: case &quot;docx&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_WORD); break; case &quot;xls&quot;: case &quot;xlsx&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_EXCEL); break; case &quot;jpg&quot;: case &quot;gif&quot;: case &quot;png&quot;: case &quot;jpeg&quot;: case &quot;bmp&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_IMAGE); break; case &quot;txt&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_TXT); break; case &quot;htm&quot;: case &quot;html&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_HTML); break; case &quot;apk&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_APK); break; case &quot;ppt&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_PPT); break; case &quot;pdf&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_PDF); break; case &quot;chm&quot;: commonOpenFileWithType(mContext, file, DATA_TYPE_CHM); break; default: commonOpenFileWithType(mContext, file, DATA_TYPE_ALL); break; &#125; &#125; /** * Androidä¼ å…¥typeæ‰“å¼€æ–‡ä»¶ * @param mContext * @param file * @param type */ public static void commonOpenFileWithType(Context mContext, File file, String type) &#123; Intent intent = new Intent(Intent.ACTION_VIEW); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); intent.addCategory(Intent.CATEGORY_DEFAULT); FileProviderUtils.setIntentDataAndType(mContext, intent, type, file, true); mContext.startActivity(intent); &#125; /** * Androidæ‰“å¼€Videoæ–‡ä»¶ * @param mContext * @param file */ public static void openVideoFileIntent(Context mContext, File file) &#123; Intent intent = new Intent(Intent.ACTION_VIEW); intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); intent.putExtra(&quot;oneshot&quot;, 0); intent.putExtra(&quot;configchange&quot;, 0); FileProviderUtils.setIntentDataAndType(mContext, intent, DATA_TYPE_VIDEO, file, false); mContext.startActivity(intent); &#125; /** * Androidæ‰“å¼€Audioæ–‡ä»¶ * @param mContext * @param file */ private static void openAudioFileIntent(Context mContext, File file) &#123; Intent intent = new Intent(Intent.ACTION_VIEW); intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); intent.putExtra(&quot;oneshot&quot;, 0); intent.putExtra(&quot;configchange&quot;, 0); FileProviderUtils.setIntentDataAndType(mContext, intent, DATA_TYPE_AUDIO, file, false); mContext.startActivity(intent); &#125;&#125; æ¥ä¸‹æ¥æ˜¯æ´ªæ´‹å¤§ç¥å†™çš„ Android 7.0 é€‚é…ç±» FileProviderUtilsï¼ˆä½¿ç”¨å‰å…ˆéœ€è¦å…ˆäº†è§£ä¸‹ FileProvider çš„ä½¿ç”¨ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940/** * @author SmartSean * @date 17/12/11 14:23 */public class FileProviderUtils &#123; public static Uri getUriForFile(Context mContext, File file) &#123; Uri fileUri = null; if (Build.VERSION.SDK_INT &gt;= 24) &#123; fileUri = getUriForFile24(mContext, file); &#125; else &#123; fileUri = Uri.fromFile(file); &#125; return fileUri; &#125; public static Uri getUriForFile24(Context mContext, File file) &#123; Uri fileUri = android.support.v4.content.FileProvider.getUriForFile(mContext, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file); return fileUri; &#125; public static void setIntentDataAndType(Context mContext, Intent intent, String type, File file, boolean writeAble) &#123; if (Build.VERSION.SDK_INT &gt;= 24) &#123; intent.setDataAndType(getUriForFile(mContext, file), type); intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); if (writeAble) &#123; intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION); &#125; &#125; else &#123; intent.setDataAndType(Uri.fromFile(file), type); &#125; &#125;&#125; è°ƒç”¨1234567File file = new File(Environment.getExternalStorageDirectory()+&quot;/AA/q.xlsx&quot;);try &#123; OpenFileUtils.openFile(mContext, file);&#125; catch (Exception e) &#123; ToastUtil.toastError(mContext, &quot;æ— å¯ç”¨æ‰“å¼€æ–¹å¼&quot;); e.printStackTrace();&#125; è¿™æ ·å°±å¯ä»¥å®ç°æ‰“å¼€æ–‡ä»¶åŠŸèƒ½äº†ã€‚ æœ€åæœ€åï¼Œå” å¨ä¸‹ï¼Œå¥½ä¹…æ²¡å†™åšå®¢ï¼Œæ„Ÿè§‰éƒ½ä¸çŸ¥é“æ€ä¹ˆå†™äº†ï¼Œæ…¢æ…¢æ‰¾æ„Ÿè§‰å§ã€‚ã€‚ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"},{"name":"å·¥å…·","slug":"Android/å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å·¥å…·/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"},{"name":"å·¥å…·","slug":"Android/å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/"}]},{"title":"Android Studio ä½¿ç”¨","slug":"Android Studio ä½¿ç”¨","date":"2017-09-11T16:00:00.000Z","updated":"2018-01-16T01:48:03.553Z","comments":true,"path":"2017/09/12/Android Studio ä½¿ç”¨/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/09/12/Android Studio ä½¿ç”¨/","excerpt":"","text":"Android Studio ä½¿ç”¨ï¼šå‚è€ƒåœ°å€ 1ã€ç§»é™¤æ— ç”¨çš„å¯¼å…¥åŒ…control+option+o 1Optimize Imports 2ã€æŸ¥çœ‹ä¸€ä¸ªç±»çš„ç»§æ‰¿å…³ç³»control+h 1Type Hierarchy 3ã€å¿«é€Ÿé¢„è§ˆæ–¹æ³•command+y 1Quick Definition 4ã€å¿«é€ŸæŸ¥çœ‹é€‰ä¸­æ–¹æ³•çš„å‚æ•°command+p 1Parameter Info 5ã€æœ€è¿‘æ“ä½œã€ä¿®æ”¹çš„æ–‡ä»¶Commond+E1Recent Files 6ã€æŸ¥æ‰¾æ–‡ä»¶option+f1Mainmenu--ã€‹Navigate--ã€‹files 7ã€å¿«é€Ÿé¢„è§ˆå½“å‰ç±»çš„å˜é‡ã€æ–¹æ³•å’Œå†…éƒ¨ç±»Commond+F121Mainmenu--ã€‹Navigate--ã€‹Files Structure 8ã€åˆ‡æ¢å·²æ‰“å¼€çš„æ ‡ç­¾Back ï¼š Commond+[ æˆ– Comond+option+leftForwardï¼š Commond+] æˆ– Comond+option+right1Mainmenu--ã€‹Navigate--ã€‹Back æˆ– Forward 9ã€æŸ¥çœ‹å˜é‡æˆ–è€…æ–¹æ³•åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨option+F71Find Usages 10ã€å¿«é€ŸæŸ¥çœ‹æ–¹æ³•æ–‡æ¡£ æ˜¾ç¤ºå‚æ•°ã€è¯´æ˜ç­‰F11Quick Documentation 11ã€å¿«é€Ÿè¡¥å…¨å®Œæˆcommand + shift + enteræ–¹æ³•ä½“å¤§æ‹¬å·çš„æ·»åŠ ã€è¡Œå°¾åˆ†å·çš„æ·»åŠ ã€è‡ªåŠ¨æ ¼å¼åŒ–æ”¹è¡Œæ“ä½œç­‰1Complete Current Statement 12ã€ç²˜è´´æ¿ç®¡ç†command + shift + v 13ã€ä¹¦ç­¾æ·»åŠ ä¹¦ç­¾ï¼šF3è°ƒå‡ºé¢æ¿ï¼šCommond+F3 14ã€ä»£ç é‡æ„æ¯”å¦‚æ”¹åç­‰é‡æ„å…¥å£ï¼šcontrol+t 15ã€surround WithåŒ…è£¹ä»£ç command + option + T 16ã€Extract æå–ä»£ç option+commond+m 17ã€è°ƒå‡ºä»£ç æ¨¡æ¿Commond+J 18ã€å¤§å°å†™ä¸æ•æ„Ÿ Editor â€“&gt; General â€“&gt; Code Completion è®¾ç½®ä¸ºNone 19ã€è‡ªåŠ¨å¯¼åŒ… Settings â€“&gt; Editor â€“&gt; Auto Import All:æœ‰éœ€è¦å¯¼å…¥çš„åŒ…åæ—¶ï¼Œä¼šè‡ªåŠ¨å¯¼å…¥ï¼Œä¸ä¼šå¼¹æç¤ºæ¡† ASK:æœ‰éœ€è¦å¯¼å…¥çš„åŒ…åæ—¶ï¼Œä¼šå¼¹æç¤ºæ¡†ï¼Œé—®ä½ è¦ä¸è¦å¯¼å…¥ None:æœ‰éœ€è¦å¯¼å…¥çš„åŒ…åæ—¶ï¼Œä¸ä¼šå¼¹æç¤ºæ¡†ï¼Œä¹Ÿä¸ä¼šè‡ªåŠ¨å¯¼å…¥ã€‚ Optimize imports on fly è¿™ä¸ªå…¶å®å’Œå¿«æ·é”®Ctrl+Shift+O/Ctrl+Alt+Oæ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯æŠŠä¸ç”¨çš„å£°æ˜ç§»é™¤æ‰ã€‚ Add unambiguous imports on the fly è¿™ä¸ªå°±æ˜¯è‡ªåŠ¨å¯¼å…¥åŠŸèƒ½äº†ï¼Œå½“ä½ è¾“å…¥ç±»ååï¼Œå£°æ˜å°±è¢«è‡ªåŠ¨å¯¼å…¥äº†ã€‚ Exclude from Import and Completion è¿™ä¸ªå…¶å®å°±æ˜¯ä½ è‡ªå®šä¹‰importã€‚å¯ä»¥ä¸ç”¨å…³æ³¨ï¼Œä¸€èˆ¬æ¥è¯´ä½ æ˜¯ç”¨ä¸ä¸Šçš„ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"AndroidStudio","slug":"AndroidStudio","permalink":"https://github.com/smartsean/smartsean.github.io/tags/AndroidStudio/"},{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android Studioæ¸…é™¤åƒåœ¾èµ„æº","slug":"Android-Studioæ¸…é™¤åƒåœ¾èµ„æº","date":"2017-08-31T09:18:56.000Z","updated":"2018-01-16T03:17:40.559Z","comments":true,"path":"2017/08/31/Android-Studioæ¸…é™¤åƒåœ¾èµ„æº/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/08/31/Android-Studioæ¸…é™¤åƒåœ¾èµ„æº/","excerpt":"","text":"æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ–°å»ºäº†å¾ˆå¤šèµ„æºæ–‡ä»¶ï¼Œç„¶åä¹‹åå°±å¿˜è®°åˆ é™¤ï¼Œä¼šé€ æˆä¸€äº›åƒåœ¾èµ„æºå­˜åœ¨é¡¹ç›®ä¸­ï¼Œæœ€è¿‘å‘ç°å¯ä»¥ä½¿ç”¨ Android Studio è‡ªå¸¦çš„ Analyze æ¥æ‰¾åˆ°è¿™äº›èµ„æºï¼Œç„¶ååˆ é™¤ï¼š ç‚¹å¼€èœå•æ  Analyze ä¸‹é¢çš„ Run Inspection by Nameâ€¦ å‡ºç°è¿™ä¸ªè¾“å…¥æ¡†ï¼š ç„¶åè¾“å…¥ Unused Resuroces ï¼Œç¨ç­‰ç‰‡åˆ»ä¾¿å¯ä»¥æŠŠé¡¹ç›®ä¸­çš„æ— ç”¨èµ„æºåˆ—å‡ºæ¥ï¼Œç„¶åæŒ‰éœ€åˆ é™¤å°±è¡Œäº†ã€‚ é™¤äº†è¿™ä¸ªé‡Œé¢è¿˜æœ‰å¾ˆå¤šæŸ¥æ‰¾çš„ä¸œè¥¿ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»ç ”ç©¶ä¸‹ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"},{"name":"å·¥å…·","slug":"Android/å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å·¥å…·/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"},{"name":"å·¥å…·","slug":"Android/å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/å·¥å…·/"}]},{"title":"è®°ä¸€æ¬¡é¡µé¢æœ‰EditTextæ—¶ï¼Œé”®ç›˜å¼¹å‡ºçš„é—®é¢˜","slug":"è®°ä¸€æ¬¡é¡µé¢æœ‰EditTextæ—¶ï¼Œé”®ç›˜å¼¹å‡ºçš„é—®é¢˜","date":"2017-08-26T14:43:54.000Z","updated":"2018-01-16T03:18:21.656Z","comments":true,"path":"2017/08/26/è®°ä¸€æ¬¡é¡µé¢æœ‰EditTextæ—¶ï¼Œé”®ç›˜å¼¹å‡ºçš„é—®é¢˜/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/08/26/è®°ä¸€æ¬¡é¡µé¢æœ‰EditTextæ—¶ï¼Œé”®ç›˜å¼¹å‡ºçš„é—®é¢˜/","excerpt":"","text":"è®°ä¸€æ¬¡é¡µé¢æœ‰EditTextæ—¶ï¼Œé”®ç›˜å¼¹å‡ºçš„é—®é¢˜å…ˆæ¥çœ‹ä¸€ä¸‹åœ¨ Manifest æ–‡ä»¶é‡Œé¢çš„ Activity é‡Œé¢çš„è¿™ä¸ªå±æ€§ 1android:windowSoftInputMode=&quot;adjustPan|stateHidden&quot; ä»¥ä¸‹ä»‹ç»éƒ¨åˆ†å±äºæ¥è‡ªå®˜æ–¹æ–‡æ¡£ è¿™ä¸ªå±æ€§æ˜¯ Android 1.5ä¹‹åæ¨å‡ºçš„ï¼Œä¸»è¦æ˜¯ä¸ºäº† Activity ä¸è½¯é”®ç›˜çš„äº¤äº’ï¼Œä¸»è¦çš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼š å½“ Activity æˆä¸ºç”¨æˆ·æ³¨æ„çš„ç„¦ç‚¹æ—¶è½¯é”®ç›˜çš„çŠ¶æ€ â€” éšè—è¿˜æ˜¯å¯è§ã€‚ å¯¹ Activity ä¸»çª—å£æ‰€åšçš„è°ƒæ•´ â€” æ˜¯å¦å°†å…¶å°ºå¯¸è°ƒå°ä»¥ä¸ºè½¯é”®ç›˜è…¾å‡ºç©ºé—´ï¼Œæˆ–è€…å½“çª—å£éƒ¨åˆ†è¢«è½¯é”®ç›˜é®æŒ¡æ—¶æ˜¯å¦å¹³ç§»å…¶å†…å®¹ä»¥ä½¿å½“å‰ç„¦ç‚¹å¯è§ã€‚ è¯¥è®¾ç½®å¿…é¡»æ˜¯ä¸‹è¡¨æ‰€åˆ—çš„å€¼ä¹‹ä¸€ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªâ€œstateâ€¦â€å€¼åŠ ä¸Šä¸€ä¸ªâ€œadjustâ€¦â€å€¼çš„ç»„åˆã€‚ åœ¨ä»»ä¸€ç»„ä¸­è®¾ç½®å¤šä¸ªå€¼ï¼ˆä¾‹å¦‚ï¼Œå¤šä¸ªâ€œstateâ€¦â€å€¼ï¼‰éƒ½ä¼šäº§ç”Ÿæœªå®šä¹‰ç»“æœã€‚å„å€¼ä¹‹é—´ä½¿ç”¨å‚ç›´æ¡ (|) åˆ†éš”ã€‚ è¿™é‡Œçš„æ„æ€å°±æ˜¯ï¼Œæ­£å¸¸ä¼šæœ‰ä¸‹é¢çš„å‡ ç§ç»„åˆå½¢å¼ adjustâ€¦ adjustâ€¦+stateâ€¦ stateâ€¦ è€Œä¸èƒ½å†™æˆ adjustâ€¦ stateâ€¦ æ¯”å¦‚ 1&lt;activity android:windowSoftInputMode=&quot;stateVisible|adjustResize&quot; . . . &gt; å±æ€§ä»‹ç»ï¼š stateUnspecifiedï¼šä¸æŒ‡å®šè½¯é”®ç›˜çš„çŠ¶æ€ï¼ˆéšè—è¿˜æ˜¯å¯è§ï¼‰ã€‚ å°†ç”±ç³»ç»Ÿé€‰æ‹©åˆé€‚çš„çŠ¶æ€ï¼Œæˆ–ä¾èµ–ä¸»é¢˜ä¸­çš„è®¾ç½®ã€‚è¿™æ˜¯å¯¹è½¯é”®ç›˜è¡Œä¸ºçš„é»˜è®¤è®¾ç½®ã€‚ stateUnchangedï¼šå½“è¿™ä¸ª activity å‡ºç°æ—¶ï¼Œè½¯é”®ç›˜å°†ä¸€ç›´ä¿æŒåœ¨ä¸Šä¸€ä¸ª activity é‡Œçš„çŠ¶æ€ï¼Œæ— è®ºæ˜¯éšè—è¿˜æ˜¯æ˜¾ç¤º stateHiddenï¼šç”¨æˆ·é€‰æ‹©æ‰“å¼€æ–° activity æ—¶ï¼Œè½¯é”®ç›˜æ€»æ˜¯è¢«éšè—,å¦‚æœæ˜¯ä»å¦å¤–ä¸€ä¸ª Activity è¿”å›æ—¶ï¼Œé‡‡ç”¨é»˜è®¤å€¼(å®˜ç½‘æè¿°ï¼šå½“ç”¨æˆ·é€‰æ‹© Activity æ—¶ â€” ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·ç¡®å®æ˜¯å‘å‰å¯¼èˆªåˆ° Activityï¼Œè€Œä¸æ˜¯å› ç¦»å¼€å¦ä¸€ Activity è€Œè¿”å›æ—¶ â€” éšè—è½¯é”®ç›˜ã€‚) stateAlwaysHiddenï¼šå½“è¯¥ Activity ä¸»çª—å£è·å–ç„¦ç‚¹æ—¶ï¼Œè½¯é”®ç›˜ä¹Ÿæ€»æ˜¯è¢«éšè—çš„ stateVisibleï¼šåœ¨æ­£å¸¸çš„é€‚å®œæƒ…å†µä¸‹ï¼ˆå½“ç”¨æˆ·å‘å‰å¯¼èˆªåˆ° Activity çš„ä¸»çª—å£æ—¶ï¼‰æ˜¾ç¤ºè½¯é”®ç›˜ã€‚ stateAlwaysVisibleï¼šå½“ç”¨æˆ·é€‰æ‹© Activity æ—¶ â€” ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·ç¡®å®æ˜¯å‘å‰å¯¼èˆªåˆ° Activityï¼Œè€Œä¸æ˜¯å› ç¦»å¼€å¦ä¸€ Activity è€Œè¿”å›æ—¶ â€” æ˜¾ç¤ºè½¯é”®ç›˜ã€‚ adjustUnspecifiedï¼šé»˜è®¤è®¾ç½®ï¼Œé€šå¸¸ç”±ç³»ç»Ÿè‡ªè¡Œå†³å®šæ˜¯éšè—è¿˜æ˜¯æ˜¾ç¤ºï¼ˆå®˜ç½‘æè¿°ï¼šä¸æŒ‡å®š Activity çš„ä¸»çª—å£æ˜¯å¦è°ƒæ•´å°ºå¯¸ä»¥ä¸ºè½¯é”®ç›˜è…¾å‡ºç©ºé—´ï¼Œæˆ–è€…çª—å£å†…å®¹æ˜¯å¦è¿›è¡Œå¹³ç§»ä»¥åœ¨å±å¹•ä¸Šæ˜¾éœ²å½“å‰ç„¦ç‚¹ã€‚ ç³»ç»Ÿä¼šæ ¹æ®çª—å£çš„å†…å®¹æ˜¯å¦å­˜åœ¨ä»»ä½•å¯æ»šåŠ¨å…¶å†…å®¹çš„å¸ƒå±€è§†å›¾æ¥è‡ªåŠ¨é€‰æ‹©å…¶ä¸­ä¸€ç§æ¨¡å¼ã€‚ å¦‚æœå­˜åœ¨è¿™æ ·çš„è§†å›¾ï¼Œçª—å£å°†è¿›è¡Œå°ºå¯¸è°ƒæ•´ï¼Œå‰ææ˜¯å¯é€šè¿‡æ»šåŠ¨åœ¨è¾ƒå°åŒºåŸŸå†…çœ‹åˆ°çª—å£çš„æ‰€æœ‰å†…å®¹ã€‚è¿™æ˜¯å¯¹ä¸»çª—å£è¡Œä¸ºçš„é»˜è®¤è®¾ç½®ã€‚ï¼‰ adjustResizeï¼šè¯¥ Activity æ€»æ˜¯è°ƒæ•´å±å¹•çš„å¤§å°ä»¥ä¾¿ç•™å‡ºè½¯é”®ç›˜çš„ç©ºé—´ adjustPanï¼šå½“å‰çª—å£çš„å†…å®¹å°†è‡ªåŠ¨ç§»åŠ¨ä»¥ä¾¿å½“å‰ç„¦ç‚¹ä»ä¸è¢«é”®ç›˜è¦†ç›–å’Œç”¨æˆ·èƒ½æ€»æ˜¯çœ‹åˆ°è¾“å…¥å†…å®¹çš„éƒ¨åˆ†ï¼ˆå®˜ç½‘æè¿°ï¼šä¸è°ƒæ•´ Activity ä¸»çª—å£çš„å°ºå¯¸æ¥ä¸ºè½¯é”®ç›˜è…¾å‡ºç©ºé—´ï¼Œ è€Œæ˜¯è‡ªåŠ¨å¹³ç§»çª—å£çš„å†…å®¹ï¼Œä½¿å½“å‰ç„¦ç‚¹æ°¸è¿œä¸è¢«é”®ç›˜é®ç›–ï¼Œè®©ç”¨æˆ·å§‹ç»ˆéƒ½èƒ½çœ‹åˆ°å…¶è¾“å…¥çš„å†…å®¹ã€‚ è¿™é€šå¸¸ä¸å¦‚å°ºå¯¸è°ƒæ­£å¯å–ï¼Œå› ä¸ºç”¨æˆ·å¯èƒ½éœ€è¦å…³é—­è½¯é”®ç›˜ä»¥åˆ°è¾¾è¢«é®ç›–çš„çª—å£éƒ¨åˆ†æˆ–ä¸è¿™äº›éƒ¨åˆ†è¿›è¡Œäº¤äº’ã€‚ï¼‰ æˆ‘é‡åˆ°çš„é—®é¢˜æˆ‘åœ¨é¦–é¡µç‚¹å‡»æŒ‰é’®è¿›å…¥ä¸‹ä¸ªé¡µé¢ï¼Œè¿›å»ä¹‹åè‡ªåŠ¨å¼¹å‡ºè½¯é”®ç›˜ï¼Œè¿”å›é¡µä¸»é¡µé¢æœ‰ä¸¤ç§æ–¹å¼ æ–¹å¼ä¸€æŒ‰è¿”å›é”®ï¼Œå…ˆæ”¶èµ·è½¯é”®ç›˜ï¼Œå†æŒ‰ä¸€æ¬¡ï¼Œè¿”å›ä¸»é¡µé¢ï¼Œè¿™ç§æƒ…å†µæ˜¯æ²¡æœ‰é—®é¢˜çš„ æ–¹å¼äºŒç›´æ¥ç‚¹å‡»å¯¼èˆªæ çš„è¿”å›æŒ‰é’®ï¼Œè¿”å›ä¸»é¡µé¢ï¼Œè¿™ç§æƒ…å†µç¡®å®è¿”å›äº†ä¸»é¡µé¢ï¼Œä½†æ˜¯è½¯é”®ç›˜å´æ²¡æœ‰è‡ªåŠ¨æ”¶èµ·ã€‚æˆ‘ä¸»é¡µé¢çš„ Activity æ˜¯è®¾ç½®çš„ 1android:windowSoftInputMode=&quot;adjustPan|stateHidden&quot; è®¾ç½®æˆè¿™ä¸¤ä¸ªå±æ€§æ˜¯å› ä¸ºä¸»é¡µé¢æœ‰ä¸ªè¾“å…¥æ¡†ï¼Œå¦‚æœä¸è®¾ç½®çš„è¯ï¼Œè¾“å…¥æ¡†å¼¹èµ·çš„æ—¶å€™ï¼Œä¼šæŠŠåº•éƒ¨çš„ tab æ é¡¶ä¸Šæ¥ã€‚ ä»ä¸Šé¢çš„å±æ€§è¯´æ˜æ¥çœ‹ï¼ŒadjustPan æ˜¯æ­£å¸¸çš„ï¼Œå¯ä»¥å¾ˆå¥½çš„è§£å†³æˆ‘é”®ç›˜å¼¹å‡ºæ—¶ï¼ŒæŠŠåº•éƒ¨ tab æ é¡¶ä¸Šæ¥çš„ bugï¼Œ é‚£ä¹ˆé—®é¢˜ä¸»è¦å°±å‡ºåœ¨ stateHiden è¿™é‡Œï¼Œç”±äºæˆ‘è¿™ä¸ªæ˜¯ä¸»é¡µé¢ï¼Œé¦–æ¬¡è¿›æ¥çš„æ—¶å€™è½¯é”®ç›˜æ˜¯è¢«éšè—çš„ï¼Œå¦‚æœæˆ‘ä»ä¸»é¡µé¢è¿›å…¥ ActivityA ï¼Œåœ¨ActivityA é‡Œé¢æœ‰è¾“å…¥æ¡†ï¼Œæˆ‘ç›´æ¥ç‚¹å‡»å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®å›åˆ°ä¸»é¡µé¢ï¼Œè½¯é”®ç›˜å¹¶ä¸ä¼šè¢«éšè—ï¼Œè¿˜æ˜¯å‡ºç°åœ¨é¡µé¢ä¸­ï¼Œ æœ€ç»ˆè§£å†³åŠæ³•ï¼šç”±äºè¿™ä¸ªæ˜¯ä¸»é¡µé¢ï¼Œæˆ‘ä»¬æƒ³è¦æ¯æ¬¡è¿›æ¥çš„æ—¶å€™ï¼Œè½¯é”®ç›˜éƒ½æ˜¯è¢«éšè—çš„ï¼Œåªéœ€è¦æŠŠ stateHidden æ¢æˆ stateAlwaysHidden æˆ–è€…ç›´æ¥åˆ æ‰å°±å¥½äº†ã€‚ æœ€åï¼Œå¦‚æœéœ€è¦ æ¢¯å­çš„æœ‹å‹ï¼Œå¯ä»¥çœ‹çœ‹è¿™é‡ŒVpnå¼ºåŠ¿æ¨è","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"è®°ä¸€æ¬¡ionicä½¿ç”¨fileæ’ä»¶cordova-plugin-fileçš„å‘","slug":"è®°ä¸€æ¬¡ionicä½¿ç”¨fileæ’ä»¶cordova-plugin-fileçš„å‘","date":"2017-07-25T10:10:00.000Z","updated":"2018-01-16T03:19:29.353Z","comments":true,"path":"2017/07/25/è®°ä¸€æ¬¡ionicä½¿ç”¨fileæ’ä»¶cordova-plugin-fileçš„å‘/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/07/25/è®°ä¸€æ¬¡ionicä½¿ç”¨fileæ’ä»¶cordova-plugin-fileçš„å‘/","excerpt":"","text":"ä»Šå¤©è¦åšä¸€ä¸ªé™„ä»¶ä¸‹è½½çš„åŠŸèƒ½ï¼Œé¦–å…ˆæˆ‘å¾—å…ˆåœ¨æœ¬åœ°å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ä¸‹è½½çš„é™„ä»¶ï¼Œé‚£ä¹ˆæˆ‘å¾—å…ˆåˆ¤æ–­è¿™ä¸ªæ–‡ä»¶å¤¹å­˜åœ¨ä¸å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼Œå°±ç›´æ¥æ”¾åœ¨é‡Œé¢ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±éœ€è¦æ–°å»ºè¿™ä¸ªæ–‡ä»¶å¤¹ã€‚ åœ¨ Android åŸç”Ÿé‡Œé¢åˆ¤æ–­å¾ˆç®€å•ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰ä½¿ç”¨è¿‡è¿™ä¸ª cordova-plugin-file æ’ä»¶,è¿˜æ˜¯æœ‰ç‚¹å‘çš„ã€‚ é¦–å…ˆï¼Œæˆ‘æ‰¾åˆ°äº†å®˜ç½‘çš„ä»‹ç»ï¼š çœ‹åˆ°æ²¡ï¼Œå°±æ˜¯è¿™ä¹ˆçš„é«˜è´µå†·è‰³ï¼Œå¯¹äºä¸€ä¸ªä¸€ç›´å†™åŸç”Ÿçš„æˆ‘æ¥è¯´ï¼ŒçœŸçš„æ˜¯ï¼š å¥½å§ï¼Œé‚£å°±ç°åœ¨ä»£ç é‡Œé¢æ‰¾åˆ°è¿™ä¸ªç©æ„ï¼š ç°åœ¨æ¥åˆ†æä¸‹ï¼š é¦–å…ˆï¼Œä¼šç”¨æ­£åˆ™åˆ¤æ–­æˆ‘ä»¬ä¼ å…¥çš„ dir ï¼Œæ¥ä¸‹æ¥ä¼šæ‹¼æ¥è·¯å¾„å’Œç›®å½•ï¼Œç”Ÿæˆä¸€ä¸ª directory ï¼Œ ç„¶åšå†å»è°ƒç”¨ $window.resolveLocalFileSystemURL è¿™ä¸ªæ–¹æ³•å»åˆ¤æ–­ directory ï¼Œå¦‚æœè¿”å›çš„æˆåŠŸï¼Œé‚£ä¹ˆå°±ä¼š resolve ï¼Œå¤±è´¥ä¼šè¿”å›æˆ‘ä»¬ err çš„ code å’Œ message ï¼› code å’Œ message ä¹Ÿç»™æˆ‘ä»¬å®šä¹‰äº† ç°åœ¨å¾ˆå¼€å¿ƒï¼Œé‚£ä¹ˆç»§ç»­å¾€ä¸‹å†™ã€‚ çœ‹èµ·æ¥å¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œcordova.file.externalRootDirectory æ˜¯è·å–æ‰‹æœºçš„æ ¹ç›®å½•ï¼Œ&#39;i5sesol&#39;æ˜¯æˆ‘ä»¬æ–‡ä»¶å¤¹çš„åå­—ã€‚ä½†æ˜¯ä½ ä¸€è¿è¡Œå°±ä¼šå¾—åˆ°ä¸€ä¸ª ENCODING_ERR çš„é”™è¯¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œä¿®æ”¹ï¼š è¿™æ¬¡å°±å¯ä»¥æˆåŠŸè¿è¡Œäº†ã€‚æ‰€ä»¥ä»¥åå†™ä»£ç çš„æ—¶å€™ï¼Œè¿˜æ˜¯è¦å¤šçœ‹æºç ï¼Œæºç æ‰æ˜¯æœ€å¥½çš„æ–‡æ¡£ã€‚","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":"æˆ‘é¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„å¼€æºé¡¹ç›®ï¼ˆéƒ½æ˜¯ç²¾å“ï¼‰---æŒç»­æ›´æ–°","slug":"æˆ‘é¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„å¼€æºé¡¹ç›®ï¼ˆéƒ½æ˜¯ç²¾å“ï¼‰-æŒç»­æ›´æ–°","date":"2017-07-12T09:41:43.000Z","updated":"2018-01-16T03:20:29.303Z","comments":true,"path":"2017/07/12/æˆ‘é¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„å¼€æºé¡¹ç›®ï¼ˆéƒ½æ˜¯ç²¾å“ï¼‰-æŒç»­æ›´æ–°/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/07/12/æˆ‘é¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„å¼€æºé¡¹ç›®ï¼ˆéƒ½æ˜¯ç²¾å“ï¼‰-æŒç»­æ›´æ–°/","excerpt":"","text":"æƒ³è¦ vpn çš„æœ‹å‹å¯ä»¥å»è¿™é‡Œçœ‹çœ‹Vpnå¼ºåŠ¿æ¨è ä¸€ã€åˆ·æ–°æ¡†æ¶1ã€SmartRefreshLayout2ã€android-Ultra-Pull-To-RefreshäºŒã€å›¾ç‰‡1ã€Glide2ã€PhotoViewå¯ç¼©æ”¾çš„ImageView 3ã€CircleImageViewåœ†è§’å›¾ç‰‡ 4ã€uCropå›¾ç‰‡è£å‰ª 5ã€KenBurnsViewè§†å·®å›¾ç‰‡æ§ä»¶ 6ã€PinchImageViewä½“éªŒéå¸¸å¥½çš„Androidå›¾ç‰‡æ‰‹åŠ¿æ§ä»¶ã€‚ 7ã€PictureSelector 8ã€ImagePicker ä¸‰ã€å®ä¾‹åŒ– View1ã€butterknifeå››ã€æ•°æ®è§£æ1ã€fastjsonäº”ã€æ¶ˆæ¯ä¼ é€’1ã€EventBus2ã€ AndroidEventBus (æš‚æ—¶æ²¡ç”¨è¿‡ï¼Œä»¥åå¯ä»¥è€ƒè™‘)å…­ã€æ²‰æµ¸å¼1ã€ImmersionBarandroid 4.4ä»¥ä¸Šæ²‰æµ¸å¼çŠ¶æ€æ å’Œæ²‰æµ¸å¼å¯¼èˆªæ ç®¡ç†ï¼Œä¸€å¥ä»£ç è½»æ¾å®ç°ï¼Œä»¥åŠå¯¹barçš„å…¶ä»–è®¾ç½®. ä¸ƒã€banner1ã€banneræ”¯æŒçš„ç±»å‹å¦‚ä¸‹ï¼š 2ã€Android-ConvenientBanner3ã€BGABanner-Android å…«ã€Loading1ã€AVLoadingIndicatorViewé‡Œé¢æœ‰å„ç§Viewï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š 2ã€NumberProgressBarè¿›åº¦æ¡ï¼Œå¯ä»¥ç”¨åˆ°ä¸‹è½½é¡µé¢ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š 3ã€mkloaderæ•ˆæœå›¾ï¼š ä¹ã€RecyclerViewç›¸å…³1ã€BaseRecyclerViewAdapterHelperå·ç§°å¯ä»¥å°‘å†™70%çš„ä»£ç ï¼Œå¾ˆå¼ºå¤§ åã€äºŒç»´ç 1ã€BGAQRCode-Androidå¾ˆç®€å•çš„ä¸€ä¸ªé›†æˆäºŒç»´ç çš„æ¡†æ¶ï¼Œç›®å‰åœ¨ä½¿ç”¨ï¼Œæ‰«æé€Ÿåº¦æœ‰å¾…æå‡ 2ã€barcodescanner3ã€zxingåä¸€ã€æœ¬åœ°æ•°æ®åº“1ã€GreenDaoåäºŒã€å¼‚å¸¸æ•è·1ã€acraåä¸‰ã€å¯¹è¯æ¡†1ã€FlycoDialog_Master2ã€material-dialogs3ã€ sweet-alert-dialog14ã€ è§’æ ‡1ã€BadgeView 15ã€Material Design1ã€æœç´¢æ¡†â€”MaterialSearchBar 16ã€Android6.0æƒé™å¤„ç†1ã€RxPermissionså’ŒRxJavaæ›´é…å“¦ã€‚ 2ã€easypermissionsè°·æ­Œæ¨å‡ºçš„ä¸€ä¸ªæƒé™å¤„ç†æ¡†æ¶ 17ã€ä¸‹è½½1ã€RxDownloadå’ŒRxJavaæ›´é…å“¦ã€‚ 2ã€FileDownloader18ã€å†…å­˜æ³„æ¼æ£€æŸ¥1ã€leakcanarySquareå‡ºå“ 19ã€çŠ¶æ€ç›‘æ§1ã€ReactiveNetworkç›‘æ§ç½‘ç»œçŠ¶æ€ï¼Œwith RxJava Observables 20ã€åŠ¨ç”»æ•ˆæœ1ã€SlidingLayoutå®ç°ç±»ä¼¼å¾®ä¿¡WebViewçš„ä¸Šæ‹‰ä¸‹æ‹‰å¼¹è·³æ•ˆæœå’ŒiOSçš„ListViewçš„æœå†»æ•ˆæœ 21ã€å¼•å¯¼é¡µ1ã€SlidingTutorial-Android 22ã€æ¶ˆæ¯æ•°é‡è§’æ ‡1ã€BadgeView æƒ³è¦ vpn çš„æœ‹å‹å¯ä»¥å»è¿™é‡Œçœ‹çœ‹Vpnå¼ºåŠ¿æ¨è","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"},{"name":"Android","slug":"å·¥å…·/Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/Android/"},{"name":"æˆ‘","slug":"å·¥å…·/Android/æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/Android/æˆ‘/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å·¥å…·/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"},{"name":"Android","slug":"å·¥å…·/Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/Android/"},{"name":"æˆ‘","slug":"å·¥å…·/Android/æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/Android/æˆ‘/"}]},{"title":"2017ä¸ŠåŠå¹´å¹´ä¸­æ€»ç»“","slug":"2017ä¸ŠåŠå¹´å¹´ä¸­æ€»ç»“","date":"2017-07-03T16:31:41.000Z","updated":"2018-01-16T03:21:14.065Z","comments":true,"path":"2017/07/04/2017ä¸ŠåŠå¹´å¹´ä¸­æ€»ç»“/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/07/04/2017ä¸ŠåŠå¹´å¹´ä¸­æ€»ç»“/","excerpt":"","text":"å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œä¸æ˜¯æ²¡ä¸œè¥¿å¯ä»¥å†™ï¼Œæ˜¯è‡ªå·±åœ¨å­¦ä¸€ä¸ªçŸ¥è¯†ç‚¹çš„æ—¶å€™ï¼Œæ€»æ„Ÿè§‰å­¦ä¹ çš„è¿˜ä¸å¤Ÿï¼Œæ€»æƒ³å†å­¦å­¦ï¼Œç„¶åå†™å‡ºä¸€ç¯‡å¥½ç‚¹çš„æ–‡ç« ï¼Œå®é™…ä¸Šè¿™æ ·çš„æƒ³æ³•åªä¼šè®©ä¹‹å‰å­¦åˆ°çš„ä¸œè¥¿ä¸€ç‚¹ç‚¹é—å¿˜ï¼Œæ‰€ä»¥ä»¥åè¿˜æ˜¯å­¦åˆ°ç‚¹è¿˜æ˜¯å†™ç‚¹ï¼Œæœ€åå†å›æ¥ä¿®è¡¥ã€‚ è½¬çœ¼é—´2017è¿‡äº†ä¸€åŠäº†ï¼Œçœ‹äº†ä¸‹å¹´åˆçš„æ—¶å€™å®šçš„å°ç›®æ ‡å§ã€‚ ç†è´¢ä¸€ã€åšæŒéšæ‰‹è®°è®°è´¦ï¼ˆ50%ï¼‰ è¿™ä¸€é¡¹åšæŒçš„å¾ˆå¥½ï¼Œæ¯æ¬¡æ¶ˆè´¹éƒ½ä¼šéšæ‰‹è®°å½•ï¼Œå¶å°”å¿˜è®°äº†ï¼Œä¹Ÿä¼šåŠæ—¶çš„è¡¥ä¸Šï¼ŒåŸºæœ¬ä¸Šæ˜¯æ¯å‘¨éƒ½ä¼šè¿›è¡Œä¸€æ¬¡æ ¸ç®—ï¼ŒæŸ¥çœ‹å„ä¸ªè´¦ç›®æ˜¯å¦å‡†ç¡®ï¼Œå¯¹äºä¸€äº›ç†è´¢è´¦æˆ·æ”¶ç›Šï¼Œæš‚æ—¶æ²¡æœ‰è®°å½•ï¼Œä¸‰ä¸ªæœˆè¿›è¡Œä¸€æ¬¡è®°å½•ï¼Œè®°å½•åœ¨ä¸“é—¨çš„ç†è´¢æ”¶ç›Šè´¦æˆ· äºŒã€ ç†è´¢ï¼ˆ50%ï¼‰ å½“åˆè®¡åˆ’æ˜¯åœ¨éšæ‰‹è®°å¹³å°è¿›è¡Œå°é‡‘é¢ç†è´¢ï¼Œä½†æ˜¯ä¹‹ååˆæ¥è§¦äº†å…¶ä»–çš„ç†è´¢å¹³å°ï¼ˆä¸‡æ¶çš„éšæ‰‹è®°ï¼Œä¹‹å‰çš„è´¦å·ä¸ç”¨äº†ï¼Œç»‘å®šçš„èº«ä»½è¯ä¿¡æ¯ä¸èƒ½è§£ç»‘ï¼Œæˆ‘ä¹Ÿæ˜¯é†‰äº†ã€‚åæ§½ä¸€ä¸‹ã€‚ï¼‰ï¼Œç›®å‰çœ‹æ¥éƒ½æŒºé è°±çš„ï¼Œå·²ç»ç­¾çº¦äº†é“¶è¡Œç›‘ç®¡ï¼Œå¸Œæœ›èƒ½é è°±å§ï¼Œå“ˆå“ˆã€‚å¦å¤–ï¼Œä»Šå¹´ä¸ŠåŠå¹´æ¥è§¦äº†è‚¡ç¥¨ï¼Œéƒ½è¯´è‚¡ç¥¨æ˜¯ä¸ªå‘ï¼Œç°åœ¨ç®—æ˜¯è§è¯†åˆ°äº†ï¼Œè™½è¯´è¢«å¥—çš„é’±ä¸æ˜¯å¾ˆå¤šï¼Œä½†æ˜¯ä¹Ÿæ˜¯æœ‰ç‚¹è‚‰ç–¼çš„ï¼Œå¸Œæœ›ç»™åŠ›ç‚¹ï¼Œèµ¶ç´§æ”¾æˆ‘èµ°å§^_^ã€‚ æŠ€æœ¯1. å…³äº Ionicï¼ˆ90%ï¼‰å…¬å¸çš„ä¸€ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨ Ionic è¿›è¡Œå¼€å‘çš„ï¼Œè‡ªå·±ç®—æ˜¯å·²ç»æŒæ¡äº† Ionic å¼€å‘ï¼Œä½†æ˜¯ç°åœ¨å®˜æ–¹å·²ç»æ›´æ–°åˆ° Ionic4 äº†ï¼Œè¯­æ³•ä¹Ÿæ˜¯åŸºäº Angular4 äº†ï¼Œå’Œç°åœ¨è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ï¼ŒåŸºæœ¬éƒ½å˜äº†ï¼Œæ¥ä¸‹æ¥çœ‹å…¬å¸çš„é¡¹ç›®å†³ç­–äº†ï¼šæ˜¯ä½¿ç”¨åŸç”Ÿå¼€å‘è¿˜æ˜¯å‡çº§ Ionic ç‰ˆæœ¬ï¼Œä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå€¾å‘äº å‡çº§ç‰ˆæœ¬çš„ï¼Œå› ä¸ºä½¿ç”¨åŸç”Ÿåšçš„è¯ï¼ŒåŸºæœ¬æ²¡ä»€ä¹ˆæŠ€æœ¯éš¾ç‚¹ï¼Œéƒ½éœ€è¦é‡å¤åŠ³åŠ¨ï¼Œå¦‚æœä½¿ç”¨å‡çº§ Ionic ç‰ˆæœ¬çš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥å­¦ä¹ æ–°çŸ¥è¯†çš„ã€‚å¦å¤–è‡ªå·±å·²ç»èƒ½å¤Ÿå•ç‹¬å»ºç«‹æ–°çš„ Ionic1 é¡¹ç›®ï¼Œè¿›è¡Œå¼€å‘äº†ï¼Œå®Œæˆåº¦ç®—æ˜¯ç™¾åˆ†ä¹‹ç™¾å§ã€‚ 2. å…³äºé‡æ–°å†™è‡ªå·±çš„æ¯•ä¸šè®¾è®¡ Appï¼ˆ0%ï¼‰å»å¹´éƒ½åœ¨æƒ³è¿™ä¸ªäº‹æƒ…äº†ï¼Œå¹´åˆçš„æ—¶å€™ä¹Ÿåˆ—åˆ°äº†è®¡åˆ’é‡Œé¢ï¼Œä½†æ˜¯è¿Ÿè¿Ÿæ²¡æœ‰å¼€å§‹å†™ï¼Œå¯èƒ½æ˜¯å¯¹æ•´ä¸ª App ç•Œé¢è€¿è€¿äºæ€€å§ï¼Œæ¯•ç«Ÿæ˜¯è‡ªå·±æ¯•ä¸šè®¾è®¡ï¼Œè¿˜æ˜¯æƒ³å¥½å¥½æä¸€ä¸‹çš„ï¼Œæ¯•ç«Ÿæ˜¯æœ‰ä¸€å®šçºªå¿µæ„ä¹‰çš„ã€‚ è™½ç„¶æ²¡æœ‰é‡æ–°æ¯•ä¸šè®¾è®¡ App ï¼Œä½†æ˜¯ç§ä¸‹æ—¶é—´ä¹Ÿåšäº†ä¸¤ä¸ªå°çš„ App ï¼š ä¸€ä¸ªæ˜¯åŸºäº Gank.io çš„Appï¼Œè‡ªå·±ä»ä¸­ä¹Ÿå­¦åˆ°äº†å¾ˆå¤šçš„çŸ¥è¯†ï¼Œä¼šåšæŒç»´æŠ¤ä¸‹å»çš„ã€‚ ä¸€ä¸ªæ˜¯ä¸“é—¨ä¸ºè‡ªå·±è®¾è®¡çš„ä¸€ä¸ª App ï¼Œç”¨äºè®°å½•è‡ªå·±çš„å¥èº«æ•°æ®çš„ã€‚æˆ‘æƒ³å¦‚æœæ²¡æœ‰è¿™ä¸ª App è‡ªå·±å¯èƒ½éƒ½ä¸èƒ½åšæŒå¥èº«è¿™ä¹ˆä¹…ã€‚ 3. Android æœªçŸ¥çŸ¥è¯†å­¦ä¹ ï¼ˆ60%ï¼‰ RxJava å­¦ä¹ çš„ RxJava 1.0 çš„ï¼Œè¿˜éœ€è¦ç»§ç»­å­¦ä¹  2.0 ç”¨æ³• Retrofit å­¦ä¹ çš„ RxJava 1.0 çš„ï¼Œè¿˜éœ€è¦ç»§ç»­å­¦ä¹  2.0 ç”¨æ³• EventBus æŒæ¡äº†ç”¨æ³• å‹ç›Ÿå¤šæ¸ é“æ‰“åŒ… å·²åœ¨è‡ªå·±çš„ å¹²è´§App é‡Œé¢ä½¿ç”¨ Gradleç®¡ç† ä¹Ÿæ˜¯åœ¨è‡ªå·±çš„ å¹²è´§App é‡Œé¢ä½¿ç”¨ Handler çœ‹äº†å¾ˆå¤šåšå®¢ï¼Œè‡ªå·±ä¹Ÿäº²è‡ªåŠ¨æ‰‹å®è·µäº†ï¼Œå¹¶æ•´ç†å‡ºäº†åšå®¢ GreenDao ä¹‹å‰ç”¨çš„å…¶å®ƒæ•°æ®åº“æ¡†æ¶ï¼Œå‰æ®µæ—¶é—´å­¦äº†å­¦ï¼Œç›®å‰ç®—æ˜¯æŒæ¡äº† GreenDao çš„ç”¨æ³• è‡ªå®šä¹‰View ç›®å‰å·²ç»èƒ½å¤Ÿå†™å‡ºä¸€äº›è‡ªå®šä¹‰ View ã€‚ ç†Ÿç»ƒä½¿ç”¨Fragment å·²å®Œæˆï¼ŒåŒæ ·æ˜¯åœ¨ å¹²è´§App é‡Œé¢ä½¿ç”¨ ç‰ˆæœ¬æ›´æ–° å…¶å®ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œå½“åˆæƒ³çš„æ¯”è¾ƒå¤æ‚ï¼Œä¸»è¦æ€è·¯å°±æ˜¯è¯·æ±‚æ¥å£æ‹¿åˆ° apk ä¸‹è½½åœ°å€ï¼Œä¸‹è½½å®Œæˆåæ‰“å¼€å®‰è£…ã€‚ WebViewä½¿ç”¨ åŒæ ·æ˜¯åœ¨ å¹²è´§App é‡Œé¢ä½¿ç”¨ æ¥ä¸‹æ¥è¦åšçš„å†…å®¹æœ‰ï¼š è‡ªå®šä¹‰æ§ä»¶ï¼ˆå¤æ‚çš„ï¼Œæ¯”å¦‚å¤šä¸ªæ§ä»¶ç»„åˆã€å¤æ‚æ•°æ®å›¾è¡¨ç­‰ï¼‰ App æ¢è‚¤ Mvpå¼€å‘æ¨¡å¼ Mvvm å¼€å‘æ¨¡å¼ å°è£…å±äºè‡ªå·±çš„ç½‘ç»œæ¡†æ¶ å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„å¼€æºæ§ä»¶ æ‰¾ä¸ªæ—¶é—´æŠŠ æ¯•ä¸šè®¾è®¡ App æå®šäº† å¥åº·ï¼ˆåšæŒä¸­ï¼‰ç›®å‰å·²ç»åšæŒäº† 33 å¤©ï¼Œç˜¦äº†8æ–¤ã€‚è‚Œè‚‰å·²ç»æœ‰é›å½¢äº†ã€‚ å¹³å‡æ¯å¤©è¿åŠ¨ 1.25 å°æ—¶ å¹³å‡æ¯å¤©è·‘æ­¥ 4.64 åƒç±³ å¹³å‡æ¯å¤©ä»°å§èµ·å 50 ä¸ª å¹³å‡æ¯å¤©åŠ›é‡å™¨æ¢° 1.5 ç»„ â€”â€”â€”â€“ æ•°æ®æ¥è‡ªæˆ‘çš„å¥èº« App ç›®å‰ä½“é‡æ˜¯ 68.5 kgï¼Œç›®æ ‡ä½“é‡æ˜¯ 65 kg ï¼Œç»™è‡ªå·±ä¸¤ä¸ªæœˆæ—¶é—´ï¼Œæ…¢æ…¢å‡ï¼Œè¿™æ ·æ¯”è¾ƒå¥åº·ï¼Œä¸æ˜“åå¼¹ã€‚æ„Ÿè§‰ç›®æ ‡è¦æå‰å®ç°äº†ï¼Œå¥½å¼€æ£®^_^ å¨±ä¹å—¯ï¼Œè¿™ä¸ªå…ˆä¸å†™äº†ï¼Œéƒ½æ˜¯æ³ªğŸ˜‚ğŸ˜‚ğŸ˜‚ æˆé•¿1.è®¤çŸ¥ç›®å‰è‡ªå·±æ…¢æ…¢æ„è¯†åˆ°äº†æ—¶é—´çš„é‡è¦æ€§ï¼Œè¦æƒ³æ¯”åˆ«äººå‰å®³ï¼Œå¿…é¡»æ¯”æ¯”äººä»˜å‡ºçš„æ›´å¤šï¼Œä»¥åå°½é‡ä¸è¦ä¸ºäº†ä¸€ç‚¹å…è´¹çš„ä¸œè¥¿ï¼Œå»æµªè´¹å¤§æŠŠçš„æ—¶é—´ï¼Œæ”¶è´¹çš„ç”¨èµ·æ¥å¤§å¤šæ•°éƒ½æ˜¯å¾ˆçœå¿ƒï¼Œèƒ½å¤Ÿæé«˜æ•ˆç‡ã€‚å°ä»˜å‡ºæœ€åèƒ½å¸¦æ¥å¤§æ”¶è·ã€‚ç›®å‰è‡ªå·±ä»˜è´¹çš„äº§å“æœ‰ï¼š é©¬å…‹é£è±¡ å°è±¡ç¬”è®°é«˜çº§ç‰ˆ æ¢¯å­å¹´è´¹ç‰ˆ åŠ å…¥äº† stormzhang çš„å°å¯†åœˆ æ…•è¯¾ç½‘çš„ä¸¤é—¨è¯¾ç¨‹ å—¯ï¼Œä»˜å‡ºå°±æœ‰å›æŠ¥ï¼ 2.çŸ¥è¯†ä½“ç³»ï¼ˆæ­å»ºä¸­ï¼‰å¤§å››çš„æ—¶å€™å°±æƒ³æ­å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼Œæ€»æ˜¯åšæŒä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰è¿™ä¸å¥½ã€é‚£ä¸å¥½ï¼Œæœ€ç»ˆä¸äº†äº†ä¹‹ï¼Œå…¶å®æœ€é‡è¦çš„è¿˜æ˜¯åšæŒç§¯ç´¯ã€‚ç°åœ¨çš„æˆ‘ä½¿ç”¨ OneNote éšæ‰‹è®°å½• ï¼Œå®šæœŸæ•´ç†åˆ°å°è±¡ç¬”è®°ï¼Œæœ‰é“äº‘ç¬”è®°åˆ™å­˜å‚¨ä¸ªäººä¿¡æ¯ï¼Œç®€ä¹¦åˆ™ç”¨æ¥å†™åšå®¢ã€‚æˆ‘ç›¸ä¿¡åšæŒæ¯å¤©è®°å½•ï¼Œå¹´åº•è‚¯å®šä¼šæœ‰å¤§çš„æ”¶è·ã€‚ 3.è‹±è¯­ï¼ˆåšæŒä¸­ï¼‰ç°åœ¨è¶Šæ¥è¶Šæ„Ÿè§‰åˆ°è‹±è¯­çš„é‡è¦æ€§ï¼Œæ‰€ä»¥ç°åœ¨æ¯å¤©åšæŒåœ¨ ç™¾è¯æ–© èƒŒå•è¯ï¼Œæ¯å¤©èƒŒ 25 ä¸ªï¼ŒåŒæ—¶å¤ä¹ ä»¥å‰çš„å•è¯ï¼Œè¿™ç§ä¸œè¥¿è¿˜æ˜¯æœ‰ç‚¹ç”¨çš„ï¼Œç°åœ¨çœ‹è‹±æ–‡æ–‡æ¡£æœ€èµ·ç ä¸ä¼šææƒ§ï¼Œä¼šè€ç€æ€§å­çœ‹ä¸‹å»ï¼Œæœ€åå‘ç°å…¶å®è‡ªå·±è¿˜æ˜¯èƒ½çœ‹æ‡‚çš„ï¼Œè¿™ä¹Ÿç®—æ˜¯åšæŒèƒŒå•è¯çš„æ„å¤–æ”¶è·å§ã€‚ åšæŒä¸‹å»ï¼Œè¾¾åˆ°è‡ªå·±æƒ³è¦çš„æ•ˆæœçš„æ—¶å€™ï¼Œä¼šè¿›è¡Œä¸€å¤§æ³¢å¥–åŠ±ğŸ˜ğŸ˜ğŸ˜ğŸ€„ï¸ æœ€åç¬¬ä¸€æ¬¡å†™å¹´åˆè®¡åˆ’ï¼Œæœ‰å¾ˆå¤šæ²¡æƒ³åˆ°çš„åœ°æ–¹ï¼Œä¹Ÿæœ‰æƒ³çš„å¤ªå¤šçš„åœ°æ–¹ã€‚ç¬¬ä¸€æ¬¡å†™å¹´ä¸­æ€»ç»“ï¼Œæœ‰å¾ˆå¤šæ€»ç»“çš„ä¸å¥½ã€å±•æœ›ä¸æ˜¯å¾ˆæ¸…æ™°çš„åœ°æ–¹ã€‚ ä¸ç®¡æ€æ ·ï¼Œåšå¾—è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†èƒ½é‡åˆ°æ›´å¥½çš„è‡ªå·±ï¼ŒåŠ æ²¹å§ï¼ å¹´åº•è§ï¼","categories":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}],"tags":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/tags/æˆ‘/"}],"keywords":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}]},{"title":"WebViewä½¿ç”¨","slug":"WebViewä½¿ç”¨","date":"2017-07-03T13:47:41.000Z","updated":"2018-01-16T03:22:14.098Z","comments":true,"path":"2017/07/03/WebViewä½¿ç”¨/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/07/03/WebViewä½¿ç”¨/","excerpt":"","text":"ç”±äºå‰æ®µæ—¶é—´çš„é¡¹ç›®å¯¹WebViewçš„ä½¿ç”¨è¾ƒå¤šï¼Œå› æ­¤æ€»ç»“ä¸€ä¸‹é¡¹ç›®ä¸­WebViewçš„ä½¿ç”¨ä½¿ç”¨è¿‡ç¨‹ï¼Œä»¥åŠä¸€äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹ WebView åœ¨å¤§éƒ¨åˆ†çš„WebAppä¸­ä½¿ç”¨ç›¸å½“å¹¿æ³›ï¼Œå¤„ç†å¥½WebViewä¹Ÿæ˜¯ä¸€ä¸ªWebAppçš„å…³é”® ç›®å‰çš„WebViewæ˜¯åŸºäºwebkit å†…æ ¸æµè§ˆå™¨å¹¶ä¸”å°è£…åœ¨android çš„sdk å½“ä¸­ï¼Œå¹¶ä¸”WebViewåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ åŠ è½½ç½‘ç«™urlå’ŒåŠ è½½æœ¬åœ°htmlé¡µé¢ å¯ä»¥ä¸JavaScriptä»£ç è¿›è¡Œäº¤äº’ webviewæ§ä»¶å¯ä»¥é«˜åº¦è¿›è¡Œå®šåˆ¶ åœ¨WebViewä½¿ç”¨è¿‡ç¨‹ä¸­åº”å½“æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š åœ¨AndroidManifest.xml ä¸­æ·»åŠ ç½‘ç»œè®¿é—®æƒé™ &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;åœ¨WebViewä¸­æœ‰ä¸€ä¸ªè¾…åŠ©ç±»WebSettingsï¼Œé€šè¿‡ä»–ç®¡ç†WebViewçš„ä¸€äº›çŠ¶æ€ä»¥åŠæ’ä»¶12// webviewå¯ç”¨javascriptæ”¯æŒ ç”¨äºè®¿é—®é¡µé¢ä¸­çš„javascriptwebSettings.setJavaScriptEnabled(true); 12//è®¾ç½®WebViewç¼“å­˜æ¨¡å¼ é»˜è®¤æ–­ç½‘æƒ…å†µä¸‹ä¸ç¼“å­˜webSettings.setCacheMode(WebSettings.LOAD_DEFAULT); 12//æ–­ç½‘æƒ…å†µä¸‹åŠ è½½æœ¬åœ°ç¼“å­˜webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);&#125; 12//è®©WebViewæ”¯æŒDOM storage APIwebSettings.setDomStorageEnabled(true); 12//è®©WebViewæ”¯æŒç¼©æ”¾webSettings.setSupportZoom(true); 12//å¯ç”¨WebViewå†…ç½®ç¼©æ”¾åŠŸèƒ½webSettings.setBuiltInZoomControls(true); 12//è®©WebViewæ”¯æŒå¯ä»»æ„æ¯”ä¾‹ç¼©æ”¾webSettings.setUseWideViewPort(true); 12//è®©WebViewæ”¯æŒæ’­æ”¾æ’ä»¶webSettings.setPluginState(WebSettings.PluginState.ON); 12//è®¾ç½®WebViewä½¿ç”¨å†…ç½®ç¼©æ”¾æœºåˆ¶æ—¶ï¼Œæ˜¯å¦å±•ç°åœ¨å±å¹•ç¼©æ”¾æ§ä»¶ä¸ŠwebSettings.setDisplayZoomControls(false); 12//è®¾ç½®åœ¨WebViewå†…éƒ¨æ˜¯å¦å…è®¸è®¿é—®æ–‡ä»¶webSettings.setAllowFileAccess(true); 12//è®¾ç½®WebViewçš„è®¿é—®UserAgentwebSettings.setUserAgentString(WebViewUtil.getUserAgent(getActivity(), webSettings)); 12//è®¾ç½®è„šæœ¬æ˜¯å¦å…è®¸è‡ªåŠ¨æ‰“å¼€å¼¹çª—webSettings.setJavaScriptCanOpenWindowsAutomatically(true); 123456// åŠ å¿«HTMLç½‘é¡µåŠ è½½å®Œæˆé€Ÿåº¦ if (Build.VERSION.SDK_INT &gt;= 19) &#123; settings.setLoadsImagesAutomatically(true);&#125; else &#123; settings.setLoadsImagesAutomatically(false); &#125; 12// å¼€å¯Application H5 Caches åŠŸèƒ½ settings.setAppCacheEnabled(true); 12// è®¾ç½®ç¼–ç æ ¼å¼settings.setDefaultTextEncodingName(&quot;utf-8&quot;); 3.å½“é¡µé¢éœ€è¦è°ƒç”¨æˆ‘ä»¬ä¸€äº›åŸç”Ÿnativeçš„åŠŸèƒ½æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æˆ‘ä»¬è‡ªå®šä¹‰çš„JSæ¥å£å»å®ç° 12//è®¾ç½®WebView JavaScriptæ¥å£å¯ä»¥ä¾›é¡µé¢JSè°ƒç”¨mWebView.addJavascriptInterface(new JsInterface(), AppUtil.KEY_JS_INTERFACE_NAME); é€šè¿‡ä¸‹é¢å®šä¹‰æ¥å£ä¸­çš„æ–¹æ³•ï¼Œå¦‚æœæ¶‰åŠåˆ°ä¸€äº›uiç•Œé¢ä¸Šçš„å¤„ç†å’Œæ“ä½œçš„è¯ï¼Œéœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸­è¿›è¡Œ 123456789101112//æ¥å£ç±»public class JsInterface &#123; public JsInterface() &#123; @JavascriptInterface public void showToast(String msg, int delayType) &#123; Message message = new Message(); message.what = SHOW_TOAST; message.arg1 = delayType; message.obj = msg;mHandler.sendMessage(message); &#125; &#125;&#125; 4.è®¾å®šWebViewClientå’ŒWebChromeClientå®ç°WebViewæ›´å¤šåŠŸèƒ½ é€šè¿‡è®¾ç½®WebViewClientè·å–é¡µé¢æ ‡é¢˜ä¸é¡µé¢ä¸­è¿æ¥è·³è½¬çš„å¤„ç† 123456789101112131415161718192021mWebView.setWebViewClient(new WebViewClient() &#123; @Override public void onPageFinished(WebView view, String url) &#123; //å¯ä»¥è·å–åˆ°WebViewçš„æ ‡é¢˜Title setTitle(view.getTitle()); super.onPageFinished(view, url); &#125; @Override public boolean shouldOverrideUrlLoading(WebView view, String url) &#123; //WebVeiwä¸­è¿æ¥è·³è½¬è¿›è¡Œå¤„ç†è·³è½¬åˆ°æ–°çš„Activity if (WebIntentUtil.isDetailsPage(url)) &#123; Intent intent = new Intent(EmbeddedBrowserActivity.this, DetailsActivity.class); intent.putExtra(BbsServerUtil.KEY_URL, url); startActivity(intent); return true; &#125; else &#123; return super.shouldOverrideUrlLoading(view, url); &#125; &#125;&#125;);","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Javaå¤šçº¿ç¨‹","slug":"Javaå¤šçº¿ç¨‹","date":"2017-05-09T08:39:00.000Z","updated":"2018-01-16T03:15:27.751Z","comments":true,"path":"2017/05/09/Javaå¤šçº¿ç¨‹/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/05/09/Javaå¤šçº¿ç¨‹/","excerpt":"","text":"å†™åœ¨å‰é¢çš„è¯ï¼šè¿™ç¯‡åšå®¢æ˜¯æˆ‘ä»è¿™é‡Œâ€œè½¬è½½â€çš„ï¼Œä¸ºä»€ä¹ˆè½¬è½½ä¸¤ä¸ªå­—åŠ â€œâ€å‘¢ï¼Ÿå› ä¸ºè¿™ç»ä¸æ˜¯ç®€å•çš„å¤åˆ¶ç²˜è´´ï¼Œæˆ‘èŠ±äº†äº”å…­ä¸ªå°æ—¶å¯¹å…¶ä¸­æ¯ä¸€è¡Œçš„ä»£ç éƒ½æœ‰è®¤çœŸçš„ç»ƒä¹ ï¼Œå¯¹å…¶ä¸­çš„ä¸€äº›å°é”™è¯¯è¿›è¡Œè°ƒæ•´ï¼Œå¹¶ä¸”é‡æ–°æ’ç‰ˆï¼Œå¸Œæœ›é€šè¿‡æœ¬ç¯‡åšå®¢å¯ä»¥è®©è‡ªå·±å¯¹ Java å¤šçº¿ç¨‹æœ‰æ›´å¥½çš„ç†è§£ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©æ­£åœ¨å­¦ä¹ å¤šçº¿ç¨‹çš„ä½ ã€‚ æ­¤æ–‡åªèƒ½è¯´æ˜¯ Java å¤šçº¿ç¨‹çš„ä¸€ä¸ªå…¥é—¨ï¼Œå…¶å®Javaé‡Œå¤´çº¿ç¨‹å®Œå…¨å¯ä»¥å†™ä¸€æœ¬ä¹¦äº†ï¼Œä½†æ˜¯å¦‚æœæœ€åŸºæœ¬çš„ä½ éƒ½æ²¡æŒæ¡å¥½ï¼Œåˆæ€ä¹ˆèƒ½æ›´ä¸Šä¸€ä¸ªå°é˜¶å‘¢ï¼Ÿå¦‚æœä½ è§‰å¾—æ­¤æ–‡å¾ˆç®€å•ï¼Œé‚£æ¨èä½ çœ‹çœ‹Javaå¹¶å‘åŒ…çš„çš„çº¿ç¨‹æ± ï¼ˆJava å¹¶å‘ç¼–ç¨‹ä¸æŠ€æœ¯å†…å¹•:çº¿ç¨‹æ± æ·±å…¥ç†è§£ï¼‰ï¼Œæˆ–è€…çœ‹è¿™ä¸ªä¸“æ ï¼šJava å¹¶å‘ç¼–ç¨‹ä¸æŠ€æœ¯å†…å¹•ã€‚ä½ å°†ä¼šå¯¹ Java é‡Œå¤´çš„é«˜å¹¶å‘åœºæ™¯ä¸‹çš„çº¿ç¨‹æœ‰æ›´åŠ æ·±åˆ»çš„ç†è§£ æœ¬æ–‡ä¸»è¦è®²äº† Java ä¸­å¤šçº¿ç¨‹çš„ä½¿ç”¨æ–¹æ³•ã€çº¿ç¨‹åŒæ­¥ã€çº¿ç¨‹æ•°æ®ä¼ é€’ã€çº¿ç¨‹çŠ¶æ€åŠç›¸åº”çš„ä¸€äº›çº¿ç¨‹å‡½æ•°ç”¨æ³•ã€æ¦‚è¿°ç­‰ã€‚åœ¨è¿™ä¹‹å‰ï¼Œé¦–å…ˆè®©æˆ‘ä»¬æ¥äº†è§£ä¸‹åœ¨æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼š è¿›ç¨‹ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ä»£ç å’Œæ•°æ®ç©ºé—´ï¼ˆè¿›ç¨‹ä¸Šä¸‹æ–‡ï¼‰ï¼Œè¿›ç¨‹é—´çš„åˆ‡æ¢ä¼šæœ‰è¾ƒå¤§çš„å¼€é”€ï¼Œä¸€ä¸ªè¿›ç¨‹åŒ…å«1â€“nä¸ªçº¿ç¨‹ã€‚ï¼ˆè¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼‰ çº¿ç¨‹ï¼šåŒä¸€ç±»çº¿ç¨‹å…±äº«ä»£ç å’Œæ•°æ®ç©ºé—´ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨(PC)ï¼Œçº¿ç¨‹åˆ‡æ¢å¼€é”€å°ã€‚ï¼ˆçº¿ç¨‹æ˜¯ cpu è°ƒåº¦çš„æœ€å°å•ä½ï¼‰ çº¿ç¨‹å’Œè¿›ç¨‹ä¸€æ ·åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼šåˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€ç»ˆæ­¢ã€‚ å¤šè¿›ç¨‹æ˜¯æŒ‡æ“ä½œç³»ç»Ÿèƒ½åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆç¨‹åºï¼‰ã€‚ å¤šçº¿ç¨‹æ˜¯æŒ‡åœ¨åŒä¸€ç¨‹åºä¸­æœ‰å¤šä¸ªé¡ºåºæµåœ¨æ‰§è¡Œã€‚ åœ¨ Java ä¸­è¦æƒ³å®ç°å¤šçº¿ç¨‹ï¼Œæœ‰ä¸¤ç§æ‰‹æ®µï¼š ä¸€ç§æ˜¯ç»§æ‰¿ Thread ç±»ï¼› ä¸€ç§æ˜¯å®ç° Runnable æ¥å£. å…¶å®å‡†ç¡®æ¥è®²ï¼Œåº”è¯¥æœ‰ä¸‰ç§ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯å®ç° Callable æ¥å£ï¼Œå¹¶ä¸ Futureã€çº¿ç¨‹æ± ç»“åˆä½¿ç”¨ï¼Œæ­¤æ–‡ä¸è®²è¿™ä¸ªï¼Œæœ‰å…´è¶£çœ‹è¿™é‡Œ Java å¹¶å‘ç¼–ç¨‹ä¸æŠ€æœ¯å†…å¹•ï¼šCallableã€Futureã€FutureTaskã€CompletionService ä¸€ã€æ‰©å±•java.lang.Threadç±»è¿™é‡Œç»§æ‰¿ Thread ç±»çš„æ–¹æ³•æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§ï¼Œå¦‚æœè¯´ä½ åªæ˜¯æƒ³é‡æ–°å¼€å¯ä¸€æ¡çº¿ç¨‹ã€‚æ²¡æœ‰ä»€ä¹ˆå…¶å®ƒç‰¹æ®Šçš„è¦æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ Thread ï¼Œï¼ˆç¬”è€…æ¨èä½¿ç”¨ Runnable ï¼Œåå¤´ä¼šè¯´æ˜ä¸ºä»€ä¹ˆï¼‰ã€‚ä¸‹é¢æ¥çœ‹ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334/** * Created by Sean on 2017/5/9. */class Thread1 extends Thread &#123; private String threadName; // ç”¨äºæ ‡ç¤ºä¸åŒçš„çº¿ç¨‹ public Thread1(String threadName) &#123; this.threadName = threadName; &#125; @Override public void run() &#123; super.run(); for (int i = 0; i &lt; 5; i++) &#123; System.out.println(threadName + &quot;è¿è¡Œï¼Œæ­¤æ—¶çš„ i = &quot; + i); try &#123; sleep((int) Math.random() * 10); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;public class Main &#123; public static void main(String[] args) &#123; System.out.println(&quot;Hello World!&quot;); Thread1 thread1 = new Thread1(&quot;æˆ‘æ˜¯Açº¿ç¨‹&quot;); Thread1 thread2 = new Thread1(&quot;æˆ‘æ˜¯Bçº¿ç¨‹&quot;); thread1.start(); thread2.start(); &#125;&#125; è¿è¡Œç»“æœï¼š è¯´æ˜ï¼š ç¨‹åºå¯åŠ¨è¿è¡Œ main æ—¶å€™ï¼Œ java è™šæ‹Ÿæœºå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸»çº¿ç¨‹ main åœ¨ main() è°ƒç”¨æ—¶å€™è¢«åˆ›å»ºã€‚éšç€è°ƒç”¨ Thread1 çš„ä¸¤ä¸ªå¯¹è±¡çš„ start æ–¹æ³•ï¼Œå¦å¤–ä¸¤ä¸ªçº¿ç¨‹ä¹Ÿå¯åŠ¨äº†ï¼Œè¿™æ ·ï¼Œæ•´ä¸ªåº”ç”¨å°±åœ¨å¤šçº¿ç¨‹ä¸‹è¿è¡Œã€‚ æ³¨æ„ï¼š start() æ–¹æ³•çš„è°ƒç”¨åå¹¶ä¸æ˜¯ç«‹å³æ‰§è¡Œå¤šçº¿ç¨‹ä»£ç ï¼Œè€Œæ˜¯ä½¿å¾—è¯¥çº¿ç¨‹å˜ä¸ºå¯è¿è¡Œæ€ï¼ˆRunnableï¼‰ï¼Œä»€ä¹ˆæ—¶å€™è¿è¡Œæ˜¯ç”±æ“ä½œç³»ç»Ÿå†³å®šçš„ã€‚ ä»ç¨‹åºè¿è¡Œçš„ç»“æœå¯ä»¥å‘ç°ï¼Œå¤šçº¿ç¨‹ç¨‹åºæ˜¯ä¹±åºæ‰§è¡Œã€‚å› æ­¤ï¼Œåªæœ‰ä¹±åºæ‰§è¡Œçš„ä»£ç æ‰æœ‰å¿…è¦è®¾è®¡ä¸ºå¤šçº¿ç¨‹ã€‚ Thread.sleep() æ–¹æ³•è°ƒç”¨ç›®çš„æ˜¯ä¸è®©å½“å‰çº¿ç¨‹ç‹¬è‡ªéœ¸å è¯¥è¿›ç¨‹æ‰€è·å–çš„ CPU èµ„æºï¼Œä»¥ç•™å‡ºä¸€å®šæ—¶é—´ç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œçš„æœºä¼šã€‚ å®é™…ä¸Šæ‰€æœ‰çš„å¤šçº¿ç¨‹ä»£ç æ‰§è¡Œé¡ºåºéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼Œæ¯æ¬¡æ‰§è¡Œçš„ç»“æœéƒ½æ˜¯éšæœºçš„ã€‚ æ­¤å¤– start() æ–¹æ³•é‡å¤è°ƒç”¨çš„è¯ï¼Œä¼šå‡ºç°java.lang.IllegalThreadStateExceptionå¼‚å¸¸ã€‚ æ¯”å¦‚æŠŠ Main ç±»ä»£ç æ”¹æˆä¸‹é¢ï¼š12345678public class Main &#123; public static void main(String[] args) &#123; Thread1 thread1 = new Thread1(&quot;æˆ‘æ˜¯Açº¿ç¨‹&quot;); thread1.start(); thread1.start(); &#125;&#125; ç»“æœå¦‚ä¸‹ï¼š äºŒã€å®ç° java.lang.Runnable æ¥å£é‡‡ç”¨ Runnable ä¹Ÿæ˜¯éå¸¸å¸¸è§çš„ä¸€ç§ï¼Œæˆ‘ä»¬åªéœ€è¦é‡å†™ run() å³å¯ã€‚ä¸‹é¢ä¹Ÿæ¥çœ‹ä¸ªå®ä¾‹ã€‚ ä½¿ç”¨ç»§æ‰¿ Thread å®ç°å…±äº«çš„é”™è¯¯ç¤ºèŒƒ1234567891011121314151617181920212223242526272829303132/** * Created by Sean on 2017/5/9. */class Thread2 implements Runnable &#123; private String threadName; public Thread2(String threadName) &#123; this.threadName = threadName; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 5; i++) &#123; System.out.println(threadName + &quot;è¿è¡Œï¼Œæ­¤æ—¶çš„ i = &quot; + i); try &#123; Thread.sleep((int) Math.random() * 10); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;public class Main2 &#123; public static void main(String[] args) &#123; new Thread(new Thread2(&quot;æˆ‘æ˜¯åœ¨Açº¿ç¨‹ä¸­&quot;)).start(); new Thread(new Thread2(&quot;æˆ‘æ˜¯åœ¨Bçº¿ç¨‹ä¸­&quot;)).start(); &#125;&#125; ç»“æœï¼š è¯´æ˜ï¼š Thread2 ç±»æ˜¯é€šè¿‡å®ç° Runnable æ¥å£ï¼Œä½¿è¯¥ç±»æœ‰äº†å¤šçº¿ç¨‹ç±»çš„ç‰¹å¾ï¼Œ run() æ–¹æ³•æ˜¯å¤šçº¿ç¨‹ç¨‹åºçš„ä¸€ä¸ªçº¦å®šï¼Œæ‰€æœ‰çš„å¤šçº¿ç¨‹ä»£ç éƒ½åœ¨ run() æ–¹æ³•é‡Œé¢ï¼Œ äº‹å®ä¸Šï¼Œ Thread ç±»ä¹Ÿæ˜¯å®ç°äº† Runnable æ¥å£çš„ç±»ã€‚ åœ¨å¯åŠ¨å®ç°äº† Runnable æ¥å£çš„ç±»çš„å¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œéœ€è¦å…ˆé€šè¿‡ Thread ç±»çš„æ„é€ æ–¹æ³• Thread(Runanable target) æ„é€ å‡º Thread å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ Thread å¯¹è±¡çš„ start() æ–¹æ³•æ¥å¼€å¯çº¿ç¨‹ï¼Œè¿è¡Œ run() æ–¹æ³•é‡Œé¢çš„å¤šçº¿ç¨‹ä»£ç ï¼ˆè¿™ä¸ªrun() æ–¹æ³•ä¸éœ€è¦å¼€å‘è€…æ‰‹åŠ¨è°ƒç”¨ï¼Œä¼šåœ¨æ“ä½œç³»ç»Ÿåˆ†ç»™è¯¥çº¿ç¨‹æ—¶é—´ç‰‡çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œï¼‰ å®é™…ä¸Šæ‰€æœ‰çš„å¤šçº¿ç¨‹ä»£ç éƒ½æ˜¯é€šè¿‡è¿è¡Œ Thread çš„ start() æ–¹æ³•æ¥è¿è¡Œçš„ã€‚å› æ­¤ï¼Œä¸ç®¡æ˜¯æ‰©å±• Thread ç±»è¿˜æ˜¯å®ç° Runnable æ¥å£æ¥å®ç°å¤šçº¿ç¨‹ï¼Œæœ€ç»ˆè¿˜æ˜¯é€šè¿‡ Thread çš„å¯¹è±¡çš„ API æ¥æ§åˆ¶çº¿ç¨‹çš„ï¼Œç†Ÿæ‚‰ Thread ç±»çš„ API æ˜¯è¿›è¡Œå¤šçº¿ç¨‹ç¼–ç¨‹çš„åŸºç¡€ã€‚ ä¸‰ã€Threadå’ŒRunnableçš„åŒºåˆ« å¦‚æœä¸€ä¸ªç±»ç»§æ‰¿ Threadï¼Œåˆ™ä¸é€‚åˆèµ„æºå…±äº«ã€‚ä½†æ˜¯å¦‚æœå®ç°äº† Runable æ¥å£çš„è¯ï¼Œåˆ™å¾ˆå®¹æ˜“çš„å®ç°èµ„æºå…±äº«ã€‚ ä¸Šé¢è¿™å¥è¯æ˜¯åŸåšå®¢é‡Œé¢ç»™å‡ºçš„ï¼Œæˆ‘è®¤ä¸ºæ˜¯æœ‰ç‘•ç–µçš„ã€‚ ä»¥å–ç¥¨ç¨‹åºä¸ºä¾‹ï¼Œä¸‹é¢æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¿™æ ·è¯´ï¼š ä½¿ç”¨ç»§æ‰¿ Thread çš„æ–¹å¼å…±äº«çš„é”™è¯¯ç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738/** * Created by Sean on 2017/5/9. */class Thread3 extends Thread &#123; private String threadName; private int ticket = 5; public Thread3(String threadName) &#123; this.threadName = threadName; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 5; i++) &#123; synchronized (this) &#123; if (ticket &gt; 0)&#123; System.out.println(threadName + &quot;è¿è¡Œï¼Œæ­¤æ—¶çš„ i = &quot; + i+&quot; å‰©ä½™ç¥¨æ•°&quot; + this.ticket--); &#125; &#125; try &#123; sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;public class Main3 &#123; public static void main(String[] args)&#123; Thread3 thread1 = new Thread3(&quot;æˆ‘æ˜¯åœ¨Açº¿ç¨‹ä¸­&quot;); Thread3 thread2 = new Thread3(&quot;æˆ‘æ˜¯åœ¨Bçº¿ç¨‹ä¸­&quot;); Thread3 thread3 = new Thread3(&quot;æˆ‘æ˜¯åœ¨Cçº¿ç¨‹ä¸­&quot;); thread1.start(); thread2.start(); thread3.start(); &#125;&#125; ç»“æœï¼š ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¼€å¯äº†ä¸‰ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å–äº†5å¼ ç¥¨ï¼Œè¿™æ˜æ˜¾æ˜¯ä¸åˆç†çš„ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹ç”¨ Runnable æ¥å®ç°å…±äº« 5 å¼ ç¥¨çš„ä¾‹å­ ä½¿ç”¨å®ç° Runnable å®ç°å…±äº«ç¥¨æ•°1234567891011121314151617181920212223242526272829303132333435import static java.lang.Thread.currentThread;import static java.lang.Thread.sleep;/** * Created by Sean on 2017/5/9. */class Thread4 implements Runnable &#123; private int ticket = 5; @Override public void run() &#123; for (int i = 0; i &lt; 5; i++) &#123; synchronized (this) &#123; if (ticket &gt; 0) &#123; System.out.println(currentThread().getName() + &quot;è¿è¡Œï¼Œæ­¤æ—¶çš„ i = &quot; + i + &quot; å‰©ä½™ç¥¨æ•°&quot; + this.ticket--); &#125; &#125; try &#123; sleep(400); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;public class Main4 &#123; public static void main(String[] args) &#123; Thread4 thread1 = new Thread4(); new Thread(thread1, &quot;æˆ‘æ˜¯åœ¨Açº¿ç¨‹ä¸­&quot;).start(); new Thread(thread1, &quot;æˆ‘æ˜¯åœ¨Bçº¿ç¨‹ä¸­&quot;).start(); new Thread(thread1, &quot;æˆ‘æ˜¯åœ¨Cçº¿ç¨‹ä¸­&quot;).start(); &#125;&#125; è¿è¡Œç»“æœï¼š å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç”¨å®ç° Runnable æ¥å£çš„æ–¹å¼å®ç°äº†èµ„æºçš„å…±äº«ã€‚ é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨ç»§æ‰¿ Thread çš„æ–¹å¼å°±çœŸçš„æ²¡æ³•å®ç°èµ„æºå…±äº«å—ï¼Ÿ ç­”æ¡ˆæ˜¯ NOï¼ å¾€ä¸‹çœ‹ã€‚ ä½¿ç”¨ç»§æ‰¿ Thread çš„æ–¹å¼å…±äº«çš„æ­£ç¡®ç¤ºä¾‹æˆ‘ä»¬å…ˆçœ‹ä¸‹é¢çš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132/** * Created by Sean on 2017/5/9. */class Thread5 extends Thread &#123; private int ticket = 5; @Override public void run() &#123; for (int i = 0; i &lt; 5; i++) &#123; synchronized (this) &#123; if (ticket &gt; 0) &#123; System.out.println(currentThread().getName() + &quot;è¿è¡Œï¼Œæ­¤æ—¶çš„ i = &quot; + i + &quot; å‰©ä½™ç¥¨æ•°&quot; + this.ticket--); &#125; &#125; try &#123; sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;public class Main5 &#123; public static void main(String[] args) &#123; Thread5 thread1 = new Thread5(); new Thread(thread1, &quot;æˆ‘æ˜¯åœ¨Açº¿ç¨‹ä¸­&quot;).start(); new Thread(thread1, &quot;æˆ‘æ˜¯åœ¨Bçº¿ç¨‹ä¸­&quot;).start(); new Thread(thread1, &quot;æˆ‘æ˜¯åœ¨Cçº¿ç¨‹ä¸­&quot;).start(); &#125;&#125; è¿è¡Œç»“æœï¼š å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æˆ‘ä»¬ä½¿ç”¨äº†ç»§æ‰¿ Thread çš„æ–¹å¼æ¥å®ç°çº¿ç¨‹ç±»ï¼Œæœ€åæˆ‘ä»¬ä¹ŸåŒæ ·å®ç°äº†å¤šçº¿ç¨‹ä¸­èµ„æºçš„å…±äº«ã€‚ ä»è€Œå¯ä»¥åˆ¤æ–­ï¼ŒåŸåšå®¢çš„è¯æ˜¯æœ‰ä¸€å®šé”™è¯¯çš„ã€‚ ä¸‹é¢çœ‹ä¸€ä¸‹æ€»ç»“ï¼š å®ç° Runnable æ¥å£æ¯”ç»§æ‰¿ Thread ç±»æ‰€å…·æœ‰çš„ä¼˜åŠ¿ï¼š å¯ä»¥é¿å…javaä¸­çš„å•ç»§æ‰¿çš„é™åˆ¶ çº¿ç¨‹æ± åªèƒ½æ”¾å…¥å®ç° Runable æˆ– callable ç±»çº¿ç¨‹ï¼Œä¸èƒ½ç›´æ¥æ”¾å…¥ç»§æ‰¿Thread çš„ç±» ä¸¤è€…éƒ½æœ‰çš„ï¼š é€‚åˆå¤šä¸ªç›¸åŒçš„ç¨‹åºä»£ç çš„çº¿ç¨‹å»å¤„ç†åŒä¸€ä¸ªèµ„æº å¢åŠ ç¨‹åºçš„å¥å£®æ€§ï¼Œä»£ç å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å…±äº«ï¼Œä»£ç å’Œæ•°æ®ç‹¬ç«‹ æé†’ä¸€ä¸‹å¤§å®¶ï¼š main() æ–¹æ³•å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨ java ä¸­æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ˜¯åŒæ—¶å¯åŠ¨çš„ï¼Œè‡³äºä»€ä¹ˆæ—¶å€™å¯åŠ¨ï¼Œå“ªä¸ªçº¿ç¨‹å…ˆæ‰§è¡Œï¼Œå®Œå…¨æ˜¯çœ‹å“ªä¸ªçº¿ç¨‹å…ˆä» cpu å“ªé‡Œè·å–æ—¶é—´ç‰‡èµ„æºã€‚ æ­¤å¤–ï¼šåœ¨ java ä¸­ï¼Œæ¯æ¬¡ç¨‹åºè¿è¡Œè‡³å°‘å¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œ ä¸€ä¸ªæ˜¯ main çº¿ç¨‹ï¼Œ ä¸€ä¸ªæ˜¯åƒåœ¾å›æ”¶çº¿ç¨‹ã€‚å› ä¸ºæ¯å½“ä½¿ç”¨ java å‘½ä»¤æ‰§è¡Œä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå®é™…ä¸Šéƒ½ä¼šå¯åŠ¨ä¸€ä¸ª JVM ï¼Œæ¯ä¸€ä¸ª JVM å®é™…å°±æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸­å¯åŠ¨äº†ä¸€ä¸ªè¿›ç¨‹ã€‚ å››ã€çº¿ç¨‹çŠ¶æ€è½¬æ¢ä¸‹é¢çš„è¿™ä¸ªå›¾éå¸¸é‡è¦ï¼ä½ å¦‚æœçœ‹æ‡‚äº†è¿™ä¸ªå›¾ï¼Œé‚£ä¹ˆå¯¹äºå¤šçº¿ç¨‹çš„ç†è§£å°†ä¼šæ›´åŠ æ·±åˆ»ï¼ å­¦è¿‡æ“ä½œç³»ç»Ÿçš„åŒå­¦åº”è¯¥çœ‹èµ·æ¥å¾ˆå®¹æ˜“çš„ï¼Œæ¯•ç«Ÿå½“åˆè€ƒè¯•çš„æ—¶å€™è¿™ä¸€å—æ˜¯ä¸ªé‡ç‚¹ï¼Œæ²¡å°‘å¤ä¹ è¿™ä¸€å—ã€‚ æ–°å»ºçŠ¶æ€ï¼ˆNewï¼‰ï¼šæ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ å°±ç»ªçŠ¶æ€ï¼ˆRunnableï¼‰ï¼šçº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨äº†è¯¥å¯¹è±¡çš„ start() æ–¹æ³•ï¼Œè¯¥çŠ¶æ€çš„çº¿ç¨‹ä½äºå¯è¿è¡Œçš„çº¿ç¨‹æ± ä¸­ï¼Œå˜ä¸ºå¯è¿è¡ŒçŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œåªè¦è·å–äº† cpu çš„æ‰§è¡Œæƒï¼Œå°±å¯ä»¥è¿è¡Œï¼Œè¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚ è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰ï¼š å°±ç»ªçŠ¶æ€çš„çº¿ç¨‹ä» cpu è·å¾—äº†æ‰§è¡Œæƒä¹‹åï¼Œä¾¿å¯è¿›å…¥æ­¤çŠ¶æ€ï¼Œæ‰§è¡Œ run() æ–¹æ³•é‡Œé¢çš„ä»£ç ã€‚ é˜»å¡çŠ¶æ€ï¼ˆBlockedï¼‰ï¼šé˜»å¡çŠ¶æ€æ˜¯çº¿ç¨‹å› ä¸ºæŸç§åŸå› å¤±å»äº† cpu çš„ä½¿ç”¨æƒï¼Œæš‚æ—¶åœæ­¢è¿è¡Œï¼Œä¸€ç›´ç­‰åˆ°çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œæ‰æœ‰æœºä¼šè½¬åˆ°è¿è¡ŒçŠ¶æ€ï¼Œé˜»å¡ä¸€èˆ¬åˆ†ä¸ºä¸‹é¢ä¸‰ç§ï¼š ç­‰å¾…é˜»å¡ ï¼šè¿è¡Œçš„çº¿ç¨‹æ‰§è¡Œäº† wait() æ–¹æ³•ï¼Œ JVM ä¼šæŠŠè¯¥çº¿ç¨‹æ”¾å…¥çº¿ç¨‹ç­‰å¾…æ± ä¸­ï¼Œï¼ˆwait() ä¼šé‡Šæ”¾æŒæœ‰çš„é” ï¼‰ åŒæ­¥é˜»å¡ï¼šè¿è¡Œçš„çº¿ç¨‹åœ¨è·å–å¯¹è±¡çš„åŒæ­¥é”æ—¶ï¼Œå¦‚æœè¯¥åŒæ­¥é”è¢«å…¶ä»–çº¿ç¨‹å ç”¨ï¼Œè¿™æ—¶æ­¤çº¿ç¨‹æ˜¯æ— æ³•è¿è¡Œçš„ï¼Œé‚£ä¹ˆ JVM å°±ä¼šæŠŠè¯¥çº¿ç¨‹æ”¾å…¥é”æ± ä¸­ï¼Œå¯¼è‡´é˜»å¡ å…¶ä»–é˜»å¡ï¼šè¿è¡Œçš„çº¿ç¨‹æ‰§è¡Œ sleep() æˆ–è€… join() æ–¹æ³•ï¼Œæˆ–è€…å‘å‡ºäº† I/O è¯·æ±‚ï¼ŒJVM ä¼šæŠŠè¯¥çº¿ç¨‹ç½®ä¸ºé˜»å¡çŠ¶æ€ï¼Œå½“ sleep() çŠ¶æ€è¶…æ—¶ã€join() ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢æˆ–è€…è¶…æ—¶ã€æˆ–è€… I/O å¤„ç†å®Œæ¯•æ—¶ï¼Œçº¿ç¨‹ä¼šé‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œï¼ˆæ³¨æ„ï¼šsleep() æ˜¯ä¸ä¼šé‡Šæ”¾æœ¬èº«æŒæœ‰çš„é”çš„ï¼‰ æ­»äº¡çŠ¶æ€ï¼ˆDeadï¼‰ï¼šçº¿ç¨‹æ‰§è¡Œå®Œäº†ä¹‹åæˆ–è€…å› ä¸ºç¨‹åºå¼‚å¸¸é€€å‡ºäº† run() æ–¹æ³•ï¼Œç»“æŸè¯¥çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚ äº”ã€çº¿ç¨‹è°ƒåº¦1. è°ƒæ•´çº¿ç¨‹ä¼˜å…ˆçº§Java çº¿ç¨‹æœ‰ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ä¼šè·å¾—è¾ƒå¤šçš„è¿è¡Œæœºä¼šï¼ŒJava çº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨æ•´æ•°è¡¨ç¤ºï¼Œå–å€¼èŒƒå›´æ˜¯ 1~10 ï¼ŒThread ç±»æœ‰ä»¥ä¸‹ä¸‰ä¸ªé™æ€å¸¸é‡ï¼š123static int MAX_PRIORITY çº¿ç¨‹å¯ä»¥å…·æœ‰çš„æœ€é«˜ä¼˜å…ˆçº§ï¼Œå–å€¼ä¸º10ã€‚ static int MIN_PRIORITY çº¿ç¨‹å¯ä»¥å…·æœ‰çš„æœ€ä½ä¼˜å…ˆçº§ï¼Œå–å€¼ä¸º1ã€‚ static int NORM_PRIORITY åˆ†é…ç»™çº¿ç¨‹çš„é»˜è®¤ä¼˜å…ˆçº§ï¼Œå–å€¼ä¸º5ã€‚ Thread ç±»çš„ setPriority() å’Œ getPriority() åˆ†åˆ«ç”¨äºè®¾ç½®å’Œè·å–çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰é»˜è®¤çš„ä¼˜å…ˆçº§ã€‚ä¸»çº¿ç¨‹çš„é»˜è®¤ä¼˜å…ˆçº§ä¸ºThread.NORM_PRIORITYã€‚ çº¿ç¨‹çš„ä¼˜å…ˆçº§æœ‰ç»§æ‰¿å…³ç³»ï¼Œæ¯”å¦‚Açº¿ç¨‹ä¸­åˆ›å»ºäº†Bçº¿ç¨‹ï¼Œé‚£ä¹ˆBå°†å’ŒAå…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ã€‚ JVMæä¾›äº†10ä¸ªçº¿ç¨‹ä¼˜å…ˆçº§ï¼Œä½†ä¸å¸¸è§çš„æ“ä½œç³»ç»Ÿéƒ½ä¸èƒ½å¾ˆå¥½çš„æ˜ å°„ã€‚å¦‚æœå¸Œæœ›ç¨‹åºèƒ½ç§»æ¤åˆ°å„ä¸ªæ“ä½œç³»ç»Ÿä¸­ï¼Œåº”è¯¥ä»…ä»…ä½¿ç”¨Threadç±»æœ‰ä»¥ä¸‹ä¸‰ä¸ªé™æ€å¸¸é‡ä½œä¸ºä¼˜å…ˆçº§ï¼Œè¿™æ ·èƒ½ä¿è¯åŒæ ·çš„ä¼˜å…ˆçº§é‡‡ç”¨äº†åŒæ ·çš„è°ƒåº¦æ–¹å¼ã€‚ 2. çº¿ç¨‹ç¡çœ Thread.sleep(long millis) æ–¹æ³•ï¼Œä½¿çº¿ç¨‹è½¬åˆ°é˜»å¡çŠ¶æ€ã€‚millis å‚æ•°è®¾å®šç¡çœ çš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚å½“ç¡çœ ç»“æŸåï¼Œå°±è½¬ä¸ºå°±ç»ªï¼ˆRunnableï¼‰çŠ¶æ€ã€‚sleep() å¹³å°ç§»æ¤æ€§å¥½ã€‚ 3. çº¿ç¨‹ç­‰å¾…Object ç±»ä¸­çš„ wait() æ–¹æ³•ï¼Œå¯¼è‡´å½“å‰çš„çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„ notify() æ–¹æ³•æˆ– notifyAll() å”¤é†’æ–¹æ³•ã€‚è¿™ä¸ªä¸¤ä¸ªå”¤é†’æ–¹æ³•ä¹Ÿæ˜¯ Object ç±»ä¸­çš„æ–¹æ³•ï¼Œè¡Œä¸ºç­‰ä»·äºè°ƒç”¨ wait(0) ä¸€æ ·ã€‚ 4. çº¿ç¨‹è®©æ­¥Thread.yield()æ–¹æ³•ï¼Œæš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼ŒæŠŠæ‰§è¡Œæœºä¼šè®©ç»™ç›¸åŒæˆ–è€…æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ã€‚ 5. çº¿ç¨‹åŠ å…¥join() æ–¹æ³•ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹ç»ˆæ­¢ï¼Œåœ¨å½“å‰çº¿ç¨‹ä¸­è°ƒç”¨ä¸€ä¸ªçº¿ç¨‹çš„ join() æ–¹æ³•ï¼Œåˆ™å½“å‰çº¿ç¨‹è½¬ä¸ºé˜»å¡çŠ¶æ€ï¼Œå›åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ç»“æŸï¼Œå½“å‰çº¿ç¨‹å†ç”±é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œç­‰å¾… cpu çš„å® å¹¸ã€‚ 6. çº¿ç¨‹å”¤é†’Object ç±»ä¸­çš„ notify() æ–¹æ³•ï¼Œå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ï¼Œå¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨æ­¤å¯¹è±¡ä¸Šç­‰å¾…ï¼Œåˆ™ä¼šé€‰æ‹©å”¤é†’å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œé€‰æ‹©æ˜¯ä»»æ„çš„ï¼Œå¹¶åœ¨å¯¹å®ç°åšå‡ºå†³å®šæ—¶å‘ç”Ÿï¼Œçº¿ç¨‹é€šè¿‡è°ƒç”¨å…¶ä¸­ä¸€ä¸ª wait() æ–¹æ³•ï¼Œåœ¨å¯¹è±¡çš„ç›‘è§†å™¨ä¸Šç­‰å¾…ï¼Œç›´åˆ°å½“å‰çš„çº¿ç¨‹æ”¾å¼ƒæ­¤å¯¹è±¡ä¸Šçš„é”å®šï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œè¢«å”¤é†’çš„çº¿ç¨‹ï¼Œè¢«å”¤é†’çš„çº¿ç¨‹å°†ä»¥å¸¸è§„æ–¹å¼ä¸åœ¨è¯¥å¯¹è±¡ä¸Šä¸»åŠ¨åŒæ­¥çš„å…¶ä»–æ‰€æœ‰çº¿ç¨‹è¿›è¡Œç«äº‰ã€‚ ä¾‹å¦‚ï¼šå”¤é†’çš„çº¿ç¨‹åœ¨ä½œä¸ºé”å®šæ­¤å¯¹è±¡çš„ä¸‹ä¸€ä¸ªçº¿ç¨‹æ–¹é¢æ²¡æœ‰å¯é çš„ç‰¹æƒæˆ–è€…åŠ£åŠ¿ï¼Œ ç±»ä¼¼çš„æ–¹æ³•è¿˜æœ‰ notifyAll() ï¼Œå”¤é†’å†æ¬¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ï¼Œ æ³¨æ„ï¼š Thread ä¸­ suspend() å’Œ resume() ä¸¤ä¸ªæ–¹æ³•å·²ç»åœ¨ JDK 1.5 ä¸­åºŸé™¤ï¼Œæ­¤å¤„ä¸åšä»‹ç»ï¼Œå› ä¸ºæœ‰æ­»é”å€¾å‘ã€‚ å…­ã€å¸¸ç”¨å‡½æ•°è¯´æ˜1. sleep(long millis): åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼‘çœ ï¼ˆæš‚åœæ‰§è¡Œï¼‰2. join() æŒ‡ç­‰å¾…tçº¿ç¨‹ç»ˆæ­¢ã€‚ä½¿ç”¨æ–¹å¼123Thread6 thread1 = new Thread6();thread1.start();thread1.join(); ä¸ºä»€ä¹ˆè¦ç”¨join()æ–¹æ³•å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹ç”Ÿæˆå¹¶å¯åŠ¨äº†å­çº¿ç¨‹ï¼Œå¦‚æœå­çº¿ç¨‹éœ€è¦å¤§é‡çš„è€—æ—¶è¿ç®—ï¼Œä¸»çº¿ç¨‹å¾€å¾€å°†äºå­çº¿ç¨‹ç»“æŸä¹‹å‰ç»“æŸï¼Œä½†æ˜¯å¦‚æœä¸»çº¿ç¨‹å¤„ç†å®Œäº†å…¶ä»–äº‹åŠ¡åï¼Œéœ€è¦ç”¨åˆ°å­çº¿ç¨‹è¿”å›çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯éœ€è¦ä¸»çº¿ç¨‹éœ€è¦åœ¨å­çº¿ç¨‹ç»“æŸåå†ç»“æŸï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ° join() æ–¹æ³•ã€‚ å…ˆçœ‹ä¸‹ä¸åŠ  join() çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334/** * Created by Sean on 2017/5/9. */class Thread6 extends Thread &#123; @Override public void run() &#123; super.run(); System.out.println(Thread.currentThread().getName() + &quot;è¿è¡Œå¼€å§‹!&quot;); for (int i = 0; i &lt; 5; i++) &#123; System.out.println(currentThread().getName() + &quot;======&gt;&quot; + i); try &#123; sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(Thread.currentThread().getName() + &quot;è¿è¡Œç»“æŸ!&quot;); &#125;&#125;public class Main6 &#123; public static void main(String[] args) throws InterruptedException &#123; System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹è¿è¡Œå¼€å§‹!&quot;); Thread6 thread1 = new Thread6(); Thread6 thread2 = new Thread6(); thread1.setName(&quot;çº¿ç¨‹A&quot;); thread2.setName(&quot;çº¿ç¨‹B&quot;); thread1.start(); thread2.start(); System.out.println(&quot;è¿™æ—¶thread1 å’Œ thread2 éƒ½æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰èƒ½æ‰§è¡Œä¸»çº¿ç¨‹æ‰“å°æ­¤å¥è¯å› ä¸ºä¸¤ä¸ªå­çº¿ç¨‹éƒ½è¢«ä¸»çº¿ç¨‹è°ƒç”¨äº†join() æ–¹æ³•&quot;); System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹è¿è¡Œç»“æŸ!&quot;); &#125;&#125; ç»“æœï¼š ä»ç»“æœä¸­å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ‰“å°çš„ main çº¿ç¨‹è¿è¡Œç»“æŸä¹‹åï¼Œä¸¤ä¸ªå­çº¿ç¨‹æ‰å¼€å§‹æ‰§è¡Œï¼Œè¿™å’Œä¸Šé¢è¯´çš„æ˜¯å¯¹ç…§çš„ï¼Œ ä¸‹é¢æ¼”ç¤ºä¸‹ç­‰å¾…ä¸¤ä¸ªå­çº¿ç¨‹ç»“æŸä¹‹åå†ç»“æŸä¸»çº¿ç¨‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * Created by Sean on 2017/5/9. */class Thread6 extends Thread &#123; @Override public void run() &#123; super.run(); System.out.println(Thread.currentThread().getName() + &quot;è¿è¡Œå¼€å§‹!&quot;); for (int i = 0; i &lt; 5; i++) &#123; System.out.println(currentThread().getName() + &quot;======&gt;&quot; + i); try &#123; sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(Thread.currentThread().getName() + &quot;è¿è¡Œç»“æŸ!&quot;); &#125;&#125;public class Main6 &#123; public static void main(String[] args) throws InterruptedException &#123; System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹è¿è¡Œå¼€å§‹!&quot;); Thread6 thread1 = new Thread6(); Thread6 thread2 = new Thread6(); thread1.setName(&quot;çº¿ç¨‹A&quot;); thread2.setName(&quot;çº¿ç¨‹B&quot;); thread1.start(); try &#123; thread1.join(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; thread2.start(); try &#123; thread2.join(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(&quot;è¿™æ—¶thread1 å’Œ thread2 éƒ½æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰èƒ½æ‰§è¡Œä¸»çº¿ç¨‹æ‰“å°æ­¤å¥è¯å› ä¸ºä¸¤ä¸ªå­çº¿ç¨‹éƒ½è¢«ä¸»çº¿ç¨‹è°ƒç”¨äº†join() æ–¹æ³•&quot;); System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹è¿è¡Œç»“æŸ!&quot;); &#125;&#125; è¿è¡Œç»“æœï¼š è¿™ä¸ªæ—¶å€™ä¸è®ºæ‰§è¡Œå¤šå°‘éï¼Œéƒ½æ˜¯ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹ç»“æŸåæ‰ç»“æŸã€‚ å¦‚æœä¸»çº¿ç¨‹çš„æ‰§è¡Œéœ€è¦ä¾èµ–äºå­çº¿ç¨‹ä¸­çš„å®Œæ•´æ•°æ®çš„æ—¶å€™ï¼Œè¿™ç§æ–¹æ³•å°±å¯ä»¥å¾ˆå¥½çš„ç¡®ä¿ä¸¤ä¸ªçº¿ç¨‹çš„åŒæ­¥æ€§ã€‚ 3. yield():æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹ã€‚æ³¨æ„ï¼šyield() åº”è¯¥åšçš„æ˜¯è®©å½“å‰è¿è¡Œçº¿ç¨‹å›åˆ°å¯è¿è¡ŒçŠ¶æ€ï¼ˆå°±ç»ªçŠ¶æ€ï¼‰ï¼Œä»¥å…è®¸å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„å…¶ä»–çº¿ç¨‹è·å¾—è¿è¡Œæœºä¼šã€‚å› æ­¤ï¼Œä½¿ç”¨ yield() çš„ç›®çš„æ˜¯è®©ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹é—´èƒ½é€‚å½“çš„è½®è½¬æ‰§è¡Œã€‚ä½†æ˜¯ï¼Œå®é™…ä¸­æ— æ³•ä¿è¯ yield() è¾¾åˆ°è®©æ­¥ç›®çš„ï¼Œå› ä¸ºè®©æ­¥çš„çº¿ç¨‹è¿˜æœ‰å¯èƒ½è¢«çº¿ç¨‹è°ƒåº¦ç¨‹åºå†æ¬¡é€‰ä¸­ã€‚ ç»“è®ºï¼šyield() ä»æœªå¯¼è‡´çº¿ç¨‹è½¬åˆ°ç­‰å¾…/ç¡çœ /é˜»å¡çŠ¶æ€ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œyield() å°†å¯¼è‡´çº¿ç¨‹ä»è¿è¡ŒçŠ¶æ€è½¬åˆ°å¯è¿è¡ŒçŠ¶æ€ï¼ˆå°±ç»ªçŠ¶æ€ï¼‰ï¼Œä½†æœ‰å¯èƒ½æ²¡æœ‰æ•ˆæœã€‚å¯çœ‹ä¸Šé¢çš„å›¾ã€‚ çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 12345678910111213141516171819202122232425262728/** * yield()çš„ç”¨æ³• * Created by Sean on 2017/5/9. */class Thread7 extends Thread &#123; @Override public void run() &#123; for (int i = 1; i &lt;= 50; i++) &#123; System.out.println(&quot;&quot; + this.getName() + &quot;-----&quot; + i); // å½“iä¸º30æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæŠŠCPUæ—¶é—´è®©æ‰ï¼Œè®©å…¶ä»–æˆ–è€…è‡ªå·±çš„çº¿ç¨‹æ‰§è¡Œï¼ˆä¹Ÿå°±æ˜¯è°å…ˆæŠ¢åˆ°è°æ‰§è¡Œï¼‰ if (i == 30) &#123; this.yield(); &#125; &#125; &#125;&#125;public class Main7 &#123; public static void main(String[] args) &#123; Thread7 thread1 = new Thread7(); Thread7 thread2 = new Thread7(); thread1.setName(&quot;Açº¿ç¨‹&quot;); thread2.setName(&quot;Bçº¿ç¨‹&quot;); thread1.start(); thread2.start(); &#125;&#125; è¿è¡Œç»“æœï¼š ç¬¬ä¸€ç§æƒ…å†µï¼šAçº¿ç¨‹å½“æ‰§è¡Œåˆ°30æ—¶ä¼šCPUæ—¶é—´è®©æ‰ï¼Œè¿™æ—¶Açº¿ç¨‹æŠ¢åˆ° CPU çš„æ—¶é—´ç‰‡æ‰§è¡Œã€‚ç¬¬äºŒç§æƒ…å†µï¼šBçº¿ç¨‹å½“æ‰§è¡Œåˆ°30æ—¶ä¼šCPUæ—¶é—´è®©æ‰ï¼Œè¿™æ—¶Açº¿ç¨‹æŠ¢åˆ° CPU çš„æ—¶é—´ç‰‡æ‰§è¡Œã€‚ç¬¬äºŒç§æƒ…å†µï¼šä»ä¸€å¼€å§‹å°±äº¤æ›¿æ‰§è¡Œï¼Œå½“åˆ°30çš„æ—¶å€™è¿›è¡Œä¸€æ¬¡è®©æ­¥ã€‚ sleep()å’Œyield()çš„åŒºåˆ« sleep() ä½¿å½“å‰çº¿ç¨‹è¿›å…¥åœæ»çŠ¶æ€ï¼Œæ‰€ä»¥æ‰§è¡Œ sleep() çš„çº¿ç¨‹åœ¨æŒ‡å®šçš„æ—¶é—´å†…è‚¯å®šä¸ä¼šè¢«æ‰§è¡Œ yield() åªæ˜¯ä½¿å½“å‰çº¿ç¨‹é‡æ–°å›åˆ°å¯æ‰§è¡ŒçŠ¶æ€ï¼Œæ‰€ä»¥æ‰§è¡Œ yield() çš„çº¿ç¨‹æœ‰å¯èƒ½åœ¨è¿›å…¥åˆ°å¯æ‰§è¡ŒçŠ¶æ€åé©¬ä¸Šåˆè¢«æ‰§è¡Œã€‚ sleep æ–¹æ³•ä½¿å½“å‰è¿è¡Œä¸­çš„çº¿ç¨‹ç¡çœ¼ä¸€æ®µæ—¶é—´ï¼Œè¿›å…¥ä¸å¯è¿è¡ŒçŠ¶æ€ï¼Œè¿™æ®µæ—¶é—´çš„é•¿çŸ­æ˜¯ç”±ç¨‹åºè®¾å®šçš„ï¼Œyield æ–¹æ³•ä½¿å½“å‰çº¿ç¨‹è®©å‡º CPU å æœ‰æƒï¼Œä½†è®©å‡ºçš„æ—¶é—´æ˜¯ä¸å¯è®¾å®šçš„ã€‚å®é™…ä¸Šï¼Œyield() æ–¹æ³•å¯¹åº”äº†å¦‚ä¸‹æ“ä½œï¼šå…ˆæ£€æµ‹å½“å‰æ˜¯å¦æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹å¤„äºåŒå¯è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœ‰ï¼Œåˆ™æŠŠ CPU çš„å æœ‰æƒäº¤ç»™æ­¤çº¿ç¨‹ï¼Œå¦åˆ™ï¼Œç»§ç»­è¿è¡ŒåŸæ¥çš„çº¿ç¨‹ã€‚æ‰€ä»¥yield()æ–¹æ³•ç§°ä¸ºâ€œé€€è®©â€ï¼Œå®ƒæŠŠè¿è¡Œæœºä¼šè®©ç»™äº†åŒç­‰ä¼˜å…ˆçº§çš„å…¶ä»–çº¿ç¨‹ å¦å¤–ï¼Œsleep æ–¹æ³•å…è®¸è¾ƒä½ä¼˜å…ˆçº§çš„çº¿ç¨‹è·å¾—è¿è¡Œæœºä¼šï¼Œä½† yield() æ–¹æ³•æ‰§è¡Œæ—¶ï¼Œå½“å‰çº¿ç¨‹ä»å¤„åœ¨å¯è¿è¡ŒçŠ¶æ€ï¼Œæ‰€ä»¥ï¼Œä¸å¯èƒ½è®©å‡ºè¾ƒä½ä¼˜å…ˆçº§çš„çº¿ç¨‹äº›æ—¶è·å¾— CPU å æœ‰æƒã€‚åœ¨ä¸€ä¸ªè¿è¡Œç³»ç»Ÿä¸­ï¼Œå¦‚æœè¾ƒé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹æ²¡æœ‰è°ƒç”¨ sleep æ–¹æ³•ï¼Œåˆæ²¡æœ‰å—åˆ° I\\O é˜»å¡ï¼Œé‚£ä¹ˆï¼Œè¾ƒä½ä¼˜å…ˆçº§çº¿ç¨‹åªèƒ½ç­‰å¾…æ‰€æœ‰è¾ƒé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹è¿è¡Œç»“æŸï¼Œæ‰æœ‰æœºä¼šè¿è¡Œã€‚ 4. setPriority(): æ›´æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚12345678MIN_PRIORITY = 1NORM_PRIORITY = 5MAX_PRIORITY = 10ç”¨æ³•ï¼šThread4 t1 = new Thread4(&quot;t1&quot;);Thread4 t2 = new Thread4(&quot;t2&quot;);t1.setPriority(Thread.MAX_PRIORITY);t2.setPriority(Thread.MIN_PRIORITY); 5. interrupt()ä¸è¦ä»¥ä¸ºå®ƒæ˜¯ä¸­æ–­æŸä¸ªçº¿ç¨‹ï¼å®ƒåªæ˜¯çº¿çº¿ç¨‹å‘é€ä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œè®©çº¿ç¨‹åœ¨æ— é™ç­‰å¾…æ—¶ï¼ˆå¦‚æ­»é”æ—¶ï¼‰èƒ½æŠ›å‡ºæŠ›å‡ºï¼Œä»è€Œç»“æŸçº¿ç¨‹ï¼Œä½†æ˜¯å¦‚æœä½ åƒæ‰äº†è¿™ä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹è¿˜æ˜¯ä¸ä¼šä¸­æ–­çš„ï¼ 6. wait() æš‚åœçº¿ç¨‹ï¼Œé‡Šæ”¾ cpu æ§åˆ¶æƒï¼ŒåŒæ—¶é‡Šæ”¾å¯¹è±¡é”çš„æ§åˆ¶Obj.wait() ä¸ Obj.notify() å¿…é¡»è¦ä¸ synchronized(Obj) ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯ wait ä¸ notify æ˜¯é’ˆå¯¹å·²ç»è·å–äº† Obj é”è¿›è¡Œæ“ä½œï¼Œä»è¯­æ³•è§’åº¦æ¥è¯´å°±æ˜¯ Obj.wait()ã€Obj.notify å¿…é¡»åœ¨ synchronized(Obj){â€¦} è¯­å¥å—å†…ã€‚ä»åŠŸèƒ½ä¸Šæ¥è¯´ wait å°±æ˜¯è¯´çº¿ç¨‹åœ¨è·å–å¯¹è±¡é”åï¼Œä¸»åŠ¨é‡Šæ”¾å¯¹è±¡é”ï¼ŒåŒæ—¶æœ¬çº¿ç¨‹ä¼‘çœ ã€‚ç›´åˆ°æœ‰å…¶å®ƒçº¿ç¨‹è°ƒç”¨å¯¹è±¡çš„notify()å”¤é†’è¯¥çº¿ç¨‹ï¼Œæ‰èƒ½ç»§ç»­è·å–å¯¹è±¡é”ï¼Œå¹¶ç»§ç»­æ‰§è¡Œã€‚ç›¸åº”çš„ notify() å°±æ˜¯å¯¹å¯¹è±¡é”çš„å”¤é†’æ“ä½œã€‚ä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ notify() è°ƒç”¨åï¼Œå¹¶ä¸æ˜¯é©¬ä¸Šå°±é‡Šæ”¾å¯¹è±¡é”çš„ï¼Œè€Œæ˜¯åœ¨ç›¸åº”çš„ synchronized(){} è¯­å¥å—æ‰§è¡Œç»“æŸï¼Œè‡ªåŠ¨é‡Šæ”¾é”åï¼Œ JVMä¼šåœ¨wait() å¯¹è±¡é”çš„çº¿ç¨‹ä¸­éšæœºé€‰å–ä¸€çº¿ç¨‹ï¼Œèµ‹äºˆå…¶å¯¹è±¡é”ï¼Œå”¤é†’çº¿ç¨‹ï¼Œç»§ç»­æ‰§è¡Œã€‚è¿™æ ·å°±æä¾›äº†åœ¨çº¿ç¨‹é—´åŒæ­¥ã€å”¤é†’çš„æ“ä½œã€‚ Thread.sleep() ä¸ Object.wait() äºŒè€…éƒ½å¯ä»¥æš‚åœå½“å‰çº¿ç¨‹ï¼Œé‡Šæ”¾ CPU æ§åˆ¶æƒï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äº Object.wait() åœ¨é‡Šæ”¾ CPU åŒæ—¶ï¼Œé‡Šæ”¾äº†å¯¹è±¡é”çš„æ§åˆ¶ã€‚ å•å•åœ¨æ¦‚å¿µä¸Šç†è§£æ¸…æ¥šäº†è¿˜ä¸å¤Ÿï¼Œéœ€è¦åœ¨å®é™…çš„ä¾‹å­ä¸­è¿›è¡Œæµ‹è¯•æ‰èƒ½æ›´å¥½çš„ç†è§£ã€‚å¯¹ Object.wait() ã€Object.notify() çš„åº”ç”¨æœ€ç»å…¸çš„ä¾‹å­ï¼Œåº”è¯¥æ˜¯ä¸‰çº¿ç¨‹æ‰“å° ABC çš„é—®é¢˜äº†å§ï¼Œè¿™æ˜¯ä¸€é“æ¯”è¾ƒç»å…¸çš„é¢è¯•é¢˜ï¼Œé¢˜ç›®è¦æ±‚å¦‚ä¸‹ï¼š å»ºç«‹ä¸‰ä¸ªçº¿ç¨‹ï¼ŒAçº¿ç¨‹æ‰“å° 10 æ¬¡ Aã€B çº¿ç¨‹æ‰“å° 10 æ¬¡ Bã€C çº¿ç¨‹æ‰“å° 10 æ¬¡ Cï¼Œè¦æ±‚çº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œäº¤æ›¿æ‰“å° 10 æ¬¡ ABC ã€‚è¿™ä¸ªé—®é¢˜ç”¨ Object çš„ wait() ï¼Œ notify() å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å†³ã€‚ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * wait() ç»ƒä¹  * Created by Sean on 2017/5/9. */class Thread8 implements Runnable &#123; private String name; private Object prev; private Object self; private Thread8(String name, Object prev, Object self) &#123; this.name = name; this.prev = prev; this.self = self; &#125; @Override public void run() &#123; int count = 10; while (count &gt; 0) &#123; synchronized (prev) &#123; //ä¸Šä¸€ä¸ªå¯¹è±¡é”ï¼Œå…ˆç”³è¯·ä¸Šä¸€ä¸ªå¯¹è±¡çš„é”ï¼Œå¦‚æœä¸Šä¸ªçº¿ç¨‹é‡Šæ”¾å¯¹è±¡é”ï¼Œåˆ™è·å–è¯¥å¯¹è±¡é” synchronized (self) &#123; // å½“å‰å¯¹è±¡é” System.out.print(name + ((count == 1 &amp;&amp; name.equals(&quot;C&quot;)) ? &quot;&quot; : &quot;-&gt;&quot;)); count--; self.notify(); // å”¤é†’ä¸‹ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ &#125; try &#123; prev.wait();// é‡Šæ”¾å½“å‰çº¿ç¨‹ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125; public static void main(String[] args) throws InterruptedException &#123; Object a = new Object(); Object b = new Object(); Object c = new Object(); Thread8 threadA = new Thread8(&quot;A&quot;, c, a);//cæ˜¯ä¸Šä¸ªå¯¹è±¡,aæ˜¯å½“å‰å¯¹è±¡ Thread8 threadB = new Thread8(&quot;B&quot;, a, b);//aæ˜¯ä¸Šä¸ªå¯¹è±¡,bæ˜¯å½“å‰å¯¹è±¡ Thread8 threadC = new Thread8(&quot;C&quot;, b, c);//bæ˜¯ä¸Šä¸ªå¯¹è±¡,cæ˜¯å½“å‰å¯¹è±¡ new Thread(threadA).start(); Thread.sleep(100); //ç¡®ä¿æŒ‰é¡ºåºAã€Bã€Cæ‰§è¡Œ new Thread(threadB).start(); Thread.sleep(100); //ç¡®ä¿æŒ‰é¡ºåºAã€Bã€Cæ‰§è¡Œ new Thread(threadC).start(); Thread.sleep(100); //ç¡®ä¿æŒ‰é¡ºåºAã€Bã€Cæ‰§è¡Œ &#125;&#125; è¾“å‡ºç»“æœï¼š å…ˆæ¥è§£é‡Šä¸€ä¸‹å…¶æ•´ä½“æ€è·¯ï¼Œä»å¤§çš„æ–¹å‘ä¸Šæ¥è®²ï¼Œè¯¥é—®é¢˜ä¸ºä¸‰çº¿ç¨‹é—´çš„åŒæ­¥å”¤é†’æ“ä½œï¼Œä¸»è¦çš„ç›®çš„å°±æ˜¯ ThreadA -&gt; ThreadB -&gt; ThreadC -&gt; ThreadA å¾ªç¯æ‰§è¡Œä¸‰ä¸ªçº¿ç¨‹ã€‚ä¸ºäº†æ§åˆ¶çº¿ç¨‹æ‰§è¡Œçš„é¡ºåºï¼Œé‚£ä¹ˆå°±å¿…é¡»è¦ç¡®å®šå”¤é†’ã€ç­‰å¾…çš„é¡ºåºï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªçº¿ç¨‹å¿…é¡»åŒæ—¶æŒæœ‰ä¸¤ä¸ªå¯¹è±¡é”ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚ä¸€ä¸ªå¯¹è±¡é”æ˜¯ prev ï¼Œå°±æ˜¯å‰ä¸€ä¸ªçº¿ç¨‹æ‰€æŒæœ‰çš„å¯¹è±¡é”ã€‚è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯è‡ªèº«å¯¹è±¡é”ã€‚ä¸»è¦çš„æ€æƒ³å°±æ˜¯ï¼Œä¸ºäº†æ§åˆ¶æ‰§è¡Œçš„é¡ºåºï¼Œå¿…é¡»è¦å…ˆæŒæœ‰ prev é”ï¼Œä¹Ÿå°±å‰ä¸€ä¸ªçº¿ç¨‹è¦é‡Šæ”¾è‡ªèº«å¯¹è±¡é”ï¼Œå†å»ç”³è¯·è‡ªèº«å¯¹è±¡é”ï¼Œä¸¤è€…å…¼å¤‡æ—¶æ‰“å°ï¼Œä¹‹åé¦–å…ˆè°ƒç”¨ self.notify() é‡Šæ”¾è‡ªèº«å¯¹è±¡é”ï¼Œå”¤é†’ä¸‹ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼Œå†è°ƒç”¨ prev.wait() é‡Šæ”¾ prev å¯¹è±¡é”ï¼Œç»ˆæ­¢å½“å‰çº¿ç¨‹ï¼Œç­‰å¾…å¾ªç¯ç»“æŸåå†æ¬¡è¢«å”¤é†’ã€‚ é€šè¿‡ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œ Aã€Bã€C éƒ½è¢«é¡ºåºæ‰“å°äº†åæ¬¡ï¼Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š æ‰“å°Aï¼šA çº¿ç¨‹å…ˆè¿è¡Œï¼ŒA çº¿ç¨‹æŒæœ‰ Cã€Aå¯¹åƒé”ï¼Œå› ä¸ºCå¯¹è±¡é”å¯¹åº”ä¸Šä¸€ä¸ªæ‰“å°çš„çº¿ç¨‹ï¼ŒA å¯¹è±¡é”å¯¹åº”è‡ªå·±æ‰“å°çš„çº¿ç¨‹ã€‚ç„¶ååœ¨è‡ªèº«å¯¹è±¡é”ä¸­synchronized (self) { }æ‰§è¡Œå®Œä¹‹åå”¤é†’ä¸‹ä¸€ä¸ªæ‰“å°çº¿ç¨‹ï¼Œç„¶ååœ¨ä¸Šä¸€ä¸ªå¯¹è±¡é”synchronized (prev) { }ä¸­æš‚åœçº¿ç¨‹ã€é‡Šæ”¾ CPU çš„æ§åˆ¶æƒï¼ŒåŒæ—¶é‡Šæ”¾ C å¯¹è±¡é”çš„æ§åˆ¶æƒ æ‰“å°Bï¼šæ‹¿åˆ°çº¿ç¨‹ A é‡Šæ”¾çš„ A å¯¹åƒé”ï¼Œç„¶åè·å–è‡ªèº«çš„ B å¯¹è±¡é”ï¼Œé‡å¤ä¸Šé¢â€œæ‰“å°Aâ€çš„æ­¥éª¤ æ‰“å°Cï¼šæ‹¿åˆ°çº¿ç¨‹ B é‡Šæ”¾çš„ B å¯¹åƒé”ï¼Œç„¶åè·å–è‡ªèº«çš„ C å¯¹è±¡é”ï¼Œé‡å¤ä¸Šé¢â€œæ‰“å°Aâ€çš„æ­¥éª¤ æ‰“å°Aï¼šæ‹¿åˆ°çº¿ç¨‹ C é‡Šæ”¾çš„ C å¯¹åƒé”ï¼Œç„¶åè·å–è‡ªèº«çš„ A å¯¹è±¡é”ï¼Œé‡å¤ä¸Šé¢â€œæ‰“å°Aâ€çš„æ­¥éª¤.....è¿™æ ·ä¸€ç›´æ‰§è¡Œåˆ°ç¨‹åºç»“æŸå…¨éƒ¨æ‰“å°å®Œæ¯•ã€‚ wait() å’Œ sleep() åŒºåˆ« å…±åŒç‚¹ï¼š ä»–ä»¬éƒ½æ˜¯åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹ï¼Œéƒ½å¯ä»¥åœ¨ç¨‹åºçš„è°ƒç”¨å¤„é˜»å¡æŒ‡å®šçš„æ¯«ç§’æ•°ï¼Œå¹¶è¿”å›ã€‚ wait()å’Œsleep()éƒ½å¯ä»¥é€šè¿‡interrupt()æ–¹æ³• æ‰“æ–­çº¿ç¨‹çš„æš‚åœçŠ¶æ€ ï¼Œä»è€Œä½¿çº¿ç¨‹ç«‹åˆ»æŠ›å‡ºInterruptedExceptionã€‚ å¦‚æœçº¿ç¨‹Aå¸Œæœ›ç«‹å³ç»“æŸçº¿ç¨‹Bï¼Œåˆ™å¯ä»¥å¯¹çº¿ç¨‹Bå¯¹åº”çš„Threadå®ä¾‹è°ƒç”¨interruptæ–¹æ³•ã€‚å¦‚æœæ­¤åˆ»çº¿ç¨‹Bæ­£åœ¨wait/sleep /joinï¼Œåˆ™çº¿ç¨‹Bä¼šç«‹åˆ»æŠ›å‡ºInterruptedExceptionï¼Œåœ¨catch() {} ä¸­ç›´æ¥returnå³å¯å®‰å…¨åœ°ç»“æŸçº¿ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒInterruptedExceptionæ˜¯çº¿ç¨‹è‡ªå·±ä»å†…éƒ¨æŠ›å‡ºçš„ï¼Œå¹¶ä¸æ˜¯interrupt()æ–¹æ³•æŠ›å‡ºçš„ã€‚å¯¹æŸä¸€çº¿ç¨‹è°ƒç”¨ interrupt()æ—¶ï¼Œå¦‚æœè¯¥çº¿ç¨‹æ­£åœ¨æ‰§è¡Œæ™®é€šçš„ä»£ç ï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹æ ¹æœ¬å°±ä¸ä¼šæŠ›å‡ºInterruptedExceptionã€‚ä½†æ˜¯ï¼Œä¸€æ—¦è¯¥çº¿ç¨‹è¿›å…¥åˆ° wait()/sleep()/join()åï¼Œå°±ä¼šç«‹åˆ»æŠ›å‡ºInterruptedException ã€‚ ä¸åŒç‚¹ï¼š Threadç±»çš„æ–¹æ³•ï¼šsleep(),yield()ç­‰Objectçš„æ–¹æ³•ï¼šwait()å’Œnotify()ç­‰ æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé”æ¥æ§åˆ¶åŒæ­¥è®¿é—®ã€‚Synchronizedå…³é”®å­—å¯ä»¥å’Œå¯¹è±¡çš„é”äº¤äº’ï¼Œæ¥å®ç°çº¿ç¨‹çš„åŒæ­¥ã€‚sleepæ–¹æ³•æ²¡æœ‰é‡Šæ”¾é”ï¼Œè€Œwaitæ–¹æ³•é‡Šæ”¾äº†é”ï¼Œä½¿å¾—å…¶ä»–çº¿ç¨‹å¯ä»¥ä½¿ç”¨åŒæ­¥æ§åˆ¶å—æˆ–è€…æ–¹æ³•ã€‚ waitï¼Œnotifyå’ŒnotifyAllåªèƒ½åœ¨åŒæ­¥æ§åˆ¶æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—é‡Œé¢ä½¿ç”¨ï¼Œè€Œsleepå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ æ‰€ä»¥sleep()å’Œwait()æ–¹æ³•çš„æœ€å¤§åŒºåˆ«æ˜¯ï¼š sleep()ç¡çœ æ—¶ï¼Œä¿æŒå¯¹è±¡é”ï¼Œä»ç„¶å æœ‰è¯¥é”ï¼› è€Œwait()ç¡çœ æ—¶ï¼Œé‡Šæ”¾å¯¹è±¡é”ã€‚ä½†æ˜¯wait()å’Œsleep()éƒ½å¯ä»¥é€šè¿‡interrupt()æ–¹æ³•æ‰“æ–­çº¿ç¨‹çš„æš‚åœçŠ¶æ€ï¼Œä»è€Œä½¿çº¿ç¨‹ç«‹åˆ»æŠ›å‡ºInterruptedExceptionï¼ˆä½†ä¸å»ºè®®ä½¿ç”¨è¯¥æ–¹æ³•ï¼‰ sleep() æ–¹æ³•sleep()ä½¿å½“å‰çº¿ç¨‹è¿›å…¥åœæ»çŠ¶æ€ï¼ˆé˜»å¡å½“å‰çº¿ç¨‹ï¼‰ï¼Œè®©å‡ºCUPçš„ä½¿ç”¨ã€ç›®çš„æ˜¯ä¸è®©å½“å‰çº¿ç¨‹ç‹¬è‡ªéœ¸å è¯¥è¿›ç¨‹æ‰€è·çš„CPUèµ„æºï¼Œä»¥ç•™ä¸€å®šæ—¶é—´ç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œçš„æœºä¼š; sleep()æ˜¯Threadç±»çš„Static(é™æ€)çš„æ–¹æ³•ï¼›å› æ­¤ä»–ä¸èƒ½æ”¹å˜å¯¹è±¡çš„æœºé”ï¼Œæ‰€ä»¥å½“åœ¨ä¸€ä¸ªSynchronizedå—ä¸­è°ƒç”¨Sleep()æ–¹æ³•æ˜¯ï¼Œçº¿ç¨‹è™½ç„¶ä¼‘çœ äº†ï¼Œä½†æ˜¯å¯¹è±¡çš„æœºé”å¹¶æœ¨æœ‰è¢«é‡Šæ”¾ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼ˆå³ä½¿ç¡ç€ä¹ŸæŒæœ‰å¯¹è±¡é”ï¼‰ã€‚ åœ¨sleep()ä¼‘çœ æ—¶é—´æœŸæ»¡åï¼Œè¯¥çº¿ç¨‹ä¸ä¸€å®šä¼šç«‹å³æ‰§è¡Œï¼Œè¿™æ˜¯å› ä¸ºå…¶å®ƒçº¿ç¨‹å¯èƒ½æ­£åœ¨è¿è¡Œè€Œä¸”æ²¡æœ‰è¢«è°ƒåº¦ä¸ºæ”¾å¼ƒæ‰§è¡Œï¼Œé™¤éæ­¤çº¿ç¨‹å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚ wait() æ–¹æ³•wait()æ–¹æ³•æ˜¯Objectç±»é‡Œçš„æ–¹æ³•ï¼›å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°wait()æ–¹æ³•æ—¶ï¼Œå®ƒå°±è¿›å…¥åˆ°ä¸€ä¸ªå’Œè¯¥å¯¹è±¡ç›¸å…³çš„ç­‰å¾…æ± ä¸­ï¼ŒåŒæ—¶å¤±å»ï¼ˆé‡Šæ”¾ï¼‰äº†å¯¹è±¡çš„æœºé”ï¼ˆæš‚æ—¶å¤±å»æœºé”ï¼Œwait(long timeout)è¶…æ—¶æ—¶é—´åˆ°åè¿˜éœ€è¦è¿”è¿˜å¯¹è±¡é”ï¼‰ï¼›å…¶ä»–çº¿ç¨‹å¯ä»¥è®¿é—®ï¼› wait()ä½¿ç”¨notifyæˆ–è€…notifyAlllæˆ–è€…æŒ‡å®šç¡çœ æ—¶é—´æ¥å”¤é†’å½“å‰ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹ã€‚ wiat()å¿…é¡»æ”¾åœ¨synchronized blockä¸­ï¼Œå¦åˆ™ä¼šåœ¨program runtimeæ—¶æ‰”å‡ºâ€java.lang.IllegalMonitorStateExceptionâ€œå¼‚å¸¸ã€‚ ä¸ƒã€å¸¸è§çº¿ç¨‹åè¯è§£é‡Šä»¥åŠå¸¸ç”¨æ–¹æ³•1. åè¯è§£é‡Š ä¸»çº¿ç¨‹ï¼šJVM è°ƒç”¨ç¨‹åº main() æ‰€äº§ç”Ÿçš„çº¿ç¨‹ã€‚ å½“å‰çº¿ç¨‹ï¼šè¿™ä¸ªæ˜¯å®¹æ˜“æ··æ·†çš„æ¦‚å¿µã€‚ä¸€èˆ¬æŒ‡é€šè¿‡ Thread.currentThread() æ¥è·å–çš„è¿›ç¨‹ã€‚ åå°çº¿ç¨‹ï¼šæŒ‡ä¸ºå…¶ä»–çº¿ç¨‹æä¾›æœåŠ¡çš„çº¿ç¨‹ï¼Œä¹Ÿç§°ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚JVM çš„åƒåœ¾å›æ”¶çº¿ç¨‹å°±æ˜¯ä¸€ä¸ªåå°çº¿ç¨‹ã€‚ç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹çš„åŒºåˆ«åœ¨äºï¼Œæ˜¯å¦ç­‰å¾…ä¸»çº¿ç¨‹ä¾èµ–äºä¸»çº¿ç¨‹ç»“æŸè€Œç»“æŸ å‰å°çº¿ç¨‹ï¼šæ˜¯æŒ‡æ¥å—åå°çº¿ç¨‹æœåŠ¡çš„çº¿ç¨‹ï¼Œå…¶å®å‰å°åå°çº¿ç¨‹æ˜¯è”ç³»åœ¨ä¸€èµ·ï¼Œå°±åƒå‚€å„¡å’Œå¹•åæ“çºµè€…ä¸€æ ·çš„å…³ç³»ã€‚å‚€å„¡æ˜¯å‰å°çº¿ç¨‹ã€å¹•åæ“çºµè€…æ˜¯åå°çº¿ç¨‹ã€‚ç”±å‰å°çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤ä¹Ÿæ˜¯å‰å°çº¿ç¨‹ã€‚å¯ä»¥é€šè¿‡isDaemon() å’Œ setDaemon() æ–¹æ³•æ¥åˆ¤æ–­å’Œè®¾ç½®ä¸€ä¸ªçº¿ç¨‹æ˜¯å¦ä¸ºåå°çº¿ç¨‹ã€‚ 2. çº¿ç¨‹ç±»çš„ä¸€äº›å¸¸ç”¨æ–¹æ³•ï¼š sleep()ï¼šå¼ºè¿«ä¸€ä¸ªçº¿ç¨‹ç¡çœ ï¼®æ¯«ç§’ã€‚ isAlive()ï¼š åˆ¤æ–­ä¸€ä¸ªçº¿ç¨‹æ˜¯å¦å­˜æ´»ã€‚ join()ï¼š ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢ã€‚ activeCount()ï¼š ç¨‹åºä¸­æ´»è·ƒçš„çº¿ç¨‹æ•°ã€‚ enumerate()ï¼š æšä¸¾ç¨‹åºä¸­çš„çº¿ç¨‹ã€‚ currentThread()ï¼š å¾—åˆ°å½“å‰çº¿ç¨‹ã€‚ isDaemon()ï¼š ä¸€ä¸ªçº¿ç¨‹æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚ setDaemon()ï¼š è®¾ç½®ä¸€ä¸ªçº¿ç¨‹ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚(ç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹çš„åŒºåˆ«åœ¨äºï¼Œæ˜¯å¦ç­‰å¾…ä¸»çº¿ç¨‹ä¾èµ–äºä¸»çº¿ç¨‹ç»“æŸè€Œç»“æŸ) setName()ï¼š ä¸ºçº¿ç¨‹è®¾ç½®ä¸€ä¸ªåç§°ã€‚ wait()ï¼š å¼ºè¿«ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ã€‚ notify()ï¼š é€šçŸ¥ä¸€ä¸ªçº¿ç¨‹ç»§ç»­è¿è¡Œã€‚ setPriority()ï¼š è®¾ç½®ä¸€ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚ getPriority():ï¼šè·å¾—ä¸€ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚ å…«ã€çº¿ç¨‹åŒæ­¥1ã€synchronizedå…³é”®å­—çš„ä½œç”¨åŸŸ æ˜¯æŸä¸ªå¯¹è±¡å®ä¾‹å†…ï¼Œsynchronized aMethod(){} å¯ä»¥é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®è¿™ä¸ªå¯¹è±¡çš„ synchronized æ–¹æ³•ï¼ˆå¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰å¤šä¸ª synchronized æ–¹æ³•ï¼Œåªè¦ä¸€ä¸ªçº¿ç¨‹è®¿é—®äº†å…¶ä¸­çš„ä¸€ä¸ª synchronized æ–¹æ³•ï¼Œå…¶å®ƒçº¿ç¨‹ä¸èƒ½åŒæ—¶è®¿é—®è¿™ä¸ªå¯¹è±¡ä¸­ä»»ä½•ä¸€ä¸ª synchronized æ–¹æ³•ï¼‰ã€‚è¿™æ—¶ï¼Œä¸åŒçš„å¯¹è±¡å®ä¾‹çš„ synchronized æ–¹æ³•æ˜¯ä¸ç›¸å¹²æ‰°çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶å®ƒçº¿ç¨‹ç…§æ ·å¯ä»¥åŒæ—¶è®¿é—®ç›¸åŒç±»çš„å¦ä¸€ä¸ªå¯¹è±¡å®ä¾‹ä¸­çš„ synchronized æ–¹æ³•ï¼› æ˜¯æŸä¸ªç±»çš„èŒƒå›´ï¼Œsynchronized static aStaticMethod{} é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®è¿™ä¸ªç±»ä¸­çš„ synchronized static æ–¹æ³•ã€‚å®ƒå¯ä»¥å¯¹ç±»çš„æ‰€æœ‰å¯¹è±¡å®ä¾‹èµ·ä½œç”¨ã€‚ 2ã€synchronizedå…³é”®å­—å®ç°äº’æ–¥è®¿é—®é™¤äº†æ–¹æ³•å‰ç”¨ synchronized å…³é”®å­—ï¼Œ synchronized å…³é”®å­—è¿˜å¯ä»¥ç”¨äºæ–¹æ³•ä¸­çš„æŸä¸ªåŒºå—ä¸­ï¼Œè¡¨ç¤ºåªå¯¹è¿™ä¸ªåŒºå—çš„èµ„æºå®è¡Œäº’æ–¥è®¿é—®ã€‚ç”¨æ³•æ˜¯: synchronized(this){/*åŒºå—*/}ï¼Œå®ƒçš„ä½œç”¨åŸŸæ˜¯å½“å‰å¯¹è±¡ï¼› 3. ä¸èƒ½ç»§æ‰¿synchronized å…³é”®å­—æ˜¯ä¸èƒ½ç»§æ‰¿çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºç±»çš„æ–¹æ³• synchronized f(){}åœ¨ç»§æ‰¿ç±»ä¸­å¹¶ä¸è‡ªåŠ¨æ˜¯synchronized f(){}ï¼Œè€Œæ˜¯å˜æˆäº† f(){} ã€‚ç»§æ‰¿ç±»éœ€è¦ä½ æ˜¾å¼çš„æŒ‡å®šå®ƒçš„æŸä¸ªæ–¹æ³•ä¸º synchronized æ–¹æ³•ï¼› 4. ç”¨æ³•Javaå¯¹å¤šçº¿ç¨‹çš„æ”¯æŒä¸åŒæ­¥æœºåˆ¶æ·±å—å¤§å®¶çš„å–œçˆ±ï¼Œä¼¼ä¹çœ‹èµ·æ¥ä½¿ç”¨äº†synchronizedå…³é”®å­—å°±å¯ä»¥è½»æ¾åœ°è§£å†³å¤šçº¿ç¨‹å…±äº«æ•°æ®åŒæ­¥é—®é¢˜ã€‚åˆ°åº•å¦‚ä½•ï¼Ÿâ€•â€•è¿˜å¾—å¯¹synchronizedå…³é”®å­—çš„ä½œç”¨è¿›è¡Œæ·±å…¥äº†è§£æ‰å¯å®šè®ºã€‚ æ€»çš„è¯´æ¥ï¼Œsynchronizedå…³é”®å­—å¯ä»¥ä½œä¸ºå‡½æ•°çš„ä¿®é¥°ç¬¦ï¼Œä¹Ÿå¯ä½œä¸ºå‡½æ•°å†…çš„è¯­å¥ï¼Œä¹Ÿå°±æ˜¯å¹³æ—¶è¯´çš„åŒæ­¥æ–¹æ³•å’ŒåŒæ­¥è¯­å¥å—ã€‚å¦‚æœå†ç»†çš„åˆ†ç±»ï¼Œsynchronizedå¯ä½œç”¨äºinstanceå˜é‡ã€object referenceï¼ˆå¯¹è±¡å¼•ç”¨ï¼‰ã€staticå‡½æ•°å’Œclass literals(ç±»åç§°å­—é¢å¸¸é‡)èº«ä¸Šã€‚ åœ¨è¿›ä¸€æ­¥é˜è¿°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ç‚¹ï¼š æ— è®ºsynchronizedå…³é”®å­—åŠ åœ¨æ–¹æ³•ä¸Šè¿˜æ˜¯å¯¹è±¡ä¸Šï¼Œå®ƒå–å¾—çš„é”éƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸æ˜¯æŠŠä¸€æ®µä»£ç æˆ–å‡½æ•°å½“ä½œé”â€•â€•è€Œä¸”åŒæ­¥æ–¹æ³•å¾ˆå¯èƒ½è¿˜ä¼šè¢«å…¶ä»–çº¿ç¨‹çš„å¯¹è±¡è®¿é—®ã€‚ æ¯ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ªé”ï¼ˆlockï¼‰ä¸ä¹‹ç›¸å…³è”ã€‚ å®ç°åŒæ­¥æ˜¯è¦å¾ˆå¤§çš„ç³»ç»Ÿå¼€é”€ä½œä¸ºä»£ä»·çš„ï¼Œç”šè‡³å¯èƒ½é€ æˆæ­»é”ï¼Œæ‰€ä»¥å°½é‡é¿å…æ— è°“çš„åŒæ­¥æ§åˆ¶ã€‚ æ¥ç€æ¥è®¨è®ºsynchronizedç”¨åˆ°ä¸åŒåœ°æ–¹å¯¹ä»£ç äº§ç”Ÿçš„å½±å“ï¼š å‡è®¾P1ã€P2æ˜¯åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ï¼Œè¿™ä¸ªç±»ä¸­å®šä¹‰äº†ä»¥ä¸‹å‡ ç§æƒ…å†µçš„åŒæ­¥å—æˆ–åŒæ­¥æ–¹æ³•ï¼ŒP1ã€P2å°±éƒ½å¯ä»¥è°ƒç”¨å®ƒä»¬ã€‚ æŠŠsynchronizedå½“ä½œå‡½æ•°ä¿®é¥°ç¬¦æ—¶ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š1234Public synchronized void methodAAA() &#123; //â€¦. &#125; è¿™ä¹Ÿå°±æ˜¯åŒæ­¥æ–¹æ³•ï¼Œé‚£è¿™æ—¶ synchronized é”å®šçš„æ˜¯å“ªä¸ªå¯¹è±¡å‘¢ï¼Ÿå®ƒé”å®šçš„æ˜¯è°ƒç”¨è¿™ä¸ªåŒæ­¥æ–¹æ³•å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ P1 åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ‰§è¡Œè¿™ä¸ªåŒæ­¥æ–¹æ³•æ—¶ï¼Œå®ƒä»¬ä¹‹é—´ä¼šå½¢æˆäº’æ–¥ï¼Œè¾¾åˆ°åŒæ­¥çš„æ•ˆæœã€‚ä½†æ˜¯è¿™ä¸ªå¯¹è±¡æ‰€å±çš„ Class æ‰€äº§ç”Ÿçš„å¦ä¸€å¯¹è±¡ P2 å´å¯ä»¥ä»»æ„è°ƒç”¨è¿™ä¸ªè¢«åŠ äº† synchronized å…³é”®å­—çš„æ–¹æ³•ã€‚ä¸Šè¾¹çš„ç¤ºä¾‹ä»£ç ç­‰åŒäºå¦‚ä¸‹ä»£ç ï¼š1234567public void methodAAA() &#123; synchronized (this) // (1) &#123; //â€¦.. &#125; &#125; (1)å¤„çš„thisæŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæŒ‡çš„å°±æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼Œå¦‚P1ã€‚å¯è§åŒæ­¥æ–¹æ³•å®è´¨æ˜¯å°†synchronizedä½œç”¨äºobject referenceã€‚â€•â€•é‚£ä¸ªæ‹¿åˆ°äº†P1å¯¹è±¡é”çš„çº¿ç¨‹ï¼Œæ‰å¯ä»¥è°ƒç”¨P1çš„åŒæ­¥æ–¹æ³•ï¼Œè€Œå¯¹P2è€Œè¨€ï¼ŒP1è¿™ä¸ªé”ä¸å®ƒæ¯«ä¸ç›¸å¹²ï¼Œç¨‹åºä¹Ÿå¯èƒ½åœ¨è¿™ç§æƒ…å½¢ä¸‹æ‘†è„±åŒæ­¥æœºåˆ¶çš„æ§åˆ¶ï¼Œé€ æˆæ•°æ®æ··ä¹±. 2. åŒæ­¥å—ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š12345public void method3(SomeObject so) &#123; synchronized (so) &#123; //â€¦.. &#125;&#125; è¿™æ—¶ï¼Œé”å°±æ˜¯soè¿™ä¸ªå¯¹è±¡ï¼Œè°æ‹¿åˆ°è¿™ä¸ªé”è°å°±å¯ä»¥è¿è¡Œå®ƒæ‰€æ§åˆ¶çš„é‚£æ®µä»£ç ã€‚å½“æœ‰ä¸€ä¸ªæ˜ç¡®çš„å¯¹è±¡ä½œä¸ºé”æ—¶ï¼Œå°±å¯ä»¥è¿™æ ·å†™ç¨‹åºï¼Œä½†å½“æ²¡æœ‰æ˜ç¡®çš„å¯¹è±¡ä½œä¸ºé”ï¼Œåªæ˜¯æƒ³è®©ä¸€æ®µä»£ç åŒæ­¥æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„ instance å˜é‡ï¼ˆå®ƒå¾—æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰æ¥å……å½“é”ï¼š123456789class Foo implements Runnable &#123; private byte[] lock = new byte[0]; // ç‰¹æ®Šçš„instanceå˜é‡ public void methodA() &#123; synchronized (lock) &#123; //â€¦ &#125; &#125;//â€¦.. &#125;&#125; æ³¨ï¼šé›¶é•¿åº¦çš„ byte æ•°ç»„å¯¹è±¡åˆ›å»ºèµ·æ¥å°†æ¯”ä»»ä½•å¯¹è±¡éƒ½ç»æµâ€•â€•æŸ¥çœ‹ç¼–è¯‘åçš„å­—èŠ‚ç ï¼šç”Ÿæˆé›¶é•¿åº¦çš„ byte[] å¯¹è±¡åªéœ€3æ¡æ“ä½œç ï¼Œè€ŒObject lock = new Object()åˆ™éœ€è¦7è¡Œæ“ä½œç ã€‚ 3. å°†synchronizedä½œç”¨äºstatic å‡½æ•°ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 12345678910class Foo &#123; public synchronized static void methodAAA() // åŒæ­¥çš„static å‡½æ•° &#123;//â€¦. &#125; public void methodBBB() &#123; synchronized (Foo.class) // class literal(ç±»åç§°å­—é¢å¸¸é‡) &#125;&#125; ä»£ç ä¸­çš„ methodBBB() æ–¹æ³•æ˜¯æŠŠ class literal ä½œä¸ºé”çš„æƒ…å†µï¼Œå®ƒå’ŒåŒæ­¥çš„ static å‡½æ•°äº§ç”Ÿçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå–å¾—çš„é”å¾ˆç‰¹åˆ«ï¼Œæ˜¯å½“å‰è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡æ‰€å±çš„ç±»ï¼ˆClassï¼Œè€Œä¸å†æ˜¯ç”±è¿™ä¸ª Class äº§ç”Ÿçš„æŸä¸ªå…·ä½“å¯¹è±¡äº†ï¼‰ã€‚è®°å¾—åœ¨ã€ŠEffective Javaã€‹ä¸€ä¹¦ä¸­çœ‹åˆ°è¿‡å°† Foo.class å’Œ P1.getClass() ç”¨äºä½œåŒæ­¥é”è¿˜ä¸ä¸€æ ·ï¼Œä¸èƒ½ç”¨ P1.getClass() æ¥è¾¾åˆ°é”è¿™ä¸ª Class çš„ç›®çš„ã€‚ P1 æŒ‡çš„æ˜¯ç”± Foo ç±»äº§ç”Ÿçš„å¯¹è±¡ã€‚å¯ä»¥æ¨æ–­ï¼šå¦‚æœä¸€ä¸ªç±»ä¸­å®šä¹‰äº†ä¸€ä¸ª synchronized çš„ static å‡½æ•°Aï¼Œä¹Ÿå®šä¹‰äº†ä¸€ä¸ª synchronized çš„ instance å‡½æ•°Bï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„åŒä¸€å¯¹è±¡ Obj åœ¨å¤šçº¿ç¨‹ä¸­åˆ†åˆ«è®¿é—® A å’Œ B ä¸¤ä¸ªæ–¹æ³•æ—¶ï¼Œä¸ä¼šæ„æˆåŒæ­¥ï¼Œå› ä¸ºå®ƒä»¬çš„é”éƒ½ä¸ä¸€æ ·ã€‚ A æ–¹æ³•çš„é”æ˜¯ Obj è¿™ä¸ªå¯¹è±¡ï¼Œè€Œ B çš„é”æ˜¯ Obj æ‰€å±çš„é‚£ä¸ª Class ã€‚ æ€»ç»“ çº¿ç¨‹åŒæ­¥çš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤å¤šä¸ªçº¿ç¨‹åé—®ä¸€ä¸ªèµ„æºæ—¶å¯¹èµ„æºçš„ç ´åã€‚ çº¿ç¨‹åŒæ­¥æ–¹æ³•æ˜¯é€šè¿‡é”æ¥å®ç°ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰åˆ‡ä»…æœ‰ä¸€ä¸ªé”ï¼Œè¿™ä¸ªé”ä¸ä¸€ä¸ªç‰¹å®šçš„å¯¹è±¡å…³è”ï¼Œçº¿ç¨‹ä¸€æ—¦è·å–äº†å¯¹è±¡é”ï¼Œå…¶ä»–è®¿é—®è¯¥å¯¹è±¡çš„çº¿ç¨‹å°±æ— æ³•å†è®¿é—®è¯¥å¯¹è±¡çš„å…¶ä»–éåŒæ­¥æ–¹æ³• å¯¹äºé™æ€åŒæ­¥æ–¹æ³•ï¼Œé”æ˜¯é’ˆå¯¹è¿™ä¸ªç±»çš„ï¼Œé”å¯¹è±¡æ˜¯è¯¥ç±»çš„Classå¯¹è±¡ã€‚é™æ€å’Œéé™æ€æ–¹æ³•çš„é”äº’ä¸å¹²é¢„ã€‚ä¸€ä¸ªçº¿ç¨‹è·å¾—é”ï¼Œå½“åœ¨ä¸€ä¸ªåŒæ­¥æ–¹æ³•ä¸­è®¿é—®å¦å¤–å¯¹è±¡ä¸Šçš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œä¼šè·å–è¿™ä¸¤ä¸ªå¯¹è±¡é”ã€‚ å¯¹äºåŒæ­¥ï¼Œè¦æ—¶åˆ»æ¸…é†’åœ¨å“ªä¸ªå¯¹è±¡ä¸ŠåŒæ­¥ï¼Œè¿™æ˜¯å…³é”®ã€‚ ç¼–å†™çº¿ç¨‹å®‰å…¨çš„ç±»ï¼Œéœ€è¦æ—¶åˆ»æ³¨æ„å¯¹å¤šä¸ªçº¿ç¨‹ç«äº‰è®¿é—®èµ„æºçš„é€»è¾‘å’Œå®‰å…¨åšå‡ºæ­£ç¡®çš„åˆ¤æ–­ï¼Œå¯¹â€œåŸå­â€æ“ä½œåšå‡ºåˆ†æï¼Œå¹¶ä¿è¯åŸå­æ“ä½œæœŸé—´åˆ«çš„çº¿ç¨‹æ— æ³•è®¿é—®ç«äº‰èµ„æºã€‚ å½“å¤šä¸ªçº¿ç¨‹ç­‰å¾…ä¸€ä¸ªå¯¹è±¡é”æ—¶ï¼Œæ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹å°†å‘ç”Ÿé˜»å¡ã€‚ æ­»é”æ˜¯çº¿ç¨‹é—´ç›¸äº’ç­‰å¾…é”é”é€ æˆçš„ï¼Œåœ¨å®é™…ä¸­å‘ç”Ÿçš„æ¦‚ç‡éå¸¸çš„å°ã€‚çœŸè®©ä½ å†™ä¸ªæ­»é”ç¨‹åºï¼Œä¸ä¸€å®šå¥½ä½¿ï¼Œå‘µå‘µã€‚ä½†æ˜¯ï¼Œä¸€æ—¦ç¨‹åºå‘ç”Ÿæ­»é”ï¼Œç¨‹åºå°†æ­»æ‰ã€‚ ä¹ã€çº¿ç¨‹æ•°æ®ä¼ é€’ åœ¨ä¼ ç»Ÿçš„åŒæ­¥å¼€å‘æ¨¡å¼ä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œé€šè¿‡è¿™ä¸ªå‡½æ•°çš„å‚æ•°å°†æ•°æ®ä¼ å…¥ï¼Œå¹¶é€šè¿‡è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ¥è¿”å›æœ€ç»ˆçš„è®¡ç®—ç»“æœã€‚ä½†åœ¨å¤šçº¿ç¨‹çš„å¼‚æ­¥å¼€å‘æ¨¡å¼ä¸‹ï¼Œæ•°æ®çš„ä¼ é€’å’Œè¿”å›å’ŒåŒæ­¥å¼€å‘æ¨¡å¼æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚ç”±äºçº¿ç¨‹çš„è¿è¡Œå’Œç»“æŸæ˜¯ä¸å¯é¢„æ–™çš„ï¼Œå› æ­¤ï¼Œåœ¨ä¼ é€’å’Œè¿”å›æ•°æ®æ—¶å°±æ— æ³•è±¡å‡½æ•°ä¸€æ ·é€šè¿‡å‡½æ•°å‚æ•°å’Œ return è¯­å¥æ¥è¿”å›æ•°æ®ã€‚ 1. é€šè¿‡æ„é€ æ–¹æ³•ä¼ é€’æ•°æ®åœ¨åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œå¿…é¡»è¦å»ºç«‹ä¸€ä¸ª Thread ç±»çš„æˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸éš¾æƒ³åˆ°åœ¨è°ƒç”¨ start æ–¹æ³•ä¹‹å‰é€šè¿‡çº¿ç¨‹ç±»çš„æ„é€ æ–¹æ³•å°†æ•°æ®ä¼ å…¥çº¿ç¨‹ã€‚å¹¶å°†ä¼ å…¥çš„æ•°æ®ä½¿ç”¨ç±»å˜é‡ä¿å­˜èµ·æ¥ï¼Œä»¥ä¾¿çº¿ç¨‹ä½¿ç”¨(å…¶å®å°±æ˜¯åœ¨ run æ–¹æ³•ä¸­ä½¿ç”¨)ã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡æ„é€ æ–¹æ³•æ¥ä¼ é€’æ•°æ®ï¼š 123456789101112131415161718192021/** * Created by Sean on 2017/5/9. */class Thread9 extends Thread &#123; private String threadName; public Thread9(String threadName) &#123; this.threadName = threadName; &#125; public void run() &#123; System.out.println(&quot;hello &quot; + threadName); &#125;&#125;public class Main9 &#123; public static void main(String[] args) &#123; Thread9 thread = new Thread9(&quot;world&quot;); thread.start(); &#125;&#125; ç”±äºè¿™ç§æ–¹æ³•æ˜¯åœ¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„åŒæ—¶ä¼ é€’æ•°æ®çš„ï¼Œå› æ­¤ï¼Œåœ¨çº¿ç¨‹è¿è¡Œä¹‹å‰è¿™äº›æ•°æ®å°±å°±å·²ç»åˆ°ä½äº†ï¼Œè¿™æ ·å°±ä¸ä¼šé€ æˆæ•°æ®åœ¨çº¿ç¨‹è¿è¡Œåæ‰ä¼ å…¥çš„ç°è±¡ã€‚å¦‚æœè¦ä¼ é€’æ›´å¤æ‚çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆã€ç±»ç­‰æ•°æ®ç»“æ„ã€‚ä½¿ç”¨æ„é€ æ–¹æ³•æ¥ä¼ é€’æ•°æ®è™½ç„¶æ¯”è¾ƒå®‰å…¨ï¼Œä½†å¦‚æœè¦ä¼ é€’çš„æ•°æ®æ¯”è¾ƒå¤šæ—¶ï¼Œå°±ä¼šé€ æˆå¾ˆå¤šä¸ä¾¿ã€‚ç”±äº Java æ²¡æœ‰é»˜è®¤å‚æ•°ï¼Œè¦æƒ³å®ç°ç±»ä¼¼é»˜è®¤å‚æ•°çš„æ•ˆæœï¼Œå°±å¾—ä½¿ç”¨é‡è½½ï¼Œè¿™æ ·ä¸ä½†ä½¿æ„é€ æ–¹æ³•æœ¬èº«è¿‡äºå¤æ‚ï¼Œåˆä¼šä½¿æ„é€ æ–¹æ³•åœ¨æ•°é‡ä¸Šå¤§å¢ã€‚å› æ­¤ï¼Œè¦æƒ³é¿å…è¿™ç§æƒ…å†µï¼Œå°±å¾—é€šè¿‡ç±»æ–¹æ³•æˆ–ç±»å˜é‡æ¥ä¼ é€’æ•°æ®ã€‚ 2. é€šè¿‡å˜é‡å’Œæ–¹æ³•ä¼ é€’æ•°æ®å‘å¯¹è±¡ä¸­ä¼ å…¥æ•°æ®ä¸€èˆ¬æœ‰ä¸¤æ¬¡æœºä¼šï¼š ç¬¬ä¸€æ¬¡æœºä¼šæ˜¯åœ¨å»ºç«‹å¯¹è±¡æ—¶é€šè¿‡æ„é€ æ–¹æ³•å°†æ•°æ®ä¼ å…¥ï¼› å¦å¤–ä¸€æ¬¡æœºä¼šå°±æ˜¯åœ¨ç±»ä¸­å®šä¹‰ä¸€ç³»åˆ—çš„ public çš„æ–¹æ³•æˆ–å˜é‡ï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºå­—æ®µï¼‰ã€‚ç„¶ååœ¨å»ºç«‹å®Œå¯¹è±¡åï¼Œé€šè¿‡å¯¹è±¡å®ä¾‹é€ä¸ªèµ‹å€¼ã€‚ä¸‹é¢çš„ä»£ç æ˜¯å¯¹Thread9 ç±»çš„æ”¹ç‰ˆï¼Œä½¿ç”¨äº†ä¸€ä¸ª setThreadName æ–¹æ³•æ¥è®¾ç½® threadName å˜é‡ï¼š 1234567891011121314151617181920212223242526272829/** * Created by Sean on 2017/5/9. */class Thread9 extends Thread &#123; private String threadName; public Thread9(String threadName) &#123; this.threadName = threadName; &#125; public String getThreadName() &#123; return threadName; &#125; public void setThreadName(String threadName) &#123; this.threadName = threadName; &#125; public void run() &#123; System.out.println(&quot;hello &quot; + threadName); &#125;&#125;public class Main9 &#123; public static void main(String[] args) &#123; Thread9 thread = new Thread9(&quot;world&quot;); thread.start(); &#125;&#125; 3. é€šè¿‡å›è°ƒå‡½æ•°ä¼ é€’æ•°æ®é¢è®¨è®ºçš„ä¸¤ç§å‘çº¿ç¨‹ä¸­ä¼ é€’æ•°æ®çš„æ–¹æ³•æ˜¯æœ€å¸¸ç”¨çš„ã€‚ä½†è¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯ main æ–¹æ³•ä¸­ä¸»åŠ¨å°†æ•°æ®ä¼ å…¥çº¿ç¨‹ç±»çš„ã€‚è¿™å¯¹äºçº¿ç¨‹æ¥è¯´ï¼Œæ˜¯è¢«åŠ¨æ¥æ”¶è¿™äº›æ•°æ®çš„ã€‚ç„¶è€Œï¼Œåœ¨æœ‰äº›åº”ç”¨ä¸­éœ€è¦åœ¨çº¿ç¨‹è¿è¡Œçš„è¿‡ç¨‹ä¸­åŠ¨æ€åœ°è·å–æ•°æ®ï¼Œå¦‚åœ¨ä¸‹é¢ä»£ç çš„ run æ–¹æ³•ä¸­äº§ç”Ÿäº† 3 ä¸ªéšæœºæ•°ï¼Œç„¶åé€šè¿‡ Work ç±»çš„ process æ–¹æ³•æ±‚è¿™ä¸‰ä¸ªéšæœºæ•°çš„å’Œï¼Œå¹¶é€šè¿‡ Data ç±»çš„ value å°†ç»“æœè¿”å›ã€‚ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œåœ¨è¿”å› value ä¹‹å‰ï¼Œå¿…é¡»è¦å¾—åˆ°ä¸‰ä¸ªéšæœºæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ª value æ˜¯æ— æ³•äº‹å…ˆå°±ä¼ å…¥çº¿ç¨‹ç±»çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * å›è°ƒå®ç°å¤šçº¿ç¨‹ä¼ é€’æ•°æ® * Created by Sean on 2017/5/9. */class Data &#123; public int value = 0;&#125;class Work &#123; public void process(Data data, Integer[] numbers) &#123; for (int n : numbers) &#123; data.value += n; &#125; &#125;&#125;class Thread10 extends Thread &#123; private Work work; public Thread10(Work work) &#123; this.work = work; &#125; @Override public void run() &#123; super.run(); Integer[] numbers = new Integer[3]; java.util.Random random = new java.util.Random(); Data data = new Data(); for (int i = 0; i &lt; numbers.length; i++) &#123; numbers[i] = random.nextInt(100); &#125; work.process(data,numbers); System.out.println(String.valueOf(numbers[0]) + &quot;+&quot; + String.valueOf(numbers[1]) + &quot;+&quot; + String.valueOf(numbers[2]) + &quot;=&quot; + data.value); &#125; public static void main(String[] args) &#123; Thread thread = new Thread10(new Work()); thread.start(); &#125;&#125; å¤šçº¿ç¨‹å°±å†™åˆ°è¿™é‡Œäº†ï¼ŒåŸºæœ¬éƒ½æ˜¯æŒ‰ç…§è¿™ç¯‡åšå®¢æ•²çš„ï¼Œæ¯ä¸ªè´´çš„ä»£ç éƒ½æ˜¯äº²è‡ªé‡å†™ã€éªŒè¯ï¼Œéƒ½æ˜¯å¯æ‰§è¡Œçš„ï¼Œè™½ç„¶èŠ±äº†å¾ˆå¤šæ—¶é—´ï¼Œä½†æ˜¯è‡ªå·±å¯¹å¤šçº¿ç¨‹æœ‰äº†æ›´æ·±å±‚æ¬¡çš„è®¤è¯†ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚ æ—ç‚³æ–‡EvankakaåŸåˆ›ä½œå“ã€‚å‡ºå¤„http://blog.csdn.net/evankaka","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Java JavaåŸºç¡€","slug":"Java-JavaåŸºç¡€","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Java-JavaåŸºç¡€/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"AndroidåŸºç¡€---ä½ å¿…é¡»äº†è§£çš„åº”ç”¨æ–‡ä»¶ç›®å½•","slug":"AndroidåŸºç¡€-ä½ å¿…é¡»äº†è§£çš„åº”ç”¨æ–‡ä»¶ç›®å½•","date":"2017-05-02T09:29:32.000Z","updated":"2018-01-16T03:23:13.789Z","comments":true,"path":"2017/05/02/AndroidåŸºç¡€-ä½ å¿…é¡»äº†è§£çš„åº”ç”¨æ–‡ä»¶ç›®å½•/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/05/02/AndroidåŸºç¡€-ä½ å¿…é¡»äº†è§£çš„åº”ç”¨æ–‡ä»¶ç›®å½•/","excerpt":"","text":"åœ¨å¼€å‘ä¸­ä¸€èˆ¬ä¼šå¯¹æ‰‹æœºçš„å†…å­˜è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨åº”ç”¨è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€äº›æ—¥å¿—ã€å›¾ç‰‡ç­‰ä¿¡æ¯ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™è¦å¯¹å…¶è¿›è¡Œå¿…è¦çš„æ“ä½œï¼Œæ‰€ä»¥è¦å¯¹æ–‡ä»¶è¿™ä¸€å—è¦æœ‰ä¸€ä¸ªåŸºç¡€çš„ç†è§£ã€‚ æ¦‚å¿µ1ã€å†…éƒ¨å­˜å‚¨ï¼šé¦–å…ˆè¯´æ˜ä¸€ä¸ªæ¦‚å¿µï¼Œå†…éƒ¨å­˜å‚¨ä¸æ˜¯å†…å­˜ï¼Œè€Œæ˜¯åƒç£ç›˜ä¸€æ ·å¯ä»¥å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œä»–åœ¨æ‰‹æœºå†…éƒ¨ï¼Œå±äºæ‰‹æœºè‡ªå¸¦å†…å­˜çš„ä¸€éƒ¨åˆ†ã€‚ å†…éƒ¨å­˜å‚¨ç§æœ‰ç›®å½•é‡Œé¢æœ‰ä¸€ä¸ª data/data æ–‡ä»¶å¤¹ï¼Œä¸‹é¢å­˜æ”¾æ˜¯æ‰€æœ‰åº”ç”¨ç¨‹åºçš„åŒ…åæ–‡ä»¶å¤¹ï¼Œè¿™éƒ¨åˆ†çš„å†…å®¹åªæœ‰åœ¨æ‰‹æœº root ä¹‹åæ‰èƒ½çœ‹å¾—åˆ°ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯æ¨¡æ‹Ÿå™¨ï¼Œå¯ä»¥åœ¨ Android Device Monitor ä¸­çœ‹åˆ°ã€‚ æ¯”å¦‚ä¸€ä¸ªåº”ç”¨çš„åŒ…åä¸º com.test.test é‚£ä¹ˆè¿™ä¸ªåº”ç”¨åªèƒ½è®¿é—® /data/data/com.test.test ç›®å½•ä¸‹é¢çš„æ–‡ä»¶ï¼Œå…¶ä»– data/data ç›®å½•ä¸‹é¢çš„æ–‡ä»¶è¿™ä¸ªåº”ç”¨æ˜¯è®¿é—®ä¸åˆ°çš„ æ–¹æ³•ï¼š Environment.getDataDirectory(); è·å–dataæ ¹ç›®å½• getFilesDir() æ–¹æ³•ç”¨äºè·å– /data/data/&lt;application package&gt;/files ç›®å½• getCacheDir() æ–¹æ³•ç”¨äºè·å– /data/data/&lt;application package&gt;/cache ç›®å½• deleteFile() åˆ é™¤æ–‡ä»¶ fileList() åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ æ³¨æ„ï¼šå½“ç”¨æˆ·å¸è½½ App æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ é™¤ data/data ç›®å½•ä¸‹å¯¹åº”åŒ…åçš„æ–‡ä»¶å¤¹åŠå…¶å†…å®¹ã€‚ 2ã€å¤–éƒ¨å­˜å‚¨è¿™é‡Œä¸è¦è¢«å¤–éƒ¨å­˜å‚¨å‡ ä¸ªå­—æ‰€è¿·æƒ‘ï¼Œè¿™é‡Œè¯´çš„å¤–éƒ¨å­˜å‚¨å…¶å®ä¸å•å•æŒ‡çš„å¤–ç½®çš„å†…å­˜å¡ï¼Œ Android æ‰‹æœºåœ¨å‡ºå‚çš„æ—¶å€™çš„å†…å­˜ï¼Œæ¯”å¦‚å¹³å¸¸æˆ‘ä»¬æ‰€è¯´çš„ 64G ã€128G å†…å­˜ï¼Œè¿™ä¸ªéƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬å¼€å‘äººå‘˜æ‰€è¯´çš„å¤–éƒ¨å­˜å‚¨ã€‚ é‚£æˆ‘ä»¬å¾€æ‰‹æœºé‡Œé¢æ’å…¥çš„å†…å­˜å¡å«ä»€ä¹ˆå‘¢ï¼Ÿå¯¹çš„ï¼Œä¹Ÿæ˜¯å«å¤–éƒ¨å­˜å‚¨ã€‚ åœ¨å‚è€ƒæ–‡ç« çœ‹åˆ°ä¸€å¥è¯ï¼šåªè¦æ˜¯èƒ½çœ‹å¾—åˆ°ï¼Œéƒ½æ˜¯å¤–éƒ¨å­˜å‚¨ã€‚ å¤–éƒ¨å­˜å‚¨ç§æœ‰ç›®å½• å¤‡æ³¨ï¼šä¸€èˆ¬è®¾å¤‡éƒ½æœ‰å†…ç½® SD å¡ï¼ŒåŒæ—¶ä¹Ÿæä¾›å¤–éƒ¨ SD å¡æ‹“å±•ï¼Œå¯èƒ½å¯¹åº”è·¯å¾„çš„ç›®å½•åæœ‰æ‰€å·®å¼‚ã€‚ å¦‚æœæ²¡æœ‰æ’å…¥å†…å­˜å¡çš„è¯ï¼Œä¸€èˆ¬å¤–éƒ¨å­˜å‚¨çš„ç§æœ‰ç›®å½•å°±æ˜¯ï¼š1/storage/emulated/0/Android/data/app package name æ–¹æ³•ï¼š Environment.getExternalStorageDirectory(); è·å– SD å¡æ ¹ç›®å½• getExternalFilesDir() æ–¹æ³•ç”¨äºè·å– /storage/emulated/0/Android/data/&lt;application package&gt;/files ç›®å½• getExternalCacheDir() æ–¹æ³•ç”¨äºè·å– /storage/emulated/0/Android/data/&lt;application package&gt;/cache ç›®å½• é™¤äº†ä¸Šé¢çš„filesç›®å½•å’Œcacheç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„åˆ†ç±»å»ºç«‹å…¶ä»–çš„ç›®å½•ï¼Œä¾¿äºæˆ‘ä»¬æ›´å¥½çš„ç®¡ç† 3ã€å†…éƒ¨å­˜å‚¨ç§æœ‰ç›®å½• VS å¤–éƒ¨å­˜å‚¨ç§æœ‰ç›®å½•ä¸åŒç‚¹ é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¹¶ä¸ä¼šè‡ªåŠ¨åˆ›å»ºå¤–éƒ¨å­˜å‚¨ç©ºé—´çš„åº”ç”¨ç§æœ‰ç›®å½•ã€‚åªæœ‰åœ¨åº”ç”¨éœ€è¦çš„æ—¶å€™ï¼Œå¼€å‘äººå‘˜é€šè¿‡ SDK æä¾›çš„ API åˆ›å»ºè¯¥ç›®å½•æ–‡ä»¶å¤¹å’Œæ“ä½œæ–‡ä»¶å¤¹å†…å®¹ è‡ª Android 7.0 å¼€å§‹ï¼Œç³»ç»Ÿå¯¹åº”ç”¨ç§æœ‰ç›®å½•çš„è®¿é—®æƒé™è¿›ä¸€æ­¥é™åˆ¶ã€‚å…¶ä»– App æ— æ³•é€šè¿‡ file:// è¿™ç§å½¢å¼çš„ Uri ç›´æ¥è¯»å†™è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶å†…å®¹ï¼Œè€Œæ˜¯é€šè¿‡ FileProvider è®¿é—® å®¿ä¸» App å¯ä»¥ç›´æ¥è¯»å†™å†…éƒ¨å­˜å‚¨ç©ºé—´ä¸­çš„åº”ç”¨ç§æœ‰ç›®å½•ï¼›è€Œåœ¨ 4.4 ç‰ˆæœ¬å¼€å§‹ï¼Œå®¿ä¸» App æ‰å¯ä»¥ç›´æ¥è¯»å†™å¤–éƒ¨å­˜å‚¨ç©ºé—´ä¸­çš„åº”ç”¨ç§æœ‰ç›®å½•ï¼Œä½¿å¼€å‘äººå‘˜æ— éœ€åœ¨ Manifest æ–‡ä»¶ä¸­æˆ–è€…åŠ¨æ€ç”³è¯·å¤–éƒ¨å­˜å‚¨ç©ºé—´çš„æ–‡ä»¶è¯»å†™æƒé™ ç›¸åŒç‚¹ åŒå±äºåº”ç”¨ç§æœ‰ç›®å½•ï¼Œå½“ç”¨æˆ·å¸è½½ App æ—¶ï¼Œç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨åˆ é™¤å¤–éƒ¨å­˜å‚¨ç©ºé—´ä¸‹çš„å¯¹åº” App ç§æœ‰ç›®å½•æ–‡ä»¶å¤¹åŠå…¶å†…å®¹ã€‚ 4ã€æœ€åå†…éƒ¨å­˜å‚¨ç§æœ‰ç›®å½•ï¼š SharedPreferences SQLiteDatabase App ä¸­çš„ WebView ç¼“å­˜é¡µé¢ä¿¡æ¯ ä¸è¦å¾€é‡Œé¢å­˜æ”¾å¤ªå¤šçš„æ•°æ® å¤–éƒ¨å­˜å‚¨ç§æœ‰ç›®å½•ï¼š åº”ç”¨è‡ªå·±ä½¿ç”¨çš„å›¾ç‰‡ç­‰æ•°æ® ç¼“å­˜æ•°æ® æ—¥å¿—æ•°æ® å¦‚æœæƒ³è¢«å…¶ä»–åº”ç”¨è®¿é—®åˆ°çš„æ•°æ®ï¼Œåœ¨ SD å¡çš„æ ¹ç›®å½•å†æ–°å»ºä¸€äº›æ–‡ä»¶å¤¹ï¼Œå°±ä¸è¦å†™åœ¨å¤–éƒ¨å­˜å‚¨ç§æœ‰ç›®å½•ä¸‹é¢äº†ã€‚ æš‚æ—¶å†™è¿™ä¹ˆå¤šï¼Œä»¥åå¼€å‘è¿‡ç¨‹ä¸­ç»§ç»­å¡«è¡¥ã€‚ å‚è€ƒæ–‡ç« ï¼š androidä¸­çš„æ–‡ä»¶æ“ä½œè¯¦è§£ä»¥åŠå†…éƒ¨å­˜å‚¨å’Œå¤–éƒ¨å­˜å‚¨ äº†è§£ Android åº”ç”¨çš„æ–‡ä»¶å­˜å‚¨ç›®å½•ï¼ŒæŒæ¡æŒä¹…åŒ–æ•°æ®çš„æ­£ç¡®å§¿åŠ¿ Androidå…¥é—¨ä¹‹æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆäºŒï¼‰æ–‡ä»¶æ“ä½œç›¸å…³æŒ‡ä»¤","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"AndroidåŸºç¡€---PopupWindowå®ç°æ¼‚äº®çš„æœç´¢","slug":"AndroidåŸºç¡€-PopupWindowå®ç°æ¼‚äº®çš„æœç´¢","date":"2017-04-21T06:27:37.000Z","updated":"2018-01-16T03:14:44.013Z","comments":true,"path":"2017/04/21/AndroidåŸºç¡€-PopupWindowå®ç°æ¼‚äº®çš„æœç´¢/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/04/21/AndroidåŸºç¡€-PopupWindowå®ç°æ¼‚äº®çš„æœç´¢/","excerpt":"","text":"å½“åˆåšæ¯•ä¸šè®¾è®¡çš„æ—¶å€™ï¼Œå°±åœ¨æ¯•ä¸šè®¾è®¡ App ä¸Šé¢å®ç°äº†è¯¥åŠŸèƒ½ï¼Œå½“åˆåªæ˜¯ç®€å•çš„å †ç§¯ä»£ç ï¼Œä»£ç éƒ½æ˜¯ä»åˆ«å¤„æ‹·è´äº†ï¼Œå¯¹å…·ä½“ä»£ç çš„æ„æ€ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œç°åœ¨åšäº†ä¸€ä¸ªç®€å•çš„å¼€æºé¡¹ç›®ï¼Œä¹Ÿå®ç°äº†è¯¥æœç´¢åŠŸèƒ½ï¼Œç°åœ¨å¯¹ PopupWindow æœ‰äº†æ›´æ–°çš„è®¤è¯†ã€‚ æœ¬æ–‡ä¼šä¸€æ­¥ä¸€æ­¥çš„æ•™ä½ å®ç°æ•ˆæœå›¾ä¸­çš„æ•ˆæœï¼ŒåŒ…ä¼šã€‚ã€‚ã€‚å¦‚æœè¿˜æ˜¯ä¸ä¼šçš„è¯ï¼Œæ¬¢é¥®ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥å»çœ‹çœ‹æˆ‘çš„é¡¹ç›®ä¸­æ€ä¹ˆç”¨çš„ã€‚ æˆ‘çš„å¼€æºé¡¹ç›®ï¼šGank.ioå®¢æˆ·ç«¯App ä¸‹è½½åœ°å€ ï¼šAppä¸‹è½½ å¯†ç ï¼šckgd æ•ˆæœå›¾ ä¸€æ­¥æ­¥çš„å…·ä½“å®ç°1. æœç´¢æ¡†å’Œæœç´¢æŒ‰é’®çš„èƒŒæ™¯åœ¨ drawable æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ editsharp.xml123456789101112131415161718&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot;&gt; &lt;gradient android:angle=&quot;45&quot; android:endColor=&quot;#CCCCCC&quot; android:startColor=&quot;#CCCCCC&quot; /&gt; &lt;padding android:bottom=&quot;7dp&quot; android:left=&quot;7dp&quot; android:right=&quot;7dp&quot; android:top=&quot;7dp&quot; /&gt; &lt;!-- è®¾ç½®åœ†è§’çŸ©å½¢ --&gt; &lt;corners android:radius=&quot;32dp&quot; /&gt; &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;&lt;/shape&gt; 2.ä¿®æ”¹ EditText å…‰æ ‡çš„é¢œè‰²åœ¨ drawable æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ color_cursor.xml12345&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot;&gt; &lt;size android:width=&quot;1dp&quot; /&gt; &lt;solid android:color=&quot;@color/colorPrimary&quot; /&gt;&lt;/shape&gt; 3.æ–°å»º PopupWindow çš„å¸ƒå±€æ–‡ä»¶åœ¨ layoutæ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ search_popup.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;@dimen/common_toolbar_height&quot; android:background=&quot;@color/colorPrimary&quot;&gt; &lt;RelativeLayout android:layout_marginLeft=&quot;12dp&quot; android:id=&quot;@+id/select_type_rl&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;TextView android:id=&quot;@+id/select_type_tv&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; android:drawableRight=&quot;@drawable/toward_bottom_ic&quot; android:gravity=&quot;center_vertical&quot; android:text=&quot;@string/all_text&quot; android:textColor=&quot;@color/white&quot; /&gt; &lt;/RelativeLayout&gt; &lt;EditText android:id=&quot;@+id/search_et&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerVertical=&quot;true&quot; android:layout_gravity=&quot;center_vertical&quot; android:layout_toLeftOf=&quot;@+id/search_bt&quot; android:layout_toRightOf=&quot;@+id/select_type_rl&quot; android:background=&quot;@drawable/editsharp&quot; android:drawableLeft=&quot;@drawable/common_search_ic&quot; android:hint=&quot;è¯·è¾“å…¥å…³é”®å­—...&quot; android:imeOptions=&quot;actionSearch&quot; android:inputType=&quot;text&quot; android:singleLine=&quot;true&quot; android:textCursorDrawable=&quot;@drawable/color_cursor&quot; android:textSize=&quot;14sp&quot; /&gt; &lt;Button android:id=&quot;@+id/search_bt&quot; android:layout_width=&quot;56dp&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignBottom=&quot;@+id/search_et&quot; android:layout_alignParentRight=&quot;true&quot; android:layout_alignTop=&quot;@+id/search_et&quot; android:layout_marginLeft=&quot;12dp&quot; android:layout_marginRight=&quot;12dp&quot; android:background=&quot;@drawable/editsharp&quot; android:text=&quot;æœç´¢&quot; android:textColor=&quot;@color/colorPrimary&quot; android:textSize=&quot;14sp&quot; /&gt;&lt;/RelativeLayout&gt; 4. ä¸º PopupWindow è®¾ç½®çš„åŠ¨ç”»åœ¨ res ä¸‹é¢æ–°å»º anim æ–‡ä»¶å¤¹ã€‚ æ–°å»º inuptodown.xml 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt; &lt;translate android:duration=&quot;100&quot; android:fromYDelta=&quot;-100%&quot; android:toYDelta=&quot;0&quot; /&gt;&lt;/set&gt; æ–°å»º outdowntoup.xml 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;translate android:duration=&quot;100&quot; android:fromYDelta=&quot;0&quot; android:toYDelta=&quot;-100%&quot; /&gt;&lt;/set&gt; ç„¶ååœ¨ styles æ–‡ä»¶é‡Œé¢æ·»åŠ ï¼š12345&lt;!--æ·¡å…¥æ·¡å‡ºæ•ˆæœ--&gt;&lt;style name=&quot;AnimBottom&quot; parent=&quot;@android:style/Animation&quot;&gt; &lt;item name=&quot;android:windowEnterAnimation&quot;&gt;@anim/inuptodown&lt;/item&gt; &lt;item name=&quot;android:windowExitAnimation&quot;&gt;@anim/outdowntoup&lt;/item&gt;&lt;/style&gt; 4.åˆå§‹åŒ– PopupWindow123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263/** * åˆå§‹åŒ–PopupWindow */ protected void initPopupWindow() &#123; final View view = getLayoutInflater().inflate(R.layout.search_popup, null, false); int height = commonTitleTb.getHeight(); // è·å–å½“å‰é¡µé¢ToolBarçš„é«˜åº¦ final EditText searchEt = (EditText) view.findViewById(R.id.search_et); popupWindow = new PopupWindow(view, ViewGroup.LayoutParams.MATCH_PARENT, height, true); final TextView selectTypeTv = (TextView) view.findViewById(R.id.select_type_tv); final RelativeLayout selectTypeRl = (RelativeLayout) view.findViewById(R.id.select_type_rl); popupWindow.setFocusable(true);//è®¾ç½®å¤–éƒ¨ç‚¹å‡»å–æ¶ˆ popupWindow.setBackgroundDrawable(new BitmapDrawable());// ä¸è®¾ç½®çš„è¯ä¸èƒ½å…³é—­æ­¤ PopupWindow popupWindow.setAnimationStyle(R.style.AnimBottom); view.setOnTouchListener(new View.OnTouchListener() &#123; @Override public boolean onTouch(View v, MotionEvent event) &#123; if (popupWindow != null &amp;&amp; popupWindow.isShowing()) &#123; popupWindow.dismiss(); popupWindow = null; &#125; return false; &#125; &#125;); searchEt.setOnEditorActionListener(new TextView.OnEditorActionListener() &#123; @Override public boolean onEditorAction(TextView v, int actionId, KeyEvent event) &#123; if (actionId == EditorInfo.IME_ACTION_SEARCH) &#123; String searchContent = searchEt.getText().toString(); if (TextUtils.isEmpty(searchContent)) &#123; return false; &#125; else &#123; // todo someThing // getSearchData(selectType, searchContent); &#125; popupWindow.dismiss(); &#125; return false; &#125; &#125;); selectTypeRl.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; // todo someThing &#125; &#125;); view.findViewById(R.id.search_bt).setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; // todo someThing popupWindow.dismiss(); &#125; &#125;); // PopupWindowçš„æ¶ˆå¤±äº‹ä»¶ç›‘å¬ï¼Œæ¶ˆå¤±çš„æ—¶å€™ï¼Œå…³é—­è½¯é”®ç›˜ popupWindow.setOnDismissListener(new PopupWindow.OnDismissListener() &#123; @Override public void onDismiss() &#123; KeyBoardUtils.closeKeybord(context); &#125; &#125;); &#125; è·å– PopupWindow å®ä¾‹1234567891011/** * è·å–PopipWinsowå®ä¾‹ */private void getPopupWindow() &#123; if (null != popupWindow) &#123; popupWindow.dismiss(); return; &#125; else &#123; initPopupWindow(); &#125;&#125; 5.è°ƒç”¨ PopupWindow12345getPopupWindow();// è®¾ç½®ç›¸å¯¹Viewçš„åç§»ï¼Œ1ã€ç›¸å¯¹çš„viewï¼Œ2ã€ç›¸å¯¹viewçš„xæ–¹å‘åç§»ï¼Œ3ã€ç›¸å¯¹viewçš„yæ–¹å‘åç§»popupWindow.showAsDropDown(new View(this), 0, ScreenUtils.getStatusHeight(MainActivity.this));//æ‰“å¼€è½¯é”®ç›˜KeyBoardUtils.openKeyboard(new Handler(), 0, context); è‡³æ­¤å°±å¯ä»¥å®Œæˆæ•ˆæœå›¾ä¸­çš„æ•ˆæœäº†ã€‚ ä¸æ­¤ç›¸å…³çš„æœ‰ï¼š æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®AndroidåŸºç¡€ä¹‹â€”å·¥å…·ç±» æŒç»­æ›´æ–°ä¸­â€¦AndroidåŸºç¡€â€”æ·¡å…¥æ·¡å‡ºã€ä¸Šä¸‹å¼¹å‡ºåŠ¨ç”»çš„Android PopupWindowè¯¦è§£ æˆ‘çš„åšå®¢ï¼šåšå®¢ä¼ é€é—¨ æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®","slug":"æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®","date":"2017-04-19T13:43:30.000Z","updated":"2018-01-15T14:16:33.870Z","comments":true,"path":"2017/04/19/æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/04/19/æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®/","excerpt":"å‰è¨€ä»å»å¹´åˆ°ç°åœ¨å­¦ä¹  Android åˆ°ç°åœ¨å·²ç»æœ‰ä¸€å¹´æ—¶é—´äº†ï¼Œéƒ½æ˜¯é è‡ªå·±è‡ªå­¦åœ¨æ…¢æ…¢è¿›æ­¥ï¼Œè™½è¯´è‡ªå·±è¿˜æ²¡èƒ½åŠ›å¼€å‘ä¸€äº›åŠç‚¸å¤©çš„å¼€æºé¡¹ç›®ä¾›å¤§å®¶ä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘æ‡‚åœ¨è‡ªå­¦è¿‡ç¨‹ä¸­éœ€è¦ä¸€äº›ä»€ä¹ˆï¼Œæ‰€ä»¥å°±æœ‰ä¸€ä¸ªåˆ¶ä½œä¸€ä¸ªå¼€æºé¡¹ç›®ä¸ä¸€äº›æœ‹å‹äº’ç›¸å­¦ä¹ çš„æƒ³æ³•ï¼Œæœ€è¿‘åˆ©ç”¨è‡ªå·±çš„å·¥ä½œä¹‹ä½™å†™äº†è¿™ä¸ªç®€å•çš„ Gank.io å®¢æˆ·ç«¯ã€‚è™½ç„¶ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šç±»ä¼¼çš„ Gank.io å®¢æˆ·ç«¯ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æŒºå–œæ¬¢è‡ªå·±çš„å†™çš„è¿™ä¸ªï¼Œå› ä¸ºé‡Œé¢æœ‰è‡ªå·±çš„æƒ³è¦å­¦ä¹ å’Œå¤ä¹ çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åå·¥ä½œä¸­é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œäº¦æˆ–æ˜¯æƒ³å¤ä¹ ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¹Ÿè®¸å‚è€ƒä¸‹è¿™ä¸ªé¡¹ç›®å°±è§£å†³äº†ã€‚å—¯ï¼Œè¿™ä¸ªé¡¹ç›®ä¼šä¸€ç›´è¢«æˆ‘å†™ä¸‹å»çš„ã€‚","text":"å‰è¨€ä»å»å¹´åˆ°ç°åœ¨å­¦ä¹  Android åˆ°ç°åœ¨å·²ç»æœ‰ä¸€å¹´æ—¶é—´äº†ï¼Œéƒ½æ˜¯é è‡ªå·±è‡ªå­¦åœ¨æ…¢æ…¢è¿›æ­¥ï¼Œè™½è¯´è‡ªå·±è¿˜æ²¡èƒ½åŠ›å¼€å‘ä¸€äº›åŠç‚¸å¤©çš„å¼€æºé¡¹ç›®ä¾›å¤§å®¶ä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘æ‡‚åœ¨è‡ªå­¦è¿‡ç¨‹ä¸­éœ€è¦ä¸€äº›ä»€ä¹ˆï¼Œæ‰€ä»¥å°±æœ‰ä¸€ä¸ªåˆ¶ä½œä¸€ä¸ªå¼€æºé¡¹ç›®ä¸ä¸€äº›æœ‹å‹äº’ç›¸å­¦ä¹ çš„æƒ³æ³•ï¼Œæœ€è¿‘åˆ©ç”¨è‡ªå·±çš„å·¥ä½œä¹‹ä½™å†™äº†è¿™ä¸ªç®€å•çš„ Gank.io å®¢æˆ·ç«¯ã€‚è™½ç„¶ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šç±»ä¼¼çš„ Gank.io å®¢æˆ·ç«¯ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æŒºå–œæ¬¢è‡ªå·±çš„å†™çš„è¿™ä¸ªï¼Œå› ä¸ºé‡Œé¢æœ‰è‡ªå·±çš„æƒ³è¦å­¦ä¹ å’Œå¤ä¹ çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åå·¥ä½œä¸­é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œäº¦æˆ–æ˜¯æƒ³å¤ä¹ ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¹Ÿè®¸å‚è€ƒä¸‹è¿™ä¸ªé¡¹ç›®å°±è§£å†³äº†ã€‚å—¯ï¼Œè¿™ä¸ªé¡¹ç›®ä¼šä¸€ç›´è¢«æˆ‘å†™ä¸‹å»çš„ã€‚ å…ˆè´´ä¸Šé¡¹ç›®åœ°å€Gank.ioå®¢æˆ·ç«¯ï¼Œå¸Œæœ›èƒ½å’Œå¤§å®¶äº’ç›¸å­¦ä¹ ã€‚ Appä¸‹è½½ å¯†ç ï¼šckgd æ•ˆæœå›¾ ç”»è´¨æœ‰ç‚¹æ¸£ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»ä¸‹è½½ App å»ä½“éªŒä¸‹ï¼šå®‰è£…åŒ…ä¸‹è½½ å¯†ç ï¼šckgd é€šè¿‡è¿™ä¸ªé¡¹ç›®æˆ‘ç»ƒä¹ çš„çŸ¥è¯†ç‚¹æœ‰ï¼š Syringe ä¸€ä¸ªå°†ç½‘ç»œè¯·æ±‚é›†ä¸­å¤„ç†çš„åº“ RxJava + Retrofit å®ç°ç½‘ç»œè¯·æ±‚ å›¾ç‰‡ç€‘å¸ƒæµçš„å®ç° ä¸€ä¸ªé¡¹ç›®ä¸€ä¸ªToolbar Fragment çš„å¤ç”¨ Fragment å’Œ TabLayout çš„ç»“åˆä½¿ç”¨ WebViewçš„ä½¿ç”¨ ä¾§è¾¹æ  DrawerLayout çš„ä½¿ç”¨ PopupWindow å®ç°ç¾è§‚çš„æœç´¢ç•Œé¢ Glide åŠ è½½å›¾ç‰‡çš„ä¸€äº›å‘ RecyclerView å’Œ CardView ç»“åˆå®ç°ç¾è§‚çš„æ‚¬æµ®åˆ—è¡¨ RecyclerView å®ç°ä¸ŠåƒåŠ è½½å’Œä¸‹æ‹‰åˆ·æ–° æœ¬é¡¹ç›®åœ¨ç»§ç»­å®Œå–„ä¸­ã€‚ æˆ‘çš„åšå®¢ï¼šåšå®¢ä¼ é€é—¨ æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨","categories":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}],"tags":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/tags/æˆ‘/"}],"keywords":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}]},{"title":"Ionic Angular å®ç°éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½","slug":"Ionic-Angular-å®ç°éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½","date":"2017-04-19T10:42:32.000Z","updated":"2018-01-16T03:14:11.743Z","comments":true,"path":"2017/04/19/Ionic-Angular-å®ç°éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/04/19/Ionic-Angular-å®ç°éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½/","excerpt":"","text":"å‰æ®µæ—¶é—´åˆ†äº«äº† Android åŸç”Ÿå®ç°éªŒè¯ç å€’è®¡æ—¶ï¼Œåœ°å€æ˜¯è¿™é‡Œï¼Œç°åœ¨å…¬å¸ä½¿ç”¨ Ionic å¼€å‘çš„ App ä¹Ÿè¦å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼Œç°åœ¨ä¹Ÿè®°å½•ä¸‹æ¥ï¼Œä¾›å¤§å®¶å‚è€ƒï¼š æ•ˆæœå›¾ï¼š æ­£æ–‡é¦–å…ˆä»‹ç»ä¸‹ä¸æœ¬æ–‡ç›¸å…³çš„æ¦‚å¿µ $interval $interval æ˜¯ window.setInterval çš„ Angular åŒ…è£…å½¢å¼ï¼Œå‡½æ•°å¦‚æœåœ¨æ²¡æœ‰è¢«å–æ¶ˆçš„æ—¶å€™ä¼šæ— é™æ‰§è¡Œã€‚ï¼ˆå–æ¶ˆä½¿ç”¨ cancel(promise) ï¼‰ ç”¨æ³•ï¼š1$interval(fn,delay,[count],[invokeApply],[Pass]); å‚æ•°è¯´æ˜ï¼š fn : æ— é™æ‰§è¡Œçš„å‡½æ•° å¿…é¡»å‚æ•°ï¼Œå¿…ä¼  delay : æ¯æ¬¡è°ƒç”¨çš„é—´éš”æ¯«ç§’æ•°å€¼ å¿…é¡»å‚æ•°ï¼Œå¿…ä¼  count : å¾ªç¯æ¬¡æ•°çš„æ•°å€¼ï¼Œå¦‚æœæ²¡è®¾ç½®ï¼Œåˆ™æ— é™åˆ¶å¾ªç¯ éå¿…é¡»å‚æ•°ï¼Œå¯ä¸ä¼  invokeApply : å¦‚æœè®¾ç½®ä¸ºfalseï¼Œåˆ™é¿å¼€è„å€¼æ£€æŸ¥ï¼Œå¦åˆ™å°†è°ƒç”¨$apply éå¿…é¡»å‚æ•°ï¼Œå¯ä¸ä¼  Pass : å‡½æ•°çš„é™„åŠ å‚æ•° éå¿…é¡»å‚æ•°ï¼Œå¯ä¸ä¼  æ–¹æ³•ï¼š cancel(promise) promiseï¼š$intervalå‡½æ•°çš„è¿”å›å€¼ã€‚ å…·ä½“å®ç°1234567891011121314151617181920$scope.description = \"è·å–éªŒè¯ç \";var timerHandler = null;/** * å€’è®¡æ—¶ * @param time æ§åˆ¶å¾ªç¯æ¬¡æ•° */var countDown = function (second,time) &#123; timerHandler = $interval(function () &#123; if (second &lt;= 0) &#123; $interval.cancel(timerHandler); second = 59; $scope.description = \"è·å–éªŒè¯ç \"; &#125; else &#123; $scope.description = second + \"s åå¯é‡å‘\"; second--; &#125; &#125;, 1000, time)&#125; è°ƒç”¨1countDown(59,60); æœ€ååˆ«å¿˜äº†æ³¨å…¥ $interval ã€‚ æˆ‘çš„åšå®¢ï¼šåšå®¢ä¼ é€é—¨ æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":" Ionic Cordovaå®ç°è½¯é”®ç›˜çš„ç›‘å¬ ä»¥åŠæ“ä½œå¤§å…¨","slug":"Ionic-Cordovaå®ç°è½¯é”®ç›˜çš„ç›‘å¬-ä»¥åŠæ“ä½œå¤§å…¨","date":"2017-04-19T10:40:26.000Z","updated":"2018-01-16T03:13:58.649Z","comments":true,"path":"2017/04/19/Ionic-Cordovaå®ç°è½¯é”®ç›˜çš„ç›‘å¬-ä»¥åŠæ“ä½œå¤§å…¨/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/04/19/Ionic-Cordovaå®ç°è½¯é”®ç›˜çš„ç›‘å¬-ä»¥åŠæ“ä½œå¤§å…¨/","excerpt":"","text":"ä»Šå¤©åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œåœ¨é”®ç›˜æ˜¾ç¤ºçš„æ—¶å€™éšè—æŸäº›æ“ä½œï¼Œé”®ç›˜éšè—çš„æ—¶å€™ï¼Œæ‰“å¼€æŸäº›æ“ä½œã€‚ç½‘ä¸Šæ‰¾äº†å¾ˆä¹…ï¼Œæ‰æ‰¾åˆ°å…·ä½“çš„ç›‘å¬äº‹ä»¶ï¼Œç‰¹æ­¤è®°å½•ä¸‹æ¥ï¼Œä¾›å¤§å®¶å‚è€ƒï¼š é¦–å…ˆéœ€è¦æ·»åŠ æ’ä»¶ï¼š1cordova plugin add ionic-plugin-keyboard --save 1.è½¯é”®ç›˜æ˜¾ç¤ºç›‘å¬1234window.addEventListener('native.keyboardshow', function (e) &#123; // todo è¿›è¡Œé”®ç›˜å¯ç”¨æ—¶æ“ä½œ //e.keyboardHeight è¡¨ç¤ºè½¯ä»¶ç›˜æ˜¾ç¤ºçš„æ—¶å€™çš„é«˜åº¦ &#125;); 2.è½¯é”®ç›˜éšè—ç›‘å¬123window.addEventListener(&apos;native.keyboardhide&apos;, function (e) &#123; // todo è¿›è¡Œé”®ç›˜ä¸å¯ç”¨æ—¶æ“ä½œ&#125;); 3. æ‰“å¼€è½¯é”®ç›˜1cordova.plugins.Keyboard.show(); 4. å…³é—­è½¯é”®ç›˜1cordova.plugins.Keyboard.close(); 5. åˆ¤æ–­è½¯é”®ç›˜æ˜¯å¦å¯ç”¨1cordova.plugins.Keyboard.isVisible æ³¨æ„ï¼Œè¿™ä¸ªä¸æ˜¯æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªå±æ€§ã€‚ 6. æ˜¾ç¤ºéšè—é”®ç›˜é™„ä»¶æ 12cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);cordova.plugins.Keyboard.hideKeyboardAccessoryBar(false); 7. ç¦æ­¢å’Œå…è®¸æ»‘åŠ¨12cordova.plugins.Keyboard.disableScroll(true);cordova.plugins.Keyboard.disableScroll(false); æˆ‘çš„åšå®¢ï¼šåšå®¢ä¼ é€é—¨ æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":"å¤šç»ˆç«¯æ›´æ–°ä¸ªäººåšå®¢æ•™ç¨‹","slug":"å¤šç»ˆç«¯æ›´æ–°ä¸ªäººåšå®¢æ•™ç¨‹","date":"2017-04-14T08:29:44.000Z","updated":"2018-01-16T03:13:25.485Z","comments":true,"path":"2017/04/14/å¤šç»ˆç«¯æ›´æ–°ä¸ªäººåšå®¢æ•™ç¨‹/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/04/14/å¤šç»ˆç«¯æ›´æ–°ä¸ªäººåšå®¢æ•™ç¨‹/","excerpt":"å»å¹´å°±æ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯æœ€è¿‘åŸŸååˆ°æœŸäº†ï¼Œè´¦å·å¯†ç ä¹Ÿå¿˜è®°äº†ï¼ˆå°´å°¬ï¼‰ï¼Œäºæ˜¯å°±é‡æ–°æ­å»ºäº†ä¸€æ¬¡åšå®¢ï¼Œåœ°å€æ˜¯ï¼šæˆ‘çš„åšå®¢ï¼Œä½†æ˜¯è‡ªå·±åˆæƒ³åœ¨å®¶å’Œå…¬å¸éƒ½èƒ½æ›´æ–°åšå®¢ï¼Œäºæ˜¯èŠ±åŠŸå¤«ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå°†æ­¤æ¬¡ç ”ç©¶çš„æˆæœè®°å½•å¦‚ä¸‹ï¼š","text":"å»å¹´å°±æ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯æœ€è¿‘åŸŸååˆ°æœŸäº†ï¼Œè´¦å·å¯†ç ä¹Ÿå¿˜è®°äº†ï¼ˆå°´å°¬ï¼‰ï¼Œäºæ˜¯å°±é‡æ–°æ­å»ºäº†ä¸€æ¬¡åšå®¢ï¼Œåœ°å€æ˜¯ï¼šæˆ‘çš„åšå®¢ï¼Œä½†æ˜¯è‡ªå·±åˆæƒ³åœ¨å®¶å’Œå…¬å¸éƒ½èƒ½æ›´æ–°åšå®¢ï¼Œäºæ˜¯èŠ±åŠŸå¤«ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå°†æ­¤æ¬¡ç ”ç©¶çš„æˆæœè®°å½•å¦‚ä¸‹ï¼š ä¸€ã€é¦–å…ˆä½ éœ€è¦æ­å»ºå¥½è‡ªå·±çš„åšå®¢ã€‚ç»™å‡ºå‚è€ƒç»™å¤§å®¶ï¼š ä¸€å®šåŸºç¡€çš„çœ‹è¿™ä¸ª å®Œå…¨å°ç™½çœ‹è¿™ä¸ª äºŒã€å¤šç»ˆç«¯é…ç½®1. åˆ›å»ºåšå®¢å¤‡ä»½çš„ä»“åº“è¿™é‡Œæˆ‘é€‰ç”¨çš„æ˜¯å›½å†…çš„ä»£ç æ‰˜ç®¡å¹³å° ç äº‘ ï¼Œå› ä¸ºä¸Šé¢å¯ä»¥å»ºç«‹è‡ªå·±çš„ç§äººä»“åº“ï¼Œè¿™æ ·çš„è¯ï¼Œå¯ä»¥å¾ˆå¥½çš„ä¿æŠ¤ä½ çš„ä¸ªäººéšç§ã€‚ è¿™é‡Œæ˜¯åœ°å€ ç„¶åæ–°å»ºä¸€ä¸ªå¤‡ä»½åšå®¢æ–‡ä»¶çš„ä»“åº“ï¼Œæ¯”å¦‚æˆ‘çš„ä»“åº“åå­—æ˜¯ blog ï¼Œç„¶åå† blog ä»“åº“ä¸‹é¢æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯æ˜¯ hexo ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„ï¼Œæˆ‘åªæ˜¯ä¸ºäº†å®¹æ˜“è¾¨è¯†ï¼‰ã€‚å¦‚å›¾æ‰€ç¤ºï¼š 2. å°†æœ¬åœ°åšå®¢ä¸Šä¼ åˆ°ç§æœ‰ä»“åº“æˆ‘ä»¬åœ¨ä½¿ç”¨ hexo æ­å»ºè‡ªå·±æœ¬åœ°åšå®¢çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ¥å­˜æ”¾ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ blogæ–‡ä»¶å¤¹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š å…¶å®å°±æ˜¯æˆ‘ä»¬æœ¬åœ°åšå®¢çš„æ ¹ç›®å½•ï¼Œ ç„¶åæˆ‘ä»¬åœ¨æ­¤å¤„æ‰“å¼€ Git Bash ï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š åˆå§‹åŒ–ä»“åº“ 12git initgit branch -b hexo //æ–°å»ºhexoåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°hexo æ·»åŠ å¿…è¦æ–‡ä»¶åˆ°ä»“åº“ä¸­ 1234567 git add scaffolds/git add source/git add themes // æ³¨æ„è¿™é‡Œæ˜¯ä¸èƒ½æ·»åŠ ä½ é€šè¿‡ git ä¸‹è½½çš„ä¸»é¢˜çš„git add .npmignoregit add _config.ymlgit add package.jsongit commit -m &quot;init&quot; æ·»åŠ æœ¬åœ°å’Œè¿œç¨‹ç§æœ‰ä»“åº“çš„å…³è” 1git remote add origin ä»“åº“åœ°å€ æäº¤ä»£ç åˆ°ä»“åº“ 1git push origin hexo //æäº¤åˆ°ä½ åˆ›å»ºå¥½çš„åˆ†æ”¯ åˆ°è¿™é‡Œå·²ç»æˆåŠŸçš„æŠŠåšå®¢å¿…è¦æ–‡ä»¶ä¼ åˆ°æœ¬åœ°ä»“åº“äº†ã€‚ æ¥ä¸‹æ¥æ˜¯åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šæ“ä½œçš„ã€‚ 3. ç¬¬äºŒå°ç”µè„‘é…ç½® é¦–å…ˆæˆ‘ä»¬éœ€è¦æŠŠåšå®¢å¿…è¦æ–‡ä»¶æ‹‰åˆ°æœ¬åœ°1git clone ä»“åº“åœ°å€ -b hexo æ­¤æ—¶æœ¬åœ°ä¼šç”Ÿæˆåšå®¢æ–‡ä»¶å¤¹ï¼Œæˆ‘çš„æ˜¯ blog ï¼Œå…¶å®å°±æ˜¯ä½ çš„ç§æœ‰ä»“åº“çš„åå­—ã€‚è¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼š1cd blog //æ³¨æ„ï¼è¿™é‡Œä½ çš„å¯èƒ½ä¸æ˜¯å« blog ï¼Œå…·ä½“æ ¹æ®ä½ ä»“åº“åå­—è€Œå®š å®‰è£…å¿…è¦çš„ç»„ä»¶1npm install å¦‚æœä½ çš„ä¸»é¢˜æ˜¯é€šè¿‡ git ä¸‹è½½çš„è¯ï¼Œéœ€è¦é‡æ–°å†ç¬¬äºŒå°ç”µè„‘ä¸Šä¸‹è½½ï¼Œä¸ç„¶æ‰“å¼€çš„é¡µé¢æ˜¯ç©ºçš„ã€‚è¿™ä¸ªæ—¶å€™ä½ çš„ä¸¤å°ç”µè„‘çš„é…ç½®å°±åŸºæœ¬å®Œæˆäº†ã€‚ 4. åœ¨ä»»æ„ä¸€å°é…ç½®å¥½çš„ç”µè„‘ä¸Šå‘å¸ƒåšå®¢ åŒæ­¥ç§æœ‰ä»“åº“æ–‡ä»¶ 1git pull origin hexo æ–°å»ºåšå®¢ 1hexo new post &quot;åšå®¢åå­—&quot; æ·»åŠ åšå®¢åˆ° git 1git add source/ //å› ä¸ºåšå®¢æ–‡ä»¶æ˜¯åœ¨sourceæ–‡ä»¶å¤¹ä¸‹é¢çš„ ä¿å­˜ä»£ç  1git commit -m &quot;åšå®¢æ›´æ–°&quot; ä¸Šä¼ æ›´æ–° 1git push origin hexo éƒ¨ç½²åšå®¢ 1hexo g -d è‡³æ­¤ï¼Œå¤šç»ˆç«¯å‘å¸ƒåšå®¢å·²ç»é…ç½®å®Œæˆã€‚ å¦‚æœä½ åœ¨é…ç½®çš„è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€äº¤æµ~ æˆ‘çš„åšå®¢ï¼šåšå®¢ä¼ é€é—¨ æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"},{"name":"æˆ‘","slug":"å·¥å…·/æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/æˆ‘/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å·¥å…·/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"},{"name":"æˆ‘","slug":"å·¥å…·/æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/æˆ‘/"}]},{"title":"Error inflating class android.support.design.widget.FloatingActionButton","slug":"Error-inflating-class-android-support-design-widget-FloatingActionButton","date":"2017-03-30T15:05:12.000Z","updated":"2018-01-16T03:12:50.493Z","comments":true,"path":"2017/03/30/Error-inflating-class-android-support-design-widget-FloatingActionButton/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/30/Error-inflating-class-android-support-design-widget-FloatingActionButton/","excerpt":"","text":"æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨ é”™è¯¯ä¿¡æ¯ä»Šå¤©æ·»åŠ FloatingActionButtonçš„æ—¶å€™ï¼Œä¿®æ”¹äº†é»˜è®¤çš„èƒŒæ™¯ï¼Œç»“æœå¯¼è‡´Caused by: android.view.InflateException: Binary XML file line #54: Error inflating class android.support.design.widget.FloatingActionButtoné”™è¯¯ã€‚ è§£å†³æ–¹æ¡ˆï¼šæŠŠ1android:backgroundTint=&quot;@color/colorPrimary&quot; æ¢æˆ1app:backgroundTint=&quot;@color/colorPrimary&quot; å³å¯ã€‚ å¸Œæœ›å¯¹ä½ èƒ½æœ‰äº›å¸®åŠ©ã€‚","categories":[],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å¼‚å¸¸","slug":"å¼‚å¸¸","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å¼‚å¸¸/"}],"keywords":[]},{"title":"å†™ç»™æ–°æ‰‹çš„Androidç¯å¢ƒé…ç½®","slug":"å†™ç»™æ–°æ‰‹çš„Androidç¯å¢ƒé…ç½®","date":"2017-03-21T09:17:04.000Z","updated":"2018-01-16T03:12:09.965Z","comments":true,"path":"2017/03/21/å†™ç»™æ–°æ‰‹çš„Androidç¯å¢ƒé…ç½®/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/21/å†™ç»™æ–°æ‰‹çš„Androidç¯å¢ƒé…ç½®/","excerpt":"","text":"æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨ å‰è¨€ä»Šå¤©æœ‰ä¸ªæ–°å­¦ Android çš„å°ä¼™ä¼´é—®æˆ‘æ€ä¹ˆé…ç½®ç¯å¢ƒï¼Œè¿™è®©æˆ‘æƒ³åˆ°åˆ°è‡ªå·±åˆšå¼€å§‹å­¦çš„æ—¶å€™ä¹Ÿæ˜¯å¯¹ç¯å¢ƒå˜é‡é…ç½®ä¸€è„¸æ‡µé€¼ï¼Œå†³å®šä»Šå¤©å†™ä¸‹æ¥ï¼Œä¾› Android æ–°æ‰‹å‚è€ƒã€‚ å‡†å¤‡å·¥ä½œé¦–å…ˆæ‰“å¼€é…ç½®ï¼š åœ¨ â€œæ­¤ç”µè„‘â€ å³é”®æ‰“å¼€å±æ€§â€”&gt; æ‰“å¼€é«˜çº§ç³»ç»Ÿè®¾ç½® â€”&gt; æ‰“å¼€ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸€ã€ JDK ç¯å¢ƒé…ç½® ç‚¹å‡»ç³»ç»Ÿå˜é‡ä¸‹é¢çš„æ–°å»ºã€‚ æ–°å»º 12å˜é‡åï¼šJAVA_HOMEå˜é‡å€¼ï¼šä½ çš„ SDK å®‰è£…è·¯å¾„ï¼ˆæˆ‘çš„æ˜¯ï¼šD:\\Program Files\\Java\\jdk1.8.0_102ï¼‰ æ–°å»º 12å˜é‡åï¼šCLASSPATHå˜é‡å€¼ï¼š.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar; ç‚¹å¼€ç³»ç»Ÿå˜é‡ä¸‹é¢çš„ path ï¼Œåœ¨åé¢æ–°åŠ ï¼š 1%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin; äºŒã€ SDKç¯å¢ƒé…ç½® ç‚¹å‡»ç³»ç»Ÿå˜é‡ä¸‹é¢çš„æ–°å»ºã€‚ æ–°å»º 12å˜é‡åï¼šANDROID_HOMEå˜é‡å€¼ï¼šä½ çš„ SDK å®‰è£…è·¯å¾„ï¼ˆæˆ‘çš„æ˜¯ï¼šD:\\android\\03android-sdkï¼‰ ç‚¹å¼€ç³»ç»Ÿå˜é‡ä¸‹é¢çš„ path ï¼Œåœ¨åé¢æ–°åŠ ï¼š 1%ANDROID_HOME%\\platform-tools;%ANDROID_HOME%\\tools; å¸Œæœ›å¤§å®¶èƒ½å¤Ÿå–œæ¬¢ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Gitå¸¸ç”¨æ“ä½œã€æäº¤åˆ°GitHubç­‰","slug":"Git","date":"2017-03-19T13:53:15.000Z","updated":"2018-01-16T02:24:59.484Z","comments":true,"path":"2017/03/19/Git/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/19/Git/","excerpt":"","text":"ç”¨äº†gitå¥½é•¿æ—¶é—´äº†ï¼Œä½†æ˜¯å¾ˆå¤šå‘½ä»¤ä¸æ˜¯ç»å¸¸ç”¨ï¼Œå®¹æ˜“å¿˜æ‰ï¼Œæƒ³äº†æƒ³è¿˜æ˜¯è®°å½•ä¸‹æ¥ï¼Œå»ºç«‹è‡ªå·±çš„gitçŸ¥è¯†åº“ï¼Œä»¥åç”¨çš„æ—¶å€™æ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œä¼šæŒç»­æ›´æ–°è¿™ä¸ªåšå®¢çš„ã€‚ ä¸€ã€åˆå§‹åŒ–cloneçš„æ—¶å€™ç›´æ¥åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ï¼š1git clone åœ°å€ -b åˆ†æ”¯åç§° é…ç½®å…¨å±€çš„Gitï¼šgit config --global user.name &quot;ä½ çš„åå­—&quot; git config --global user.email &quot;ä½ çš„é‚®ç®±åœ°å€&quot; åˆå§‹åŒ–æœ¬åœ°Gitä»“åº“ï¼šgit init æŸ¥çœ‹ä»“åº“çŠ¶æ€git status æ’¤é”€æ‰€æœ‰æœ¬åœ°æ›´æ”¹git reset --hard$HEAD æŠŠæ–‡ä»¶æ”¹åŠ¨æ‰‹åŠ¨æ·»åŠ åˆ°ã€æš‚å­˜åŒºã€‘git add . æäº¤æœ¬æ¬¡ä¿®æ”¹çš„ä»£ç (1)git commit -a è¾“å…¥iä¹‹åè¾“å…¥æœ¬æ¬¡æäº¤çš„æè¿°ï¼Œç„¶åç‚¹å‡»Escï¼Œè¾“å…¥:wqä¿å­˜ æäº¤æœ¬æ¬¡ä¿®æ”¹çš„ä»£ç (1)git commit -m &quot;è¾“å…¥æäº¤æè¿°&quot; è·å–ç½‘ç»œç«¯æœ€æ–°çš„ä»£ç git pull å‘ç½‘ç»œç«¯æäº¤æœ¬åœ°ä»“åº“ä»£ç git push äºŒã€åˆ†æ”¯æ–°å»ºaåˆ†æ”¯git branch a åˆ‡æ¢åˆ°aåˆ†æ”¯git checkout a æ–°å»ºåˆ†æ”¯aå¹¶åˆ‡æ¢åˆ°aåˆ†æ”¯git checkout -b a åˆ é™¤aåˆ†æ”¯git branch -d a å¼ºåˆ¶åˆ é™¤aåˆ†æ”¯git branch -D a æŸ¥çœ‹åˆ†æ”¯git branch åˆå¹¶åˆ†æ”¯æ¯”å¦‚æˆ‘ä»¬è¦æŠŠaåˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ°båˆ†æ”¯ä¸Šï¼Œé¦–å…ˆéœ€è¦åˆ‡æ¢åˆ°båˆ†æ”¯1git checkout b ç„¶å1git merge a è¿™æ ·å°±å¯ä»¥åˆå¹¶aåˆ†æ”¯çš„å†…å®¹åˆ°båˆ†æ”¯äº† ä¸‰ã€è¿œç¨‹ä¸Šä¼ æ“ä½œ1. æœ¬åœ°ä¸å­˜åœ¨gitä»“åº“ï¼ŒåŒæ­¥åˆ°GitHub123456git initgit add .git commit -agit remote add origin githubåœ°å€git pull --rebase origin mastergit push -u origin master 2. æœ¬åœ°å­˜åœ¨gitä»“åº“ï¼Œå¹¶ä¸”æ²¡æœ‰ç»‘å®šè¿œç¨‹åœ°å€ï¼ŒåŒæ­¥åˆ°GitHub1git remote add origin githubåœ°å€ 3. æœ¬åœ°å­˜åœ¨gitä»“åº“ï¼Œå¹¶ä¸”å·²ç»ç»‘å®šè¿œç¨‹åœ°å€ï¼Œéœ€è¦ä¿®æ”¹åœ°å€å¹¶åŒæ­¥åˆ°GitHub1234git remote set-url origin æ–°githubåœ°å€æˆ–è€…git remote rm origingit remote add origin æ–°githubåœ°å€ å¦‚æœæ˜¯ä»£ç æ‹‰ä¸‹æ¥ä¹‹åéœ€è¦æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œåœ¨æœ¬åœ°æ‰§è¡Œgit branch -devï¼Œè¿™ä¸ªæ—¶å€™å°±å»ºç«‹å¥½äº†å¦å¤–ä¸€ä¸ªåˆ†æ”¯ï¼Œå¦‚æœæŠŠè¿™ä¸ªåˆ†æ”¯æäº¤åˆ°githubä¸Šï¼Œéœ€è¦æ‰§è¡Œgit push -u origin dev,è¿™ä¸ªæ—¶å€™devä¸‹é¢çš„ä»£ç å°±å¯ä»¥æäº¤åˆ°githubä¸Šäº† 2017-8-18æ›´æ–°ä»Šå¤©åœ¨gitlabä¸Šé¢çœ‹åˆ°äº†ç»™çš„æç¤ºï¼Œè¿™é‡Œä¹Ÿè´´ä¸€ä¸‹å§ï¼š ä¸€ã€Create a new repository123456git clone gitåœ°å€cd i5oncalltouch README.mdgit add README.mdgit commit -m &quot;add README&quot;git push -u origin master 2ã€Existing folder or Git repository123456cd existing_foldergit initgit remote add origin gitåœ°å€git add .git commitgit push -u origin master","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Git/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"}]},{"title":"ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar","slug":"ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar","date":"2017-03-13T05:58:58.000Z","updated":"2018-01-16T03:11:43.591Z","comments":true,"path":"2017/03/13/ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/13/ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar/","excerpt":"","text":"éœ€æ±‚åœ¨æ—¥å¸¸çš„å¼€å‘å½“ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°Toolbarä½œä¸ºæ ‡é¢˜æ ï¼Œå¦‚æœåœ¨æ¯ä¸ªviewé‡Œé¢éƒ½å†™ä¸€ä¸ªToolbarçš„è¯ï¼Œæ˜¾ç„¶æœ‰ç‚¹å†—ä½™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ¯ä¸ªé¡¹ç›®é‡Œé¢éƒ½æœ‰ä¸€ä¸ªBaseActivityï¼Œä½œä¸ºæ‰€æœ‰Activityçš„çˆ¶ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨BaseActivityä¸­å°è£…å¥½Toolbarï¼Œåœ¨å­ç±»ç”¨BaseActivityæä¾›çš„æ–¹æ³•è°ƒç”¨å³å¯ã€‚ å±•ç¤ºæ¥æ¥æ¥ï¼Œå¾€è¿™è¾¹çœ‹ï¼Œä¸‹é¢çš„çš„giféƒ½æ˜¯é€šè¿‡ä¸€ä¸ªToolbarå®ç°çš„ï¼š æ˜¯ä¸æ˜¯å¾ˆä¸é”™ï¼Œåªç”¨åœ¨å­Activityä¸­è°ƒç”¨BaseActivityä¸­çš„æ–¹æ³•æˆ–è€…é‡å†™æ–¹æ³•å°±å¯ä»¥äº†ã€‚æœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸‹ä»£ç ï¼Œæ¬¢è¿æŒ‡æ­£ Demoåœ°å€ å®ç°å…ˆåœ¨BaseActivityä¸­å†™å¥½å¸ƒå±€æ–‡ä»¶ï¼Œä¸€ä¸ªToolbarå’Œä¸€ä¸ªRelativeLayoutï¼š å…ˆçœ‹å¸ƒå±€æ–‡ä»¶activity_base.xmlï¼š common_title_tb å°±æ˜¯æˆ‘ä»¬å¤ç”¨çš„toolbarã€‚ common_title_tv å°±æ˜¯å¤ç”¨çš„toolbarä¸­çš„æ ‡é¢˜ã€‚ RelativeLayout å°±æ˜¯æˆ‘ä»¬å­Activityæ‰€è¦æ˜¾ç¤ºçš„åœ°æ–¹ 12345678910111213141516171819202122232425262728293031323334&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:tools=\"http://schemas.android.com/tools\" android:id=\"@+id/activity_base\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"vertical\" tools:context=\"com.sean.demo.ui.BaseActivity\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/common_title_tb\" android:layout_width=\"match_parent\" android:layout_height=\"@dimen/common_toolbar_height\" android:background=\"@color/colorPrimary\" android:elevation=\"6dp\"&gt; &lt;TextView android:id=\"@+id/common_title_tv\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_gravity=\"center\" android:text=\"æˆ‘æ˜¯æ ‡é¢˜\" android:textColor=\"@color/white\" android:textSize=\"16sp\" /&gt; &lt;/android.support.v7.widget.Toolbar&gt; &lt;RelativeLayout android:id=\"@+id/content\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"horizontal\"&gt;&lt;/RelativeLayout&gt;&lt;/LinearLayout&gt; ç„¶åæˆ‘ä»¬éœ€è¦åœ¨BaseActivityä¸­æš´éœ²ç»™å­ç±»ç‰¹å®šçš„æ–¹æ³•ï¼Œè®©å­ç±»å»æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µå»å®šåˆ¶é¡µé¢ã€‚ æ¥ä¸‹æ¥çœ‹ä¸‹æˆ‘ä»¬çš„BaseActivityï¼šä¸»è¦æ–¹æ³•æœ‰ï¼š setToolBar å­ç±»é‡æ–°è®¾ç½®Toolbaræ ·å¼ï¼ˆéœ€è¦å­ç±»é‡æ–°å†™ä¸€ä¸ªToolbarï¼‰ hidetoolBar å­ç±»ä¸éœ€è¦Toolbarçš„æ—¶å€™ï¼Œå¯ä»¥éšè—æ‰é€šç”¨çš„Toolbar setToolBarMenuOnclick ç»™Toolbarçš„menuè®¾ç½®ç‚¹å‡»äº‹ä»¶ï¼Œæ»¡è¶³ä¸åŒé¡µé¢çš„éœ€æ±‚ setBackArrow è®¾ç½®é€šç”¨çš„è¿”å›æŒ‰é’®ï¼Œéœ€è¦çš„æ—¶å€™ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•å°±å¯ä»¥äº† setContentLayout è®¾ç½®å­ç±»çš„å¸ƒå±€ï¼ˆè¿™ä¸ªæ—¶å€™å°±ä¸ç”¨è®¾ç½®setContentView()äº†ï¼‰ setTitle è®¾ç½®æ ‡é¢˜æ–‡å­— ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113public class BaseActivity extends AppCompatActivity &#123; /** * é€šç”¨çš„ToolBaræ ‡é¢˜ */ private TextView commonTitleTv; /** * é€šç”¨çš„ToolBar */ private Toolbar commonTitleTb; /** * å†…å®¹åŒºåŸŸ */ private RelativeLayout content; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_base); initView(); setSupportActionBar(commonTitleTb); getSupportActionBar().setDisplayShowTitleEnabled(false); &#125; private void initView() &#123; commonTitleTv = (TextView) findViewById(R.id.common_title_tv); commonTitleTb = (Toolbar) findViewById(R.id.common_title_tb); content = (RelativeLayout) findViewById(R.id.content); &#125; /** * å­ç±»è°ƒç”¨ï¼Œé‡æ–°è®¾ç½®Toolbar * * @param layout */ public void setToolBar(int layout) &#123; hidetoolBar(); commonTitleTb = (Toolbar) content.findViewById(layout); setSupportActionBar(commonTitleTb); //è®¾ç½®actionBarçš„æ ‡é¢˜æ˜¯å¦æ˜¾ç¤ºï¼Œå¯¹åº”ActionBar.DISPLAY_SHOW_TITLEã€‚ getSupportActionBar().setDisplayShowTitleEnabled(false); &#125; /** * éšè—ToolBarï¼Œé€šè¿‡setToolBaré‡æ–°å®šåˆ¶ToolBar */ public void hidetoolBar() &#123; commonTitleTb.setVisibility(View.GONE); &#125; /** * menuçš„ç‚¹å‡»äº‹ä»¶ * * @param onclick */ public void setToolBarMenuOnclick(Toolbar.OnMenuItemClickListener onclick) &#123; commonTitleTb.setOnMenuItemClickListener(onclick); &#125; /** * è®¾ç½®å·¦ä¸Šè§’backæŒ‰é’® */ public void setBackArrow() &#123; final Drawable upArrow = getResources().getDrawable(R.drawable.common_back_ic); //ç»™ToolBarè®¾ç½®å·¦ä¾§çš„å›¾æ ‡ getSupportActionBar().setHomeAsUpIndicator(upArrow); // ç»™å·¦ä¸Šè§’å›¾æ ‡çš„å·¦è¾¹åŠ ä¸Šä¸€ä¸ªè¿”å›çš„å›¾æ ‡ ã€‚å¯¹åº”ActionBar.DISPLAY_HOME_AS_UP getSupportActionBar().setDisplayHomeAsUpEnabled(true); //è®¾ç½®è¿”å›æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ commonTitleTb.setNavigationOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; finish(); &#125; &#125;); &#125; /** * è®¾ç½®toolbarä¸‹é¢å†…å®¹åŒºåŸŸçš„å†…å®¹ * * @param layoutId */ public void setContentLayout(int layoutId) &#123; LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE); View contentView = inflater.inflate(layoutId, null); ViewGroup.LayoutParams params = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT); content.addView(contentView, params); &#125; /** * è®¾ç½®æ ‡é¢˜ * * @param title */ public void setTitle(String title) &#123; if (!TextUtils.isEmpty(title)) &#123; commonTitleTv.setText(title); &#125; &#125; /** * è®¾ç½®æ ‡é¢˜ * * @param resId */ public void setTitle(int resId) &#123; commonTitleTv.setText(resId); &#125;&#125; æ¯”å¦‚ä½ æƒ³åœ¨ä¸Šé¢gifå›¾çš„EventBusActivityçš„Activityä½¿ç”¨ï¼Œå¹¶ä¸”å®ç°menuç‚¹å‡»äº‹ä»¶ã€è¿”å›æŒ‰é’®ã€è®¾ç½®æ ‡é¢˜ç­‰æ“ä½œï¼Œåªéœ€è¦ä¸‹é¢å¾ˆç®€å•çš„ä»£ç å°±å¯ä»¥äº†ï¼š å†æ¥çœ‹çœ‹å­Activityï¼š12345678@Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentLayout(R.layout.activity_event_bus);//è®¾ç½®åˆ°BaseActivityä¸­çš„contentä¸­ setTitle(&quot;EventBusä½¿ç”¨&quot;);//è®¾ç½®æ ‡é¢˜ setBackArrow();//è®¾ç½®è¿”å›æŒ‰é’®å’Œç‚¹å‡»äº‹ä»¶ setToolBarMenuOnclick(new EventBusMenuItemClick());//è®¾ç½®menuèœå•çš„æ˜¾ç¤ºå’Œç‚¹å‡»äº‹ä»¶ &#125; å„ä½çœ‹å®˜æ„Ÿå…´è¶£çš„è¯ï¼Œæ¬¢è¿å»çœ‹çœ‹ï¼Œè¿™é‡Œæ˜¯åœ°å€ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥ä¿®æ”¹çš„ï¼Œæ¬¢è¿æå‡ºå®è´µæ„è§ï¼ æ¬¢è¿å»è¸©æˆ‘çš„ç®€ä¹¦ï¼šæˆ‘çš„ç®€ä¹¦","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"JavaæŒ‡å®šä¿ç•™å°æ•°ä½æ•°","slug":"JavaæŒ‡å®šä¿ç•™å°æ•°ä½æ•°","date":"2017-03-13T05:54:37.000Z","updated":"2018-01-16T03:10:55.277Z","comments":true,"path":"2017/03/13/JavaæŒ‡å®šä¿ç•™å°æ•°ä½æ•°/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/13/JavaæŒ‡å®šä¿ç•™å°æ•°ä½æ•°/","excerpt":"","text":"ä»Šå¤©é¡¹ç›®ä¸­éœ€è¦æ›´æ”¹æ—¶é•¿çš„æ˜¾ç¤ºæ–¹å¼ï¼Œè§„å®šå¿…é¡»ä¿ç•™ä¸¤ä½å°æ•°ï¼Œåˆšæ‰çœ‹ç®€ä¹¦çš„æ—¶å€™æ­£å¥½çœ‹åˆ°ä¸€ä¸ªæŒ‡å®šä¿ç•™å°æ•°ä½æ•°çš„å·¥å…·ç±»çš„æ–‡ç« ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œåšäº†ä¸€ç‚¹å°ä¿®æ”¹ï¼Œç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿äº†ï¼Œæœ‰éœ€è¦çš„æœ‹å‹å°½ç®¡æ’¸èµ° DecimalUtils ç±»ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113import java.math.BigDecimal;import java.math.RoundingMode;import java.text.DecimalFormat;/** * Created by Sean on 17/3/10. */public class DecimalUtils &#123; /** * æŒ‰å››èˆäº”å…¥ä¿ç•™æŒ‡å®šå°æ•°ä½æ•°ï¼Œä½æ•°ä¸å¤Ÿç”¨0è¡¥å…… * @param o æ ¼å¼åŒ–å‰çš„å°æ•° * @param newScale ä¿ç•™å°æ•°ä½æ•° * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static String formatDecimalWithZero(Object o, int newScale) &#123; return String.format(\"%.\" + newScale + \"f\", o); &#125; /** * æŒ‰å››èˆäº”å…¥ä¿ç•™æŒ‡å®šå°æ•°ä½æ•°ï¼Œä½æ•°ä¸å¤Ÿç”¨0è¡¥å…… * @param d æ ¼å¼åŒ–å‰çš„å°æ•° * @param newScale ä¿ç•™å°æ•°ä½æ•° * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static String formatDecimalWithZero(double d, int newScale) &#123; String pattern = \"0.\"; for (int i = 0; i &lt; newScale; i++) &#123; pattern += \"0\"; &#125; DecimalFormat df = new DecimalFormat(pattern); return df.format(d); &#125; /** * æŒ‰å››èˆäº”å…¥ä¿ç•™æŒ‡å®šå°æ•°ä½æ•°ï¼Œä½æ•°ä¸å¤Ÿç”¨0è¡¥å…… * @param d æ ¼å¼åŒ–å‰çš„å°æ•° Stringå½¢å¼ * @param newScale ä¿ç•™å°æ•°ä½æ•° * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static String formatDecimalWithZero(String d, int newScale) &#123; String pattern = \"0.\"; for (int i = 0; i &lt; newScale; i++) &#123; pattern += \"0\"; &#125; DecimalFormat df = new DecimalFormat(pattern); return df.format(Double.valueOf(d)); &#125; /** * æŒ‰å››èˆäº”å…¥ä¿ç•™æŒ‡å®šå°æ•°ä½æ•°ï¼Œå°æ•°ç‚¹åä»…ä¿ç•™æœ‰æ•ˆä½æ•° * @param d æ ¼å¼åŒ–å‰çš„å°æ•° * @param newScale ä¿ç•™å°æ•°ä½æ•° * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static String formatDecimal(double d, int newScale) &#123; String pattern = \"#.\"; for (int i = 0; i &lt; newScale; i++) &#123; pattern += \"#\"; &#125; DecimalFormat df = new DecimalFormat(pattern); return df.format(d); &#125; /** * æŒ‰å››èˆäº”å…¥ä¿ç•™æŒ‡å®šå°æ•°ä½æ•°ï¼Œå°æ•°ç‚¹åä»…ä¿ç•™æœ‰æ•ˆä½æ•° * @param d æ ¼å¼åŒ–å‰çš„å°æ•° * @param newScale ä¿ç•™å°æ•°ä½æ•° * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static String formatDecimal(String d, int newScale) &#123; String pattern = \"#.\"; for (int i = 0; i &lt; newScale; i++) &#123; pattern += \"#\"; &#125; DecimalFormat df = new DecimalFormat(pattern); return df.format(Double.valueOf(d)); &#125; /** * æŒ‰æŒ‡å®šèˆå…¥æ¨¡å¼ä¿ç•™æŒ‡å®šå°æ•°ä½æ•° * @param d æ ¼å¼åŒ–å‰çš„å°æ•° * @param newScale ä¿ç•™å°æ•°ä½æ•° * @param roundingMode èˆå…¥æ¨¡å¼ * (RoundingMode.UPå§‹ç»ˆè¿›ä¸€/DOWNç›´æ¥èˆå¼ƒ/ * CEILINGæ­£è¿›è´Ÿèˆ/FLOORæ­£èˆè´Ÿè¿›/ * HALF_UPå››èˆäº”å…¥/HALF_DOWNäº”èˆå…­è¿›/ * HALF_EVENé“¶è¡Œå®¶èˆå…¥æ³•/UNNECESSARYæŠ›å‡ºå¼‚å¸¸) * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static double formatDecimal(double d, int newScale, RoundingMode roundingMode) &#123; BigDecimal bd = new BigDecimal(d).setScale(newScale, roundingMode); return bd.doubleValue(); &#125; /** * æŒ‰æŒ‡å®šèˆå…¥æ¨¡å¼ä¿ç•™æŒ‡å®šå°æ•°ä½æ•° * @param d æ ¼å¼åŒ–å‰çš„å°æ•° * @param newScale ä¿ç•™å°æ•°ä½æ•° * @param roundingMode èˆå…¥æ¨¡å¼ * (RoundingMode.UPå§‹ç»ˆè¿›ä¸€/DOWNç›´æ¥èˆå¼ƒ/ * CEILINGæ­£è¿›è´Ÿèˆ/FLOORæ­£èˆè´Ÿè¿›/ * HALF_UPå››èˆäº”å…¥/HALF_DOWNäº”èˆå…­è¿›/ * HALF_EVENé“¶è¡Œå®¶èˆå…¥æ³•/UNNECESSARYæŠ›å‡ºå¼‚å¸¸) * @return æ ¼å¼åŒ–åçš„å°æ•° */ public static double formatDecimal(String d, int newScale, RoundingMode roundingMode) &#123; BigDecimal bd = new BigDecimal(Double.valueOf(d)).setScale(newScale, roundingMode); return bd.doubleValue(); &#125;&#125; åŸæ–‡åœ°å€","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"Java","slug":"Java","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Java/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Androidè¿›é˜¶---ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar","slug":"Androidè¿›é˜¶-ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar","date":"2017-03-11T08:58:21.000Z","updated":"2018-01-16T02:14:37.023Z","comments":true,"path":"2017/03/11/Androidè¿›é˜¶-ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/11/Androidè¿›é˜¶-ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªToolbar/","excerpt":"éœ€æ±‚åœ¨æ—¥å¸¸çš„å¼€å‘å½“ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°Toolbarä½œä¸ºæ ‡é¢˜æ ï¼Œå¦‚æœåœ¨æ¯ä¸ªviewé‡Œé¢éƒ½å†™ä¸€ä¸ªToolbarçš„è¯ï¼Œæ˜¾ç„¶æœ‰ç‚¹å†—ä½™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ¯ä¸ªé¡¹ç›®é‡Œé¢éƒ½æœ‰ä¸€ä¸ªBaseActivityï¼Œä½œä¸ºæ‰€æœ‰Activityçš„çˆ¶ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨BaseActivityä¸­å°è£…å¥½Toolbarï¼Œåœ¨å­ç±»ç”¨BaseActivityæä¾›çš„æ–¹æ³•è°ƒç”¨å³å¯ã€‚","text":"éœ€æ±‚åœ¨æ—¥å¸¸çš„å¼€å‘å½“ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°Toolbarä½œä¸ºæ ‡é¢˜æ ï¼Œå¦‚æœåœ¨æ¯ä¸ªviewé‡Œé¢éƒ½å†™ä¸€ä¸ªToolbarçš„è¯ï¼Œæ˜¾ç„¶æœ‰ç‚¹å†—ä½™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ¯ä¸ªé¡¹ç›®é‡Œé¢éƒ½æœ‰ä¸€ä¸ªBaseActivityï¼Œä½œä¸ºæ‰€æœ‰Activityçš„çˆ¶ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨BaseActivityä¸­å°è£…å¥½Toolbarï¼Œåœ¨å­ç±»ç”¨BaseActivityæä¾›çš„æ–¹æ³•è°ƒç”¨å³å¯ã€‚ å±•ç¤ºæ¥æ¥æ¥ï¼Œå¾€è¿™è¾¹çœ‹ï¼Œä¸‹é¢çš„çš„giféƒ½æ˜¯é€šè¿‡ä¸€ä¸ªToolbarå®ç°çš„ï¼š æ˜¯ä¸æ˜¯å¾ˆä¸é”™ï¼Œåªç”¨åœ¨å­Activityä¸­è°ƒç”¨BaseActivityä¸­çš„æ–¹æ³•æˆ–è€…é‡å†™æ–¹æ³•å°±å¯ä»¥äº†ã€‚æœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸‹ä»£ç ï¼Œæ¬¢è¿æŒ‡æ­£ Demoåœ°å€ å®ç°å…ˆåœ¨BaseActivityä¸­å†™å¥½å¸ƒå±€æ–‡ä»¶ï¼Œä¸€ä¸ªToolbarå’Œä¸€ä¸ªRelativeLayoutï¼š å…ˆçœ‹å¸ƒå±€æ–‡ä»¶activity_base.xmlï¼š common_title_tb å°±æ˜¯æˆ‘ä»¬å¤ç”¨çš„toolbarã€‚ common_title_tv å°±æ˜¯å¤ç”¨çš„toolbarä¸­çš„æ ‡é¢˜ã€‚ RelativeLayout å°±æ˜¯æˆ‘ä»¬å­Activityæ‰€è¦æ˜¾ç¤ºçš„åœ°æ–¹ 12345678910111213141516171819202122232425262728293031323334&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:tools=\"http://schemas.android.com/tools\" android:id=\"@+id/activity_base\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"vertical\" tools:context=\"com.sean.demo.ui.BaseActivity\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/common_title_tb\" android:layout_width=\"match_parent\" android:layout_height=\"@dimen/common_toolbar_height\" android:background=\"@color/colorPrimary\" android:elevation=\"6dp\"&gt; &lt;TextView android:id=\"@+id/common_title_tv\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_gravity=\"center\" android:text=\"æˆ‘æ˜¯æ ‡é¢˜\" android:textColor=\"@color/white\" android:textSize=\"16sp\" /&gt; &lt;/android.support.v7.widget.Toolbar&gt; &lt;RelativeLayout android:id=\"@+id/content\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"horizontal\"&gt;&lt;/RelativeLayout&gt;&lt;/LinearLayout&gt; ç„¶åæˆ‘ä»¬éœ€è¦åœ¨BaseActivityä¸­æš´éœ²ç»™å­ç±»ç‰¹å®šçš„æ–¹æ³•ï¼Œè®©å­ç±»å»æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µå»å®šåˆ¶é¡µé¢ã€‚ æ¥ä¸‹æ¥çœ‹ä¸‹æˆ‘ä»¬çš„BaseActivityï¼šä¸»è¦æ–¹æ³•æœ‰ï¼š setToolBar å­ç±»é‡æ–°è®¾ç½®Toolbaræ ·å¼ï¼ˆéœ€è¦å­ç±»é‡æ–°å†™ä¸€ä¸ªToolbarï¼‰ hidetoolBar å­ç±»ä¸éœ€è¦Toolbarçš„æ—¶å€™ï¼Œå¯ä»¥éšè—æ‰é€šç”¨çš„Toolbar setToolBarMenuOnclick ç»™Toolbarçš„menuè®¾ç½®ç‚¹å‡»äº‹ä»¶ï¼Œæ»¡è¶³ä¸åŒé¡µé¢çš„éœ€æ±‚ setBackArrow è®¾ç½®é€šç”¨çš„è¿”å›æŒ‰é’®ï¼Œéœ€è¦çš„æ—¶å€™ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•å°±å¯ä»¥äº† setContentLayout è®¾ç½®å­ç±»çš„å¸ƒå±€ï¼ˆè¿™ä¸ªæ—¶å€™å°±ä¸ç”¨è®¾ç½®setContentView()äº†ï¼‰ setTitle è®¾ç½®æ ‡é¢˜æ–‡å­— ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113public class BaseActivity extends AppCompatActivity &#123; /** * é€šç”¨çš„ToolBaræ ‡é¢˜ */ private TextView commonTitleTv; /** * é€šç”¨çš„ToolBar */ private Toolbar commonTitleTb; /** * å†…å®¹åŒºåŸŸ */ private RelativeLayout content; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_base); initView(); setSupportActionBar(commonTitleTb); getSupportActionBar().setDisplayShowTitleEnabled(false); &#125; private void initView() &#123; commonTitleTv = (TextView) findViewById(R.id.common_title_tv); commonTitleTb = (Toolbar) findViewById(R.id.common_title_tb); content = (RelativeLayout) findViewById(R.id.content); &#125; /** * å­ç±»è°ƒç”¨ï¼Œé‡æ–°è®¾ç½®Toolbar * * @param layout */ public void setToolBar(int layout) &#123; hidetoolBar(); commonTitleTb = (Toolbar) content.findViewById(layout); setSupportActionBar(commonTitleTb); //è®¾ç½®actionBarçš„æ ‡é¢˜æ˜¯å¦æ˜¾ç¤ºï¼Œå¯¹åº”ActionBar.DISPLAY_SHOW_TITLEã€‚ getSupportActionBar().setDisplayShowTitleEnabled(false); &#125; /** * éšè—ToolBarï¼Œé€šè¿‡setToolBaré‡æ–°å®šåˆ¶ToolBar */ public void hidetoolBar() &#123; commonTitleTb.setVisibility(View.GONE); &#125; /** * menuçš„ç‚¹å‡»äº‹ä»¶ * * @param onclick */ public void setToolBarMenuOnclick(Toolbar.OnMenuItemClickListener onclick) &#123; commonTitleTb.setOnMenuItemClickListener(onclick); &#125; /** * è®¾ç½®å·¦ä¸Šè§’backæŒ‰é’® */ public void setBackArrow() &#123; final Drawable upArrow = getResources().getDrawable(R.drawable.common_back_ic); //ç»™ToolBarè®¾ç½®å·¦ä¾§çš„å›¾æ ‡ getSupportActionBar().setHomeAsUpIndicator(upArrow); // ç»™å·¦ä¸Šè§’å›¾æ ‡çš„å·¦è¾¹åŠ ä¸Šä¸€ä¸ªè¿”å›çš„å›¾æ ‡ ã€‚å¯¹åº”ActionBar.DISPLAY_HOME_AS_UP getSupportActionBar().setDisplayHomeAsUpEnabled(true); //è®¾ç½®è¿”å›æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ commonTitleTb.setNavigationOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; finish(); &#125; &#125;); &#125; /** * è®¾ç½®toolbarä¸‹é¢å†…å®¹åŒºåŸŸçš„å†…å®¹ * * @param layoutId */ public void setContentLayout(int layoutId) &#123; LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE); View contentView = inflater.inflate(layoutId, null); ViewGroup.LayoutParams params = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT); content.addView(contentView, params); &#125; /** * è®¾ç½®æ ‡é¢˜ * * @param title */ public void setTitle(String title) &#123; if (!TextUtils.isEmpty(title)) &#123; commonTitleTv.setText(title); &#125; &#125; /** * è®¾ç½®æ ‡é¢˜ * * @param resId */ public void setTitle(int resId) &#123; commonTitleTv.setText(resId); &#125;&#125; æ¯”å¦‚ä½ æƒ³åœ¨ä¸Šé¢gifå›¾çš„EventBusActivityçš„Activityä½¿ç”¨ï¼Œå¹¶ä¸”å®ç°menuç‚¹å‡»äº‹ä»¶ã€è¿”å›æŒ‰é’®ã€è®¾ç½®æ ‡é¢˜ç­‰æ“ä½œï¼Œåªéœ€è¦ä¸‹é¢å¾ˆç®€å•çš„ä»£ç å°±å¯ä»¥äº†ï¼š å†æ¥çœ‹çœ‹å­Activityï¼š12345678@Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentLayout(R.layout.activity_event_bus);//è®¾ç½®åˆ°BaseActivityä¸­çš„contentä¸­ setTitle(&quot;EventBusä½¿ç”¨&quot;);//è®¾ç½®æ ‡é¢˜ setBackArrow();//è®¾ç½®è¿”å›æŒ‰é’®å’Œç‚¹å‡»äº‹ä»¶ setToolBarMenuOnclick(new EventBusMenuItemClick());//è®¾ç½®menuèœå•çš„æ˜¾ç¤ºå’Œç‚¹å‡»äº‹ä»¶ &#125; å„ä½çœ‹å®˜æ„Ÿå…´è¶£çš„è¯ï¼Œæ¬¢è¿å»çœ‹çœ‹ï¼Œè¿™é‡Œæ˜¯åœ°å€ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥ä¿®æ”¹çš„ï¼Œæ¬¢è¿æå‡ºå®è´µæ„è§ï¼","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/categories/å·¥å…·/"}]},{"title":"EventBus3.0å®ç”¨æ•™ç¨‹","slug":"EventBus3-0å®ç”¨æ•™ç¨‹","date":"2017-03-02T10:54:02.000Z","updated":"2018-01-15T14:17:59.399Z","comments":true,"path":"2017/03/02/EventBus3-0å®ç”¨æ•™ç¨‹/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/03/02/EventBus3-0å®ç”¨æ•™ç¨‹/","excerpt":"ä½œä¸ºä¸€ä¸ªAndroidå¼€å‘è€…ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­è‚¯å®šä¼šä½¿ç”¨åˆ°EventBusï¼Œæ¯”å¦‚è¯´å½“æˆ‘ä»¬åœ¨åšappçš„æ¶ˆæ¯æ¨¡å—çš„æ—¶å€™ï¼Œæ¥æ”¶åˆ°åå°æ¨é€çš„æ¶ˆæ¯ä¹‹åï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹ï¼Œå°±éœ€è¦æŠŠæ¶ˆæ¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œæ­£å¸¸æƒ…å†µä¸‹åœ¨é¡µé¢ä¸Šä¼šæœ‰ä¸ªbadgeæ˜¾ç¤ºæ¶ˆæ¯æ•°é‡ï¼Œå¦‚æœæˆ‘ä»¬ä¸åœ¨badgeæ˜¾ç¤ºç•Œé¢çš„è¯ï¼Œå°±éœ€è¦åœ¨æ¥æ”¶åˆ°åå°æ¨é€ä¹‹åæ›´æ–°badgeä¸Šæ˜¾ç¤ºçš„æ¶ˆæ¯æ•°é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨EventBuså‘å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œè¿™æ ·è®¢é˜…è€…æ¥æ”¶åˆ°äº‹ä»¶ä¹‹åï¼Œå°±ä¼šä»æ•°æ®åº“æ‹¿æœªè¯»æ¶ˆæ¯æ•°ï¼Œæ˜¾ç¤ºåœ¨badgeä¸Šé¢ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œä¸‹é¢å°±ç®€å•çš„ä»‹ç»ä¸‹EventBusçš„ä½¿ç”¨ï¼š EventBusåœ°å€ï¼šGitHub","text":"ä½œä¸ºä¸€ä¸ªAndroidå¼€å‘è€…ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­è‚¯å®šä¼šä½¿ç”¨åˆ°EventBusï¼Œæ¯”å¦‚è¯´å½“æˆ‘ä»¬åœ¨åšappçš„æ¶ˆæ¯æ¨¡å—çš„æ—¶å€™ï¼Œæ¥æ”¶åˆ°åå°æ¨é€çš„æ¶ˆæ¯ä¹‹åï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹ï¼Œå°±éœ€è¦æŠŠæ¶ˆæ¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œæ­£å¸¸æƒ…å†µä¸‹åœ¨é¡µé¢ä¸Šä¼šæœ‰ä¸ªbadgeæ˜¾ç¤ºæ¶ˆæ¯æ•°é‡ï¼Œå¦‚æœæˆ‘ä»¬ä¸åœ¨badgeæ˜¾ç¤ºç•Œé¢çš„è¯ï¼Œå°±éœ€è¦åœ¨æ¥æ”¶åˆ°åå°æ¨é€ä¹‹åæ›´æ–°badgeä¸Šæ˜¾ç¤ºçš„æ¶ˆæ¯æ•°é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨EventBuså‘å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œè¿™æ ·è®¢é˜…è€…æ¥æ”¶åˆ°äº‹ä»¶ä¹‹åï¼Œå°±ä¼šä»æ•°æ®åº“æ‹¿æœªè¯»æ¶ˆæ¯æ•°ï¼Œæ˜¾ç¤ºåœ¨badgeä¸Šé¢ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œä¸‹é¢å°±ç®€å•çš„ä»‹ç»ä¸‹EventBusçš„ä½¿ç”¨ï¼š EventBusåœ°å€ï¼šGitHub ä¸€ã€EventBus ä»‹ç»ventBusæ˜¯ä¸€ä¸ªAndroidç«¯ä¼˜åŒ–çš„publish/subscribeæ¶ˆæ¯æ€»çº¿ï¼Œç®€åŒ–äº†åº”ç”¨ç¨‹åºå†…å„ç»„ä»¶é—´ã€ç»„ä»¶ä¸åå°çº¿ç¨‹é—´çš„é€šä¿¡ã€‚è¿™ä¸ªæ¶ˆæ¯æ€»çº¿ä¸»è¦æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼š äº‹ä»¶ï¼ˆEventï¼‰ äº‹ä»¶è®¢é˜…è€…ï¼ˆSubscriberï¼‰ï¼ˆæœ‰æ²¡æœ‰æƒ³åˆ°RxJavaé‡Œé¢çš„è®¢é˜…è€… ==ã€‚ï¼‰ äº‹ä»¶å‘å¸ƒè€…ï¼ˆPublisherï¼‰ å®˜æ–¹çš„å…³ç³»å›¾ï¼š ç‰¹å¾å™è¿°ï¼š ç®€åŒ–ç»„ä»¶é—´çš„é€šä¿¡ äº‹ä»¶å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ åœ¨æ´»åŠ¨ã€ç‰‡æ®µå’Œåå°çº¿ç¨‹ä¸­æ‰§è¡Œè‰¯å¥½ é¿å…äº†å¤æ‚ã€æ˜“å‡ºé”™çš„ä¾èµ–å…³ç³»å’Œç”Ÿå‘½å‘¨æœŸé—®é¢˜ ä½¿ä½ çš„ä»£ç æ›´åŠ ç®€å• å¿«ï¼ å°ï¼ï¼ˆå¤§çº¦50Kï¼‰ åœ¨100,000,000+ä¸ªç¨‹åºä¸Šä½¿ç”¨ å…ˆè¿›ç‰¹å¾ï¼Œæ¯”å¦‚æŒ‡å®šçº¿ç¨‹ã€è®¾ç½®ä¼˜å…ˆçº§ç­‰ äºŒã€ä½¿ç”¨EventBusä»…éœ€å››æ­¥1. æ·»åŠ ä¾èµ–ä½¿ç”¨Gradleï¼š1compile 'org.greenrobot:eventbus:3.0.0' æˆ–è€…Mavenï¼š12345&lt;dependency&gt; &lt;groupId&gt;org.greenrobot&lt;/groupId&gt; &lt;artifactId&gt;eventbus&lt;/artifactId&gt; &lt;version&gt;3.0.0&lt;/version&gt;&lt;/dependency&gt; åˆæˆ–è€…ä¸‹è½½JaråŒ…æ·»åŠ åˆ°é¡¹ç›®ä¸­jaråŒ…ä¸‹è½½ 2. å®šä¹‰äº‹ä»¶ï¼ˆEventï¼‰12public class TestMsg &#123;&#125; è¿™ä¸ªTestMsgç”±ä»äº‹ä»¶å‘å¸ƒè€…å‘å‡ºï¼Œåˆ°äº‹ä»¶è®¢é˜…è€…æ¥æ”¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŠ ä¸Šé¢å¤–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä¸‹é¢å¯ä»¥ä¼ é€’nameï¼š 1234567891011public class TestMsg &#123; private String name; public TestMsg(String name) &#123; this.name = name; &#125; public String getName() &#123; return name; &#125;&#125; 3. å®šä¹‰äº‹ä»¶æ¥æ”¶è€…ï¼ˆSubscriberï¼‰é¦–å…ˆåœ¨æ‰€å±çš„Activityçš„onCreate()é‡Œé¢æ³¨å†Œ123456@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_my_lib); EventBus.getDefault().register(this);&#125; åœ¨onDestoryé‡Œé¢å–æ¶ˆæ³¨å†Œ12345@Override protected void onDestroy() &#123; super.onDestroy(); EventBus.getDefault().unregister(this); &#125; ç„¶åå®šä¹‰å¤„ç†äº‹ä»¶ï¼š1234567@Subscribe(threadMode = ThreadMode.MAIN) public void onEventMainThread(TestMsg testMsg) &#123; if (testMsg != null) &#123; Log.d(\"MainActivity\", \"ä½ æ”¶åˆ°çš„åå­—ä¸ºï¼š \"+testMsg.getName()); &#125; &#125; è¿™é‡Œçš„å®šä¹‰äº†äº‹ä»¶æ¥æ”¶è€…ä»¥åŠä½¿ç”¨æ³¨è§£@Subscribe(threadMode = ThreadMode.MAIN)æŒ‡å®šäº†æ‰§è¡Œçš„çº¿ç¨‹ã€‚ThreadModeæœ‰ä¸‹é¢å››ç§ç±»å‹ï¼š MAIN UIä¸»çº¿ç¨‹ POSTING é»˜è®¤è°ƒç”¨æ–¹å¼ï¼Œåœ¨è°ƒç”¨postæ–¹æ³•çš„çº¿ç¨‹æ‰§è¡Œï¼Œé¿å…äº†çº¿ç¨‹åˆ‡æ¢ï¼Œæ€§èƒ½å¼€é”€æœ€å°‘ BACKGROUND å¦‚æœè°ƒç”¨postæ–¹æ³•çš„çº¿ç¨‹ä¸æ˜¯ä¸»çº¿ç¨‹ï¼Œåˆ™ç›´æ¥åœ¨è¯¥çº¿ç¨‹æ‰§è¡Œã€‚å¦‚æœæ˜¯ä¸»çº¿ç¨‹ï¼Œåˆ™åˆ‡æ¢åˆ°åå°å•ä¾‹çº¿ç¨‹ï¼Œå¤šä¸ªæ–¹æ³•å…¬ç”¨åŒä¸ªåå°çº¿ç¨‹ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œï¼Œé¿å…è€—æ—¶æ“ä½œ ASYNC å¼€è¾Ÿæ–°ç‹¬ç«‹çº¿ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œä¾‹å¦‚ç½‘ç»œè®¿é—®ã€‚ å½“ç„¶è¿™é‡Œå¯ä»¥åœ¨æ³¨è§£é‡Œé¢è®¾ç½®ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚ä¸‹é¢è®¾ç½®ä¼˜å…ˆçº§ä¸º100ï¼Œè¶Šå¤§å°±è¶Šçº¿å…ˆæ¥æ”¶åˆ°äº‹ä»¶ï¼š1234567@Subscribe(threadMode = ThreadMode.POSTING,priority = 100) public void onEventMainThread(TestMsg testMsg) &#123; if (testMsg != null) &#123; Log.d(\"MainActivity\", \"ä½ æ”¶åˆ°çš„åå­—ä¸ºï¼š \"+testMsg.getName()); &#125; &#125; å¦‚æœä½ æœ‰ä¸‰ä¸ªæ¥æ”¶äº‹ä»¶ï¼Œå¹¶ä¸”è®¾ç½®äº†ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚100ã€50ã€10,ä½ ä¹Ÿå¯ä»¥åœ¨priority = 100çš„æ¥æ”¶åˆ°ä¹‹åå–æ¶ˆäº‹ä»¶çš„ä¼ é€’ï¼Œé‚£ä¹ˆpriority = 50å’Œ10çš„å°±ä¸ä¼šæ¥æ”¶åˆ°äº‹ä»¶äº†ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œåªèƒ½åœ¨ThreadMode.PostThreadç±»å‹çš„æ‰èƒ½å–æ¶ˆï¼Œå…¶ä»–çš„ä¸‰ç§ThreadModeç±»å‹æ˜¯ä¸èƒ½å–æ¶ˆçš„ã€‚ å¦‚ä½•è®¾ç½®ï¼š 1EventBus.getDefault().cancelEventDelivery(event) ; 4.å®šä¹‰äº‹ä»¶å‘å¸ƒè€…ï¼ˆPublisherï¼‰å‘å‡ºäº‹ä»¶123456sendMessage.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; EventBus.getDefault().post(new TestMsg(\"æµ‹è¯•EventBus\")); &#125; &#125;); æˆ‘å†™äº†ä¸€ä¸ªå°Demoï¼Œè¿™ä¸ªDemoæ˜¯æˆ‘åœ¨ä¸»moduleï¼Œä¹Ÿå°±æ˜¯åœ¨appä¸‹é¢å®šä¹‰äº†äº‹ä»¶æ¥æ”¶è€…ï¼Œåœ¨ä¸»appä¾èµ–çš„moduleä¸‹é¢å‘å‡ºäº‹ä»¶æ¥æµ‹è¯•çš„ã€‚ç»“æœæ˜¯å¯è¡Œçš„ã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»çœ‹ä¸‹ï¼š Demoåœ°å€","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"fastjsonä½¿ç”¨","slug":"fastjsonä½¿ç”¨å…¥é—¨","date":"2017-02-28T07:16:23.000Z","updated":"2018-01-16T03:10:08.599Z","comments":true,"path":"2017/02/28/fastjsonä½¿ç”¨å…¥é—¨/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/02/28/fastjsonä½¿ç”¨å…¥é—¨/","excerpt":"","text":"åšå®¢æˆ·ç«¯å¼€å‘è¦ç»å¸¸çš„å’ŒæœåŠ¡ç«¯è¿›è¡Œäº¤äº’ï¼Œç°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨jsonè¿›è¡Œäº¤äº’çš„ï¼Œæ‰€ä»¥å¯¹äºjsonçš„ç”Ÿæˆå’Œè§£æå˜å¾—å°¤ä¸ºé‡è¦ï¼Œä¸‹é¢å¯¹è‡ªå·±æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨jsonçš„è¿›è¡Œä¸€ä¸ªè®°å½•å¦‚ä¸‹,ä»¥ä¾¿ä¸€äº›åˆšå­¦ä¹ çš„å°ä¼™ä¼´å‚è€ƒå’Œè‡ªå·±ä»¥åç¿»é˜…ã€‚ ä¸€ã€é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆæ·»åŠ fastjsonçš„ä¾èµ–ï¼š1compile &apos;com.alibaba:fastjson:1.2.24&apos; äºŒã€ä½¿ç”¨fastjsonæ¥â€åˆ¶é€ â€jsonè¯·æ±‚æ•°æ® æˆ‘ä»¬åœ¨æ—¥å¸¸å’ŒæœåŠ¡å™¨äº¤äº’çš„æ—¶å€™ï¼Œç»å¸¸æ˜¯é€šè¿‡jsonå­—ç¬¦ä¸²è¿›è¡Œçš„ï¼Œé¦–å…ˆå°±å…ˆæ¼”ç¤ºä¸‹å¦‚ä½•é€ å‡ºä¸‹é¢çš„jsonå­—ç¬¦ä¸²ï¼š123456789&#123; &quot;cmd&quot;:&quot;myApp/app/userCenter/queryFriend&quot;, &quot;userToken&quot;:&quot;bfcb38b5bcbf463af031a1e7b9d284af&quot;, &quot;parameters&quot;: &#123; &quot;friend&quot;:&quot;myGirlFriends&quot; &#125;&#125; åˆæ­¥é€šè¿‡ä¸‹é¢çš„ä»£ç å®ç°ï¼š12345678//parametersMapç”¨æ¥ç”ŸæˆparametersMap&lt;String, String&gt; parametersMap = new HashMap&lt;&gt;();parametersMap.put(&quot;friend&quot;, &quot;myGirlFriends&quot;);//upMapç”¨æ¥ç”Ÿæˆæœ€ç»ˆçš„ä¸Šä¼ æ•°æ®Map&lt;String, Object&gt; upMap = new HashMap&lt;&gt;();upMap.put(&quot;cmd&quot;, &quot;myApp/app/userCenter/queryFriend&quot;);upMap.put(&quot;userToken&quot;, &quot;fc8b87f32bbdd8200de192350fd133cc&quot;);upMap.put(&quot;parameters&quot;, parametersMap); è¿™ä¸ªæ—¶å€™çš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼š1234567&#123; cmd=myApp/app/userCenter/queryFriend, userToken=fc8b87f32bbdd8200de192350fd133cc, parameters=&#123; friend=myGirlFriends &#125;&#125; ä¸Šé¢åªæ˜¯ç”Ÿæˆäº†ä¸€ç»„mapå¯¹è±¡ï¼Œæˆ‘ä»¬å’ŒæœåŠ¡å™¨äº¤äº’æ˜¯é€šè¿‡jsonå­—ç¬¦ä¸²è¿›è¡Œçš„ï¼Œè¯·çœ‹ä¸‹é¢ä»£ç ï¼š12//JSONåŒ…åä¸ºï¼šimport com.alibaba.fastjson.JSON;String upParams = JSON.JSON.toJSONString(upMap); è¿™ä¸ªæ—¶å€™upParamsçš„ç»“æ„å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æ„äº†1234567&#123; &quot;cmd&quot;: &quot;myApp/app/userCenter/queryFriend&quot;, &quot;userToken&quot;: &quot;fc8b87f32bbdd8200de192350fd133cc&quot;, &quot;parameters&quot;: &#123; &quot;friend&quot;: &quot;myGirlFriends&quot; &#125;&#125; upParamså¯ä»¥ç”¨æ¥å‘é€è¯·æ±‚äº†ã€‚é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³å’ŒæœåŠ¡å™¨äº¤äº’çš„è¯·æ±‚æ ¼å¼ï¼Œæ ¼å¼å¤æ‚ç‚¹è¯ï¼Œå¯èƒ½ä¼šæœ‰å¤šå±‚åµŒå¥—ï¼Œåªç”¨ä½¿ç”¨Mapæ¥åˆ¶é€ åµŒå¥—ï¼Œæœ€åä½¿ç”¨fastjsonè¿›è¡Œè½¬æ¢å°±å¥½äº†ã€‚ ä¸‰ã€è§£æjsonå­—ç¬¦ä¸²ç›¸å…³çš„æ“ä½œæ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªjsonå­—ç¬¦ä¸²éœ€è¦æˆ‘ä»¬è§£æï¼Œå¦‚ä¸‹ï¼š123456789101112131415161718&#123; &quot;name&quot;: &quot;sean&quot;, &quot;id&quot;: &quot;1&quot;, &quot;joined&quot;: [ &#123; &quot;joinName&quot;: &quot;joined1&quot;, &quot;joinId&quot;: &quot;10&quot; &#125;, &#123; &quot;joinName&quot;: &quot;joined2&quot;, &quot;joinId&quot;: &quot;11&quot; &#125;, &#123; &quot;joinName&quot;: &quot;joined3&quot;, &quot;joinId&quot;: &quot;12&quot; &#125; ]&#125; è·å¾—è¿™ä¸ªjsonå¯¹è±¡ åªéœ€è¦ä¸€è¡Œä»£ç å³å¯å®Œæˆï¼š 123//stringï¼šjsonå­—ç¬¦ä¸²//jsonObjectï¼šç”Ÿæˆçš„jsonå¯¹è±¡JSONObject jsonObject = JSON.parseObject(string); 1. è·å–jsonå¯¹è±¡ä¸­çš„ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼š12string name = jsonObject.getString(&quot;name&quot;);Log.d(&quot;name= &quot;+name); å¾—åˆ°çš„å€¼ä¸ºname= sean 2. è·å–jsonå¯¹è±¡ä¸­çš„ä¸€ä¸ªæ•°ç»„ä¸€è¡Œä»£ç ï¼š 123456789101112131415161718//jsonObjectï¼šjsonå¯¹è±¡//joinedï¼šjsonå¯¹è±¡ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œé‡Œé¢ä¿å­˜çš„æ˜¯ä¸€ä¸ªjsonæ•°ç»„ã€‚JSONArray joinedArray = jsonObject .getJSONArray(&quot;joined&quot;);æ­¤æ—¶ï¼ŒjoinedArray ä¸­çš„å€¼ä¸ºï¼š [ &#123; &quot;joinName&quot;: &quot;joined1&quot;, &quot;joinId&quot;: &quot;10&quot; &#125;, &#123; &quot;joinName&quot;: &quot;joined2&quot;, &quot;joinId&quot;: &quot;11&quot; &#125;, &#123; &quot;joinName&quot;: &quot;joined3&quot;, &quot;joinId&quot;: &quot;12&quot; &#125;] éå†è¯¥æ•°ç»„ï¼š12345for (int i = 0; i &lt; joinedArray.size(); i++) &#123; JSONObject obj = joinedArray.getJSONObject(i); Log.d(&quot;id= &quot;+obj.getJoinId); Log.d(&quot;name= &quot;+obj.getJoinName);&#125; æ­¤æ—¶æ‰“å°æ•°æ®ï¼š123456id= 10name= joined1id= 11name= joined2id= 12name= joined3 ä»¥ä¸Šæ˜¯ä¸ªäººæ€»ç»“ï¼Œæœ‰ä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡å‡ºã€äº¤æµã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Ionic1é›†æˆäºŒç»´ç æ‰«æ","slug":"Ionic1é›†æˆäºŒç»´ç æ‰«æ","date":"2017-01-23T08:16:14.000Z","updated":"2018-01-16T03:09:23.835Z","comments":true,"path":"2017/01/23/Ionic1é›†æˆäºŒç»´ç æ‰«æ/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/01/23/Ionic1é›†æˆäºŒç»´ç æ‰«æ/","excerpt":"","text":"å…¬å¸çš„æœ‰ä¸€ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨ionicå¼€å‘çš„ï¼Œæœ€è¿‘å®¢æˆ·æå‡ºäº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼šäºŒç»´ç æ‰«æã€‚æˆ‘ç¬é—´æ‡µé€¼äº†ï¼Œåœ¨åŸç”Ÿä¸Šé¢å®ç°äºŒç»´ç æ‰«ææ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹æƒ…ï¼Œä½†æ˜¯è‡ªå·±ä»æ¥æ²¡æœ‰åœ¨ionicä¸Šé¢ä½¿ç”¨äºŒç»´ç æ‰«æï¼Œä½†æ˜¯ä¹Ÿæ²¡åŠæ³•ï¼Œé»˜é»˜åœ°googleï¼Œæœ€åå‘ç°ä¹Ÿä¸æ˜¯é‚£ä¹ˆçš„éš¾ï¼Œåªæ˜¯ç•Œé¢å®ç°å‡ºæ¥ä¸‘äº†ç‚¹ã€‚ 1ã€ç¯å¢ƒé…ç½®é¦–å…ˆéœ€è¦é…ç½®jdkã€sdkã€cordovaã€nodeã€ionicçš„ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨è¯¥æ’ä»¶è¿˜éœ€è¦ä½¿ç”¨phongGapï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯5.1.1ç‰ˆæœ¬çš„phoneGapï¼ˆå’Œcordovaä¸€æ ·ï¼Œè‡ªæˆ‘è§‰å¾—ä¸€æ ·æ¯”è¾ƒå¥½ï¼‰ï¼Œé…ç½®phoneGapï¼š 1npm install -g phoneGap@5.1.1 å¦‚æœä½ ä¸æƒ³æŒ‡å®šç‰ˆæœ¬çš„è¯ï¼Œåé¢çš„@5.1.1å¯ä»¥ä¸åŠ ã€‚ 2ã€å®‰è£…æ’ä»¶1phonegap plugin add phonegap-plugin-barcodescanner 3ã€è°ƒç”¨æ’ä»¶123456789101112131415161718192021222324252627$scope.scan = function (dispatchId) &#123; cordova.plugins.barcodeScanner.scan( function (result) &#123; if (result.wasCancelled) &#123; popup.loadMsg(&quot;è¿”å›æŒ‰é’®å›åˆ°è¿™ä¸ªé¡µé¢&quot;); &#125; alert(&quot;We got a barcode\\n&quot; + &quot;Result: &quot; + result.text + &quot;\\n&quot; + &quot;Format: &quot; + result.format + &quot;\\n&quot; + &quot;Cancelled: &quot; + result.cancelled); &#125;, function (error) &#123; alert(&quot;Scanning failed: &quot; + error); &#125;, &#123; preferFrontCamera: false, // iOS and Android showFlipCameraButton: false, // iOS and Android showTorchButton: true, // iOS and Android æ˜¾ç¤ºå¼€èµ·æ‰‹ç”µç­’çš„æŒ‰é’® torchOn: false, // Android, launch with the torch switched on (if available) é»˜è®¤å¼€å¯æ‰‹ç”µç­’ prompt: &quot;è¯·å°†äºŒç»´ç æ”¾åœ¨æ‰«ææ¡†ä¸­&quot;, // Android æç¤ºä¿¡æ¯ resultDisplayDuration: 500, // Android, display scanned text for X ms. 0 suppresses it entirely, default 1500 å¤šä¹…å¼€å§‹è¯†åˆ« formats: &quot;QR_CODE,PDF_417&quot;, // default: all but PDF_417 and RSS_EXPANDED orientation: &quot;portrait&quot;, // Android only (portrait|landscape), default unset so it rotates with the device å‚ç›´è¿˜æ˜¯æ°´å¹³ // disableAnimations : true // iOS &#125; ); &#125; 4ã€åœ¨index.htmlä¸­å¼•å…¥jsæ–‡ä»¶ã€‚123&lt;script src=&quot;lib/ngCordova/dist/ng-cordova.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;lib/ngCordova/dist/ng-cordova-mocks.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;cordova.js&quot;&gt;&lt;/script&gt; ç‰¹æ­¤è®°å½•ï¼","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":"Ionic1 cordovaç¯å¢ƒé—®é¢˜","slug":"Ionic1-cordovaç¯å¢ƒé—®é¢˜","date":"2017-01-23T08:16:05.000Z","updated":"2018-01-16T03:09:03.615Z","comments":true,"path":"2017/01/23/Ionic1-cordovaç¯å¢ƒé—®é¢˜/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2017/01/23/Ionic1-cordovaç¯å¢ƒé—®é¢˜/","excerpt":"","text":"å‰å‡ å¤©æŠŠç”µè„‘é‡æ–°è£…äº†ç³»ç»Ÿï¼Œç„¶åè€è€å®å®çš„æŠŠæ‰€æœ‰è¯¥é…ç½®çš„ç¯å¢ƒéƒ½é…ç½®å¥½äº†ã€‚å»è¿è¡Œionic1é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°å‡ºç°äº†ionic platform add androidæ€»æ˜¯å‡ºé”™ï¼Œå¯¼è‡´æˆ‘æ— æ³•ç»§ç»­å¼€å‘è¿™ä¸ªé¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ionic serveå‘½ä»¤åœ¨ç½‘é¡µç«¯æ¥å¼€å‘çš„ï¼Œä½†æ˜¯æœ‰çš„åŠŸèƒ½æ¯•ç«Ÿä¸æ˜¯ç½‘é¡µå¯ä»¥æ¨¡æ‹Ÿçš„ï¼Œç„¶åå„ç§google,æ˜¨æ™šå¼„åˆ°ä¸€ç‚¹å¤šä¹Ÿæ˜¯æ²¡è°ƒå¥½ï¼Œä»Šå¤©å¶å°”åœ¨ç½‘ä¸Šçœ‹åˆ°é‡æ–°æŠŠcordovaã€ionicå¸è½½ï¼Œç„¶åå†å®‰è£…ä¸€ä¸‹å°±å¯ä»¥ï¼Œè‡ªå·±è¯•äº†è¯•ï¼Œè¿˜çœŸçš„å¯ä»¥ï¼Œç°åœ¨æŠŠå…·ä½“çš„æ–¹æ³•ç»™å¤§å®¶è¯´ä¸‹ï¼š åŸæ¥çš„ç¯å¢ƒï¼š1234jdk -v :1.8ionic -v : 1.7.15node -v :5.4.1cordova-v: 5.4.1 æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š é‡æ–°å®‰è£…node æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 1234567npm install -g npmnpm uninstall -g cordovanpm uninstall -g phonegapnpm uninstall -g ionicnpm cache cleannpm install -g ionic@1.7.15npm install -g cordova@5.1.1 å®‰è£…å¥½çš„ç¯å¢ƒï¼š 1234jdk -v :1.8ionic -v : 1.7.15node -v :4.4.4cordova-v: 5.1.1 å¯ä»¥çœ‹åˆ°ï¼Œç½ªé­ç¥¸é¦–è¿˜æ˜¯é‚£ä¸ªnodejsçš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ—¶å€™å†å»æ‰§è¡Œï¼šionic platform add androidå’Œionic run androidçš„æ—¶å€™å°±å¯ä»¥é¡ºåˆ©è¿›è¡Œäº†ã€‚ ç‰¹æ­¤è®°å½•å¼€å‘ionic1é‡åˆ°çš„æ·±å‘ã€‚ã€‚ã€‚","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":" Android6.0è¿è¡Œæ—¶æƒé™å¤„ç†","slug":"Android6-0è¿è¡Œæ—¶æƒé™å¤„ç†","date":"2016-12-15T08:03:59.000Z","updated":"2018-01-16T03:08:16.292Z","comments":true,"path":"2016/12/15/Android6-0è¿è¡Œæ—¶æƒé™å¤„ç†/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/12/15/Android6-0è¿è¡Œæ—¶æƒé™å¤„ç†/","excerpt":"","text":"å‰è¨€åœ¨Android6.0ç‰ˆæœ¬ä»¥å‰ï¼Œå¾€å¾€æ˜¯åº”ç”¨ç¨‹åºéœ€è¦ä»€ä¹ˆæƒé™ç›´æ¥åœ¨manifest.xmlä¸­ç›´æ¥å£°æ˜ï¼Œå½“ä½ å®‰è£…ç¨‹åºçš„æ—¶å€™ï¼Œå¦‚æœä¸æƒ³è®©è¯¥ç¨‹åºä½¿ç”¨æŸç§æƒé™ï¼Œå”¯ä¸€çš„åŠæ³•åªèƒ½æ˜¯ä¸è£…è¿™ä¸ªåº”ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬ç”Ÿæ´»ä¸­ç¦»ä¸å¼€åº”ç”¨ï¼Œåªèƒ½æ˜¯é»˜é»˜çš„æ¥å—æ— è€»çš„æƒé™è¦æ±‚ï¼Œæ¯”å¦‚ä¸€ä¸ªèŠå¤©è½¯ä»¶è¦è·å–ä½ çš„çŸ­ä¿¡ã€å½©ä¿¡ç­‰æƒé™ï¼Œæ˜æ˜å°±æ˜¯æ˜æŠ¢ï¼Œæˆ‘ä»¬å¹³æ—¶åˆä½¿ç”¨ä¸åˆ°è¿™äº›æƒé™ï¼ŒGoogleä¹Ÿè€ƒè™‘åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨Android6.0ä¹‹ååŠ å…¥äº†è¿è¡Œæ—¶æƒé™ï¼ŒæŠŠæƒé™åˆ†ä¸ºå±é™©æƒé™å’Œæ™®é€šæƒé™ã€‚ æ™®é€šæƒé™ä¸ä¼šç›´æ¥å¨èƒåˆ°ç”¨æˆ·çš„å®‰å…¨å’Œéšç§çš„æƒé™ å±é™©æƒé™å¯èƒ½ä¼šè§¦åŠç”¨æˆ·çš„éšç§ã€æˆ–è€…å¯¹ç”¨æˆ·çš„è®¾å¤‡å®‰å…¨æ€§é€ æˆå½±å“çš„æƒé™ï¼Œå±é™©æƒé™æ€»å…±æœ‰9ç»„24ä¸ªæƒé™ Demoï¼šæ¨¡æ‹Ÿç›´æ¥æ‹¨æ‰“ç”µè¯ é¦–å…ˆåœ¨Manifest.xmlä¸­æ·»åŠ æ‹¨æ‰“ç”µè¯æƒé™ 12&lt;!--æ‹¨æ‰“ç”µè¯æƒé™--&gt;&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;&gt;&lt;/uses-permission&gt; åœ¨main_activity.xmlæ–‡ä»¶ä¸­æ·»åŠ å¸ƒå±€æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:id=&quot;@+id/activity_main&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot; android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot; android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot; android:paddingTop=&quot;@dimen/activity_vertical_margin&quot; tools:context=&quot;com.sean.css.runtimepermissiontest.MainActivity&quot;&gt; &lt;Button android:id=&quot;@+id/make_call&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;æ‹¨æ‰“10080&quot; /&gt;&lt;/RelativeLayout&gt; åœ¨MainActivity.xmlæ–‡ä»¶ä¸­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273package com.sean.css.runtimepermissiontest;import android.Manifest;import android.content.Intent;import android.content.pm.PackageManager;import android.net.Uri;import android.support.annotation.NonNull;import android.support.v4.app.ActivityCompat;import android.support.v4.content.ContextCompat;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.Toast;public class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Button button = (Button) findViewById(R.id.make_call); button.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View view) &#123; //åˆ¤æ–­æ˜¯å¦å·²ç»è·å¾—äº†æ‹¨æ‰“ç”µè¯æƒé™ if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) &#123; //æ²¡æœ‰è·å¾—æ‹¨æ‰“ç”µè¯æƒé™å°±å»è¯·æ±‚è·å¾—è¯¥æƒé™ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æƒé™åç§°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯·æ±‚ç  ActivityCompat.requestPermissions(MainActivity.this, new String[]&#123;Manifest.permission.CALL_PHONE&#125;, 1); &#125; else &#123; call(); &#125; &#125; &#125;); &#125; private void call() &#123; try &#123; Intent intent = new Intent(Intent.ACTION_CALL); intent.setData(Uri.parse(&quot;tel:10086&quot;)); startActivity(intent); &#125; catch (SecurityException e) &#123; e.printStackTrace(); &#125; &#125; /** * ç”³è¯·æƒé™å›è°ƒ * * @param requestCode * @param permissions * @param grantResults */ @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) &#123; super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) &#123; case 1: //å¦‚æœæ˜¯è¿”å›çš„è¯·æ±‚ç æ˜¯1ï¼ŒçŸ¥é“æ˜¯ç”³è¯·æ‹¨æ‰“ç”µè¯æƒé™çš„å›è°ƒã€‚ //æˆæƒçš„ç»“æœåœ¨grantResultsä¸­ï¼Œå¦‚æœé•¿åº¦å¤§äº0å¹¶ä¸”é‡Œé¢çš„å€¼è¡¨ç¤ºä»¥è·å–è¯¥æƒé™ï¼Œå°±ç›´æ¥æ‹¨æ‰“ç”µè¯ //å¦åˆ™è·³å‡ºæç¤ºï¼Œå‘Šè¯‰ç”¨æˆ·ä¸ºä»€ä¹ˆéœ€è¦è¯¥æƒé™ï¼Œè®©ç”¨æˆ·è‡ªå·±å¼€å¯æƒé™ if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; call(); &#125; else &#123; Toast.makeText(this, &quot;ä½ éœ€è¦å…è®¸æ‹¨æ‰“ç”µè¯æƒé™æ‰èƒ½è¿›è¡Œä¸‹é¢çš„æ“ä½œ&quot;, Toast.LENGTH_SHORT).show(); &#125; break; &#125; &#125;&#125; å½“æˆ‘ä»¬ç”³è¯·è¿è¡Œæ—¶æƒé™çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿè§‰å‘¢ï¼Ÿæˆ‘ä»¬åœ¨ä½¿ç”¨å¼€å¯æ–°çš„Activityå¹¶ä¸”éœ€è¦æ–°çš„Activityè¿”å›ç»™æˆ‘ä»¬å€¼çš„æ—¶å€™ï¼Œå’Œç”³è¯·æƒé™çš„æ˜¯ç›¸ä¼¼çš„ï¼Œè¿™æ ·å°±å¥½ç†è§£å¤šäº†ã€‚ å…¶ä»–ç°åœ¨çš„å¼€æºé¡¹ç›®æœ‰å¾ˆå¤šå·²ç»å¸®æˆ‘ä»¬å°è£…å¥½äº†ç”³è¯·è¿è¡Œæ—¶æƒé™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œæ¯”å¦‚easypermissionsç­‰ï¼Œä¸è¿‡è¿˜æ˜¯è¦çŸ¥é“å…¶ä¸­çš„åŸç†æ¯”è¾ƒå¥½ã€‚ Android6.0çš„è¿è¡Œæ—¶æƒé™å¤„ç†ï¼Œç‰¹æ­¤è®°å½•ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":" è§£å†³é­…æ—æ‰‹æœºä¸èƒ½Toastæç¤ºçš„æ–¹æ³•","slug":"è§£å†³é­…æ—æ‰‹æœºä¸èƒ½Toastæç¤ºçš„æ–¹æ³•","date":"2016-12-14T04:35:01.000Z","updated":"2018-01-16T02:45:37.840Z","comments":true,"path":"2016/12/14/è§£å†³é­…æ—æ‰‹æœºä¸èƒ½Toastæç¤ºçš„æ–¹æ³•/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/12/14/è§£å†³é­…æ—æ‰‹æœºä¸èƒ½Toastæç¤ºçš„æ–¹æ³•/","excerpt":"","text":"å‰è¨€è‡ªå·±æ˜¯åšAndroidå¼€å‘çš„ï¼Œæœ€è¿‘æŠ›å¼ƒäº†iphoneï¼Œè‡ªå·±ä¹Ÿå…¥æ‰‹äº†ä¸€ä¸ªé­…æ—æ‰‹æœºï¼ˆMX6ï¼‰ï¼Œä½†æ˜¯åœ¨è¿è¡Œè‡ªå·±å¼€å‘çš„åº”ç”¨æ—¶å½»åº•æ‡µé€¼äº†ï¼ŒToastæç¤ºç«Ÿç„¶ä¸ä¼šå‡ºç°ï¼Œå›å»çœ‹äº†çœ‹ä»£ç ï¼Œæ²¡é—®é¢˜å•Šï¼Œä¹Ÿæ˜¯ç½‘ä¸Šè¯´çš„è‡ªå·±å†™çš„Toastï¼Œå¹¶ä¸æ˜¯åŸç”Ÿçš„Toastï¼Œä½†æ˜¯è¿˜æ˜¯ä¸èƒ½æç¤ºï¼Œæ„Ÿè§‰è›‹ç–¼æ— æ¯”ï¼Œç½‘ä¸Šä¸€é¡¿æœç´¢ä¹‹åç»ˆäºåœ¨ è¿™é‡Œå‘ç°äº†é—®é¢˜æ‰€åœ¨ã€‚ è§£å†³æ–¹æ¡ˆ é¦–å…ˆåœ¨åº”ç”¨é‡Œé¢æ·»åŠ é€šçŸ¥çª—æƒé™12&lt;!-- æ‚¬æµ®æ¡†æƒé™ --&gt;&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt; 2.åœ¨æ‰‹æœºç®¡å®¶â€”â€”&gt;æƒé™ç®¡ç†â€”â€”&gt;é€šçŸ¥ç®¡ç†â€”â€”&gt;æ‰¾åˆ°è‡ªå·±çš„åº”ç”¨â€”â€”&gt;å¼€å¯æ‚¬æµ®çª—æƒé™ã€‚ ç»è¿‡ä¸Šé¢çš„ä¸¤æ­¥æ€»ç®—æ˜¯å¯ä»¥æ˜¾ç¤ºToastäº†ï¼ŒçœŸæ˜¯æä¸æ‡‚ï¼Œä¸ºå•¥è¦æŠŠToaståˆå¹¶åˆ°æ‚¬æµ®çª—é‡Œé¢ã€‚ è¿™é‡Œè®°å½•ä¸‹å‘çˆ¹çš„é­…æ—æ‰‹æœºbugï¼ˆæˆ‘çš„æ˜¯mx6çš„5.2.4.1ç‰ˆæœ¬ï¼Œä¸çŸ¥é“å…¶ä»–æœºå‹æœ‰æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼‰ï¼Œå·²ç»åœ¨é­…æ—ç¤¾åŒºæäº†è¿™ä¸ªbugï¼Œå¸Œæœ›é­…æ—æ—©ç‚¹å¤„ç†ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"ToolBarå­¦ä¹ ç¬”è®°(ä¸€)","slug":"ToolBarå­¦ä¹ ç¬”è®°-ä¸€","date":"2016-12-07T08:40:56.000Z","updated":"2018-01-16T02:45:05.887Z","comments":true,"path":"2016/12/07/ToolBarå­¦ä¹ ç¬”è®°-ä¸€/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/12/07/ToolBarå­¦ä¹ ç¬”è®°-ä¸€/","excerpt":"","text":"ç°åœ¨é¡¹ç›®ä¸­ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨æ ‡é¢˜æ ï¼Œè°·æ­Œåœ¨2014å¹´æ¨å‡ºäº†æ–°çš„app barâ€”ToolBarï¼Œä»£æ›¿äº†ä»¥å‰ä½¿ç”¨çš„ActionBarã€‚åœ¨åšé¡¹ç›®ä¸­ä¼šç»å¸¸ç”¨åˆ°è¿™ä¸ªToolBarï¼Œè™½ç„¶ç”¨çš„å¾ˆå¤šï¼Œä½†æ˜¯è‡ªå·±å¯¹å®ƒå¦‚ä½•ç”¨è¿˜ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œä»Šå¤©å°±æ¥ç®€å•çš„å­¦ä¹ ä¸‹è¿™ä¸ªæ§ä»¶çš„ä½¿ç”¨ã€‚ æ•ˆæœå›¾ 1. ä¿®æ”¹appçš„styleæˆ‘ä»¬å¦‚æœè¦ä½¿ç”¨ToolBarï¼Œéœ€è¦å…ˆæŠŠåŸæ¥çš„ActionBaréšè—èµ·æ¥ï¼Œå°±å…ˆè¦è®¾ç½®Appçš„ä¸»é¢˜ä¸ºTheme.AppCompat.Light.NoActionBarè¿™ç§ä¸»é¢˜ï¼Œå°±éœ€è¦åœ¨values/style.xmlé‡Œé¢ä¿®æ”¹Appthemeçš„Parentæˆ–è€…parentçš„parentä¸ºTheme.AppCompat.Light.NoActionBarï¼Œè¿™æ ·çš„è¯æ‰èƒ½ä½¿ç”¨ToolBarå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚ 2. åœ¨å¸ƒå±€ä¸­ä½¿ç”¨ToolBarè¾¾åˆ°æ•ˆæœå›¾1.æ ‡é¢˜é¦–å…ˆåœ¨å¸ƒå±€æ–‡ä»¶activity_main.xmlä¸­ï¼š12345678910111213141516&lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/toolbar&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;48dp&quot; android:background=&quot;#ffffff&quot; android:gravity=&quot;center&quot; app:titleTextColor=&quot;#1d1d1d&quot;&gt; &lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center&quot; android:text=&quot;å·¥ä½œ&quot; android:textColor=&quot;#1d1d1d&quot; android:textSize=&quot;16sp&quot; /&gt; &lt;/android.support.v7.widget.Toolbar&gt; éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒToolBarå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªViewGroupï¼Œä»–çš„å¸ƒå±€å’ŒLinearLayoutç±»ä¼¼ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨android:layout_gravity=&quot;center&quot;æ¥è®©TextViewå±…ä¸­æ˜¾ç¤º è¿™ä¸ªæ—¶å€™çš„æ ‡é¢˜æ æ˜¯è¿™æ ·çš„ï¼š 2. å³ä¾§æŒ‰é’®æ ‡é¢˜æ å·²ç»å±…ä¸­æ˜¾ç¤ºäº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯èƒ½è¿˜éœ€è¦åœ¨å³ä¾§éœ€è¦ä¸€ä¸ªæŒ‰é’®æ¥è¿›è¡Œä¸€å®šçš„æ“ä½œï¼Œæ¯”å¦‚ä¸‹é¢çš„æŒ‰é’®æ“ä½œ è¿™ä¸ªæ€ä¹ˆå®ç°å‘¢ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼š ç¬¬ä¸€ç§å®ç°123456789101112131415161718192021222324252627282930313233343536 &lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/toolbar&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;48dp&quot; android:background=&quot;#ffffff&quot; android:gravity=&quot;center&quot; app:titleTextColor=&quot;#1d1d1d&quot;&gt; &lt;RelativeLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; android:layout_gravity=&quot;center&quot; android:text=&quot;å·¥ä½œ&quot; android:textColor=&quot;#1d1d1d&quot; android:textSize=&quot;16sp&quot; /&gt; &lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; android:layout_alignParentRight=&quot;true&quot; android:layout_marginRight=&quot;12dp&quot; android:text=&quot;æŒ‰é’®&quot; android:textColor=&quot;#1d1d1d&quot; android:textSize=&quot;14sp&quot; /&gt; &lt;/RelativeLayout&gt; &lt;/android.support.v7.widget.Toolbar&gt;``` &gt; è¿™é‡Œåœ¨ToolBarçš„è‡ªå®šä¹‰åŒºæ”¾å…¥äº†ä¸€ä¸ªRelativeLayoutï¼Œåœ¨RelativeLayouté‡Œé¢æ”¾ç½®äº†ä¸€ä¸ªæ ‡é¢˜å’Œå³ä¾§çš„æŒ‰é’®ï¼Œå³ä¾§çš„æŒ‰é’®æ˜¯å¯ä»¥éšæ„å®šåˆ¶çš„ï¼Œ#### ç¬¬äºŒç§å®ç°æˆ‘ä»¬å¯ä»¥åˆ©ç”¨èœå•é€‰é¡¹menuæ¥å®ç°è¿™ç§æ•ˆæœï¼Œ1. é¦–å…ˆåœ¨resç›®å½•ä¸‹æ–°å»ºmenuæ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢å»ºç«‹menu.main.xmlï¼Œä»£ç å¦‚ä¸‹ï¼š 12. åœ¨`MainActivity.java`ä¸­é‡å†™`onCreateOptionsMenu`æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š @Override public boolean onCreateOptionsMenu(Menu menu) { // Inflate the menu; this adds items to the action bar if it is present. getMenuInflater().inflate(R.menu.menu_main, menu); return true; }1234### 3. å·¦ä¾§çš„è¿”å›ç®­å¤´é¦–å…ˆï¼Œä½ å¾—å…ˆå‡†å¤‡ä¸€ä¸ªè¿”å›ç®­å¤´çš„å›¾æ ‡ï¼Œç„¶åä»¥ä¸‹ä¸¤ç§éƒ½è¡Œï¼Œéƒ½å¯ä»¥å®ç°æ˜¾ç¤ºå°ç®­å¤´ï¼Œå¹¶ä¸”ç‚¹å‡»å°ç®­å¤´è¿”å›#### ç¬¬ä¸€ç§æ–¹æ¡ˆ //è®¾ç½®å°ç®­å¤´ toolbar.setNavigationIcon(R.drawable.common_back_ic); //è®¾ç½®å°ç®­å¤´ç‚¹å‡»äº‹ä»¶ toolbar.setNavigationOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { finish(); } });123456è¿™ç§æ–¹æ¡ˆæ˜¯åªèƒ½åœ¨å½“å‰çš„Activityä¸­ä½¿ç”¨ï¼Œè¾¾ä¸åˆ°å¤ç”¨çš„ç›®çš„ã€‚#### ç¬¬äºŒç§æ–¹æ¡ˆåœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šå†™ä¸€ä¸ªåŸºç±»ï¼Œè®©æ‰€æœ‰çš„Activityéƒ½ç»§æ‰¿äºè¿™ä¸ªåŸºç±»ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†å’Œå‡å°‘ä»£ç é‡ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æ”¹åŸºç±»ï¼ˆæ¯”å¦‚ï¼š`BaseActivity.java`ï¼‰ä¸­å†™å…¥ä»¥ä¸‹æ–¹æ³•ï¼š /** * è®¾ç½®å·¦ä¸Šè§’backæŒ‰é’® */ public void setBackArrow() { final Drawable upArrow = getResources().getDrawable(R.drawable.common_back_ic); getSupportActionBar().setHomeAsUpIndicator(upArrow); getSupportActionBar().setDisplayHomeAsUpEnabled(true); getSupportActionBar().setDisplayShowHomeEnabled(true); } /** * ç‚¹å‡»å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®ï¼Œç»“æŸæœ¬Activity * homeå°±æ˜¯å·¦ä¸Šè§’çš„å°ç®­å¤´ï¼Œåœ¨toolbarä¸Š * * @param item * @return */ @Override public boolean onOptionsItemSelected(MenuItem item) { if (item.getItemId() == android.R.id.home) { basefinish(); return true; } return super.onOptionsItemSelected(item); } /** * æŠ½è±¡æ–¹æ³•ï¼Œç”¨äºç»“æŸactivity */ public abstract void basefinish(); @Override public void onBackPressed() { basefinish(); } ``` è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬åœ¨çš„å…¶ä»–Activityåªè¦ç»§æ‰¿äºè¿™ä¸ªBaseActivityï¼Œå°±éœ€è¦å®ç°æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•ä¼šå®ç°è¿”å›æ“ä½œï¼Œæˆ‘ä»¬æ¯æ¬¡åªç”¨è°ƒç”¨ setBackArrow()è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°è¿”å›å°ç®­å¤´çš„åŠŸèƒ½äº†ã€‚ç®€ç›´ä¸èƒ½æ›´æ–¹ä¾¿å•¦ï¼ åˆ°æ­¤å°±å®ç°äº†ToolBarçš„åŸºæœ¬ä½¿ç”¨ï¼Œå»ºç«‹äº†è‡ªå·±çš„ä¸€ä¸ªæ ‡é¢˜æ ï¼Œæ•ˆæœå’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ï¼š ç‰¹æ­¤è®°å½•ï¼","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"å››æ­¥æ•™ä½ ç†è§£å›è°ƒ","slug":"å››æ­¥æ•™ä½ ç†è§£å›è°ƒ","date":"2016-11-22T14:06:49.000Z","updated":"2018-01-16T02:44:34.531Z","comments":true,"path":"2016/11/22/å››æ­¥æ•™ä½ ç†è§£å›è°ƒ/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/11/22/å››æ­¥æ•™ä½ ç†è§£å›è°ƒ/","excerpt":"","text":"æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨ å‰è¨€é¡¹ç›®ä¸­è¦ç”¨åˆ°ç±»ä¼¼æ”¯ä»˜å®é¦–é¡µä¹å®«æ ¼çš„æ˜¾ç¤ºï¼Œä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šç¬¬ä¸€éƒ¨åˆ†æ˜¯æˆ‘çš„åº”ç”¨ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯å…¨éƒ¨åº”ç”¨ã€‚è¦å®ç°å¯ä»¥ä»æˆ‘çš„åº”ç”¨ä¸­åˆ é™¤å·²æ·»åŠ çš„å¸¸ç”¨åº”ç”¨ï¼Œä¹Ÿå¯ä»¥ä»å…¨éƒ¨åº”ç”¨æ·»åŠ åˆ°æˆ‘çš„åº”ç”¨ä¸­ã€‚ æœ¬æ¥æ˜¯æƒ³å®ç°å¯ä»¥æ‹–åŠ¨æ’åºçš„ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„æŠ€æœ¯åŠŸåº•è¿˜ä¸å¤Ÿï¼Œå°±å…ˆå®ç°äº†å¯ä»¥å¢åŠ å’Œåˆ é™¤çš„å°åŠŸèƒ½ã€‚åæ¥è‡ªå·±ä½¿ç”¨çš„æ˜¯ç¨å¾®ä¿®æ”¹è¿‡çš„ GridView æ¥å®ç°çš„ã€‚ ä½†æ˜¯åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æˆ‘éœ€è¦åœ¨ GridView çš„ item é‡Œé¢æ¥æ§åˆ¶åœ¨ Activity ä¸­çš„å’Œ GridView åŒçº§åˆ«çš„çš„æ§ä»¶ï¼Œå°±åœ¨ç½‘ä¸Šæœç´¢ï¼Œä¸çŸ¥é“æ˜¯è‡ªå·±çš„æœç´¢æ–¹æ³•ä¸å¯¹ï¼Œè¿˜æ˜¯æœ¬èº«çš„å†…å®¹å°±æ¯”è¾ƒå°‘ï¼Œæœç´¢äº†å¤§åŠå¤©éƒ½æ²¡æœç´¢åˆ°ï¼Œäºæ˜¯é—®äº†å…¬å¸çš„åŒäº‹ï¼ŒåŒäº‹è¯´ç”¨ä¸€ä¸ªæ¥å£æ¥å›è°ƒå°±å¯ä»¥äº†ã€‚ éœ€æ±‚åœ¨ GridView çš„ Adapter é‡Œé¢é•¿æŒ‰ item æ”¹å˜ åœ¨ Activity ä¸­çš„æ§ä»¶ã€‚ æ•ˆæœæ¼”ç¤ºï¼šå¦‚æœæˆ‘é•¿æŒ‰ GridView ä¸­çš„ item ï¼Œå°±è¦æ”¹å˜ä¸Šæ–¹çš„â€œç¼–è¾‘â€æŒ‰é’®å˜æˆâ€œå®Œæˆâ€ã€‚æ•ˆæœå¦‚ä¸‹ï¼š å››æ­¥å®ç°1.é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ¥å£ï¼š 123public interface UpdateDataInterface &#123; void setText(String text);&#125; 2.åœ¨â€œç¼–è¾‘â€æ§ä»¶æ‰€åœ¨çš„Activityæˆ–è€…Frafmentä¸­å®ç°è¯¥æ¥å£å¦‚ä¸‹ï¼š 1234567891011/** * å®ç°åœ¨adapterå†…éƒ¨æ›´æ”¹ä¸»é¡µæŒ‰é’® * workManageTvå°±æ˜¯æ˜¾ç¤º\"ç¼–è¾‘\"å’Œ\"å®Œæˆ\"çš„TextView */ class UpdateTextImp implements UpdateDataInterface &#123; @Override public void setText(String text) &#123; workManageTv.setText(text); &#125; &#125; 3.ç„¶ååœ¨å®ä¾‹åŒ–é€‚é…å™¨å¯¹è±¡çš„æ—¶å€™æŠŠè¿™ä¸ªæ¥å£ä¼ é€’è¿›å»ï¼š 12// WorkMyAppAdapterå°±æ˜¯é€‚é…å™¨workMyAppAdapter = new WorkMyAppAdapter(context, new UpdateTextImp(), false); 4.åœ¨é€‚é…å™¨é‡Œé¢å®šä¹‰è¯¥æ¥å£ï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­æ¥æ”¶è¯¥æ¥å£ï¼Œå¹¶ç›´æ¥æ‹¿æ¥ç”¨ï¼Œè°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å³å¯ 12345678910111213141516// å®šä¹‰ç”¨äºå›è°ƒçš„ç±»private UpdateDataInterface updateDataInterface;// æ„é€ æ–¹æ³•ï¼Œæ¥æ”¶ UpdateDataInterface public WorkMyAppAdapter(UpdateDataInterface updateDataInterface)&#123; this.updateDataInterface = updateDataInterface;&#125;// è°ƒç”¨public void changeStatus()&#123; if (isEdit) &#123; updateDataInterface.setText(&quot;å®Œæˆ&quot;); &#125; else &#123; updateDataInterface.setText(&quot;ç¼–è¾‘&quot;); &#125;&#125; ä»¥å‰è‡ªå·±æ€»æ˜¯ä¸å¤ªæ¸…æ¥šå›è°ƒçš„å®ç°ï¼Œä½†æ˜¯æ¨¡æ¨¡ç³Šç³Šçš„ä¼šç”¨ä¸Šä¸€ç‚¹ï¼Œä»Šå¤©åˆ°è‡ªå·±çœŸæ­£éœ€è¦çš„æ—¶å€™ï¼Œè‡ªå·±ä¸€æ­¥æ­¥çš„å»å®ç°ï¼Œæ‰çœŸæ­£æ‡‚äº†å›è°ƒçš„ç”¨æ³•ã€‚ ç‰¹æ­¤è®°å½•ï¼","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android ä¿®æ”¹å¯†ç æˆ–è€…æ‰‹æœºå·äº‹åŠ¡å®ç°","slug":"Android-ä¿®æ”¹å¯†ç æˆ–è€…æ‰‹æœºå·äº‹åŠ¡å®ç°","date":"2016-11-20T11:18:39.000Z","updated":"2018-01-16T02:44:07.787Z","comments":true,"path":"2016/11/20/Android-ä¿®æ”¹å¯†ç æˆ–è€…æ‰‹æœºå·äº‹åŠ¡å®ç°/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/11/20/Android-ä¿®æ”¹å¯†ç æˆ–è€…æ‰‹æœºå·äº‹åŠ¡å®ç°/","excerpt":"","text":"å‰è¨€åœ¨å¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä»¥ä¸‹æƒ…å†µï¼Œæ¯”å¦‚ä»¥ä¸‹åœºæ™¯ï¼šåœ¨ä¿®æ”¹å¯†ç çš„æ—¶å€™ï¼Œè¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š 1. è¾“å…¥æ‰‹æœºå·è·å–éªŒè¯ç  2. è¾“å…¥éªŒè¯ç  3. è¾“å…¥æ–°å¯†ç  1. ç¬¬ä¸€ç§æƒ…å†µå¯ä»¥æŠŠä¿®æ”¹å¯†ç è¿™ä¸‰ä¸ªæ­¥éª¤çœ‹æˆæ˜¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚ä¸­æ–­éƒ½è¦é‡æ–°å›åˆ°ç¬¬ä¸€ä¸ªæ­¥éª¤å†æ¬¡æ‰§è¡Œã€‚è¿™å°±éœ€è¦æˆ‘ä»¬åœ¨æ¯ä¸€æ­¥æ‰§è¡Œå®Œä¹‹åæ‰§è¡Œæ‰€åœ¨Activityçš„Finishï¼ˆï¼‰æ–¹æ³•ï¼Œç»“æŸè¿™ä¸ªæ­¥éª¤ï¼Œå½“æœ€åä¸€æ­¥è¿”å›çš„æ—¶å€™ï¼Œå°±ä¼šé‡æ–°å›åˆ°ä¿®æ”¹å¯†ç æŒ‰é’®ç•Œé¢äº†ï¼Œè¿™ä¸ªæ—¶å€™ç‚¹å‡»ä¿®æ”¹å¯†ç è¿˜æ˜¯ä»è¾“å…¥æ‰‹æœºå·è·å–éªŒè¯ç å¼€å§‹ã€‚ 2. ç¬¬äºŒç§æƒ…å†µå½“ç„¶äº†ï¼Œæœ‰çš„éœ€æ±‚æ¯”è¾ƒä¸æ­£å¸¸ï¼Œä»–éœ€è¦åœ¨è¿™ä¸‰ä¸ªæ­¥éª¤ä¹‹é—´è¿˜æ²¡ç»“æŸçš„æ—¶å€™å¯ä»¥è¿”å›ä¸Šä¸€ä¸ªæ­¥éª¤ï¼Œå½“æ–°å¯†ç è¾“å…¥å®Œæ¯•ï¼Œç‚¹å‡»æäº¤çš„æ—¶å€™ï¼Œå°±ä¸èƒ½å›åˆ°ä¸Šä¸€æ­¥éª¤ï¼Œè€Œæ˜¯å›åˆ°æœ‰ä¿®æ”¹å¯†ç çš„é¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¸èƒ½ç›´æ¥åœ¨å‰ä¸¤ä¸ªæ­¥éª¤ç»“æŸçš„æ—¶å€™è°ƒç”¨finish()æ–¹æ³•äº†ï¼Œè€Œæ˜¯åœ¨ç¬¬ä¸‰ä¸ªæ­¥éª¤æ‰§è¡Œå®Œä¹‹åç»“æŸè¿™ä¸ªä¸‰ä¸ªæ­¥éª¤çš„æ´»åŠ¨ï¼ˆActivityï¼‰ã€‚ å®ç°ï¼šå‡è®¾ä¸‰ä¸ªæ­¥éª¤ä¾æ¬¡æ˜¯ActivityA,ActivityB,ActivityC,é‚£ä¹ˆéœ€è¦åœ¨ActivityAï¼š1public static ActivityA instance = null; åœ¨ActivityAçš„onCreateæ–¹æ³•ä¸­ï¼š1instance = ActivityA.this; åŒç†ï¼Œåœ¨ActivityBä¸­ä¹Ÿè¦è®¾ç½®ï¼š1public static ActivityB instance = null; åœ¨ActivityBçš„onCreateæ–¹æ³•ä¸­ï¼š1instance = ActivityB.this; é‚£ä¹ˆåœ¨ActivityCçš„æ“ä½œæ‰§è¡Œå®Œä¹‹åï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•ç»“æŸè¿™ä¸‰ä¸ªæ´»åŠ¨ï¼ˆActivityï¼‰ï¼š123456//ç»“æŸç¬¬ä¸€æ­¥çš„ActivityA ActivityA.instance.finish(); //ç»“æŸç¬¬äºŒæ­¥çš„ActivityB ActivityB.instance.finish(); //ç»“æŸæœ¬èº«ActivityC finish(); å¤§è‡´çš„ä¸¤ç§æƒ…å†µå·²ç»ä»‹ç»å®Œäº†ï¼Œå¤§å®¶åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­çµæ´»åº”ç”¨å“¦ï¼ ç‰¹æ­¤è®°å½•ï¼","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":" Android ä¸»ç•Œé¢å¤šä¸ªTabæ çš„å®ç°","slug":"Android-ä¸»ç•Œé¢å¤šä¸ªTabæ çš„å®ç°","date":"2016-11-20T10:52:32.000Z","updated":"2018-01-16T02:43:44.514Z","comments":true,"path":"2016/11/20/Android-ä¸»ç•Œé¢å¤šä¸ªTabæ çš„å®ç°/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/11/20/Android-ä¸»ç•Œé¢å¤šä¸ªTabæ çš„å®ç°/","excerpt":"","text":"å‰è¨€ç°åœ¨æ¯”è¾ƒæµè¡Œçš„å°±æ˜¯ç±»ä¼¼qqæˆ–è€…å¾®ä¿¡ä¸Šçš„å¸ƒå±€ï¼Œéƒ½æ˜¯åœ¨åº•éƒ¨éƒ½å‡ ä¸ªTabæ ï¼Œç‚¹å‡»ä¸åŒçš„Tabæ å¯ä»¥åˆ‡æ¢ä¸åŒçš„é¡µé¢ï¼Œå¤§æ¦‚çš„å®ç°åŸç†å°±æ˜¯ä½¿ç”¨RadioGroupåŒ…è£¹å‡ ä¸ªRadioButtonæ¥å®ç°çš„ï¼Œè€Œä¸åŒçš„é¡µé¢å±•ç¤ºåˆ™æ˜¯æ”¾ç½®ä¸€ä¸ªFrameLayoutæ¥å®ç°çš„ã€‚ æ•ˆæœå›¾ï¼š 1.ä»£ç å¸ƒå±€ï¼šé¡¶éƒ¨è®¾ç½®äº†æ ‡é¢˜ï¼Œä½¿ç”¨çš„æ˜¯ç°åœ¨éƒ½åœ¨ç”¨çš„toolBarï¼Œå¯ä»¥åœ¨åˆ‡æ¢ä¸åŒé¡µé¢çš„æ—¶å€™è®¾ç½®ä¸åŒçš„æ ‡é¢˜ã€‚ç„¶åä¸‹é¢æ”¾äº†ä¸€ä¸ªRadiogroupï¼Œé‡Œé¢åŒ…è£¹äº†å››ä¸ªRadioButtonå®ç°ä¸åŒé¡µé¢çš„åˆ‡æ¢ã€‚é‡Œé¢çš„Viewæ§ä»¶æ˜¯è®¾ç½®çš„æ°´å¹³çš„åˆ†å‰²çº¿ï¼Œä½¿é¡µé¢å¥½çœ‹ç‚¹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;android.support.v7.widget.Toolbar xmlns:toolbar=&quot;http://schemas.android.com/apk/res-auto&quot; android:id=&quot;@+id/index_title_tb&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;48dp&quot; android:background=&quot;@color/colorPrimaryDark&quot; toolbar:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; toolbar:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt; &lt;TextView android:id=&quot;@+id/index_title_tv&quot; style=&quot;@style/title_text_style&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center&quot; android:textColor=&quot;@color/white&quot; android:text=&quot;æˆ‘æ˜¯æ ‡é¢˜&quot;/&gt; &lt;/android.support.v7.widget.Toolbar&gt; &lt;View android:id=&quot;@+id/index_title_divider&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;1dp&quot; android:layout_below=&quot;@id/index_title_tb&quot; android:background=&quot;@drawable/common_horizontal_divider&quot;/&gt; &lt;RadioGroup android:id=&quot;@+id/index_bottom_navigation_rg&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;44dp&quot; android:layout_alignParentBottom=&quot;true&quot; android:background=&quot;@color/white&quot; android:orientation=&quot;horizontal&quot;&gt; &lt;RadioButton android:id=&quot;@+id/index_tab_a_rb&quot; style=&quot;@style/Index_tab_style&quot; android:drawableTop=&quot;@drawable/index_equipment_tab_sel&quot; android:text=&quot;@string/index_tab_equipment&quot;/&gt; &lt;RadioButton android:id=&quot;@+id/index_tab_b_rb&quot; style=&quot;@style/Index_tab_style&quot; android:drawableTop=&quot;@drawable/index_bill_tab_sel&quot; android:text=&quot;@string/index_tab_bill&quot;/&gt; &lt;RadioButton android:id=&quot;@+id/index_tab_c_rb&quot; style=&quot;@style/Index_tab_style&quot; android:drawableTop=&quot;@drawable/index_contract_tab_sel&quot; android:text=&quot;@string/index_tab_contract&quot;/&gt; &lt;RadioButton android:id=&quot;@+id/index_tab_d_rb&quot; style=&quot;@style/Index_tab_style&quot; android:drawableTop=&quot;@drawable/index_setting_tab_sel&quot; android:text=&quot;@string/index_tab_setting&quot;/&gt; &lt;/RadioGroup&gt; &lt;View android:id=&quot;@+id/index_bottom_divider&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;1dp&quot; android:layout_above=&quot;@id/index_bottom_navigation_rg&quot; android:background=&quot;@drawable/common_horizontal_divider&quot;/&gt; &lt;FrameLayout android:id=&quot;@+id/index_content_fl&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:layout_above=&quot;@id/index_bottom_divider&quot; android:layout_below=&quot;@id/index_title_divider&quot; android:background=&quot;@color/white&quot;/&gt;&lt;/RelativeLayout&gt; 2.Javaä»£ç æ§åˆ¶ä¸åŒé¡µé¢åˆ‡æ¢123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199package com.css.demo;import android.content.Context;import android.os.Bundle;import android.support.v4.app.FragmentTransaction;import android.widget.CompoundButton;import android.widget.RadioButton;import android.widget.TextView;import com.css.demo.ui.index.TabA;import com.css.demo.ui.index.TabB;import com.css.demo.ui.index.TabC;import com.css.demo.ui.index.TabD;import com.css.demo.utils.L;import butterknife.Bind;import butterknife.ButterKnife;/** * Created by cssch on 2016/10/11. */public class IndexActivity extends BaseIndexActivity &#123; @Bind(R.id.index_tab_a_rb)//ç¬¬ä¸€é¡µtabæŒ‰é’® RadioButton indexTabARb; @Bind(R.id.index_tab_b_rb)//ç¬¬äºŒé¡µtabæŒ‰é’® RadioButton indexTabBRb; @Bind(R.id.index_tab_c_rb)//ç¬¬ä¸‰é¡µtabæŒ‰é’® RadioButton indexTabCRb; @Bind(R.id.index_tab_d_rb)//ç¬¬å››é¡µtabæŒ‰é’® RadioButton indexTabDRb; @Bind(R.id.index_title_tv)//æ ‡é¢˜ TextView indexTitleTv; private static final int TABA = 1;//ç¬¬ä¸€é¡µæ ‡è®° private static final int TABB = 2;//ç¬¬äºŒé¡µæ ‡è®° private static final int TABC = 3;//ç¬¬ä¸‰é¡µæ ‡è®° private static final int TABD = 4;//ç¬¬å››é¡µæ ‡è®° //è¿™é‡Œçš„æ˜¯å››ä¸ªFragmentçš„è¯´æ˜ private TabA tabA;//ç¬¬ä¸€é¡µ private TabB tabB;//ç¬¬äºŒé¡µ private TabC tabC;//ç¬¬ä¸‰é¡µ private TabD tabD;//ç¬¬å››é¡µ private Context context; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); L.d(&quot;myname&quot;.toString()); setContentView(R.layout.index); ButterKnife.bind(this); context = IndexActivity.this; //è®¾ç½®å››ä¸ªTabæ çš„ç›‘å¬ indexTabARb.setOnCheckedChangeListener(new OnNaviCheckChangeListener(TABA)); indexTabBRb.setOnCheckedChangeListener(new OnNaviCheckChangeListener(TABB)); indexTabCRb.setOnCheckedChangeListener(new OnNaviCheckChangeListener(TABC)); indexTabDRb.setOnCheckedChangeListener(new OnNaviCheckChangeListener(TABD)); //è®¾ç½®é»˜è®¤çš„æ˜¾ç¤ºé¡µé¢ä¸ºbé¡µé¢ indexTabBRb.setChecked(true); &#125; /** * ç›‘å¬äº‹ä»¶çš„å®ç° */ class OnNaviCheckChangeListener implements CompoundButton.OnCheckedChangeListener &#123; private int position; public OnNaviCheckChangeListener(int position) &#123; this.position = position; &#125; @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) &#123; if (isChecked) &#123; changeTab(position); &#125; &#125; &#125; /** * @param position åˆ‡æ¢tab */ public void changeTab(int position) &#123; FragmentTransaction transaction = getSupportFragmentManager().beginTransaction(); hideFragments(transaction); switch (position) &#123; case TABA: changeToTabA(transaction); break; case TABB: changeToTabB(transaction); break; case TABC: changeToTabC(transaction); break; case TABD: changeToTabD(transaction); break; default: changeToTabA(transaction); break; &#125; transaction.commitAllowingStateLoss(); &#125; /** * è·³è½¬åˆ°tabA * * @param transaction */ private void changeToTabA(FragmentTransaction transaction) &#123; indexTitleTv.setText(&quot;TabAé¡µé¢&quot;); if (tabA == null) &#123; tabA = new TabA(); transaction.add(R.id.index_content_fl, tabA); &#125; else &#123; transaction.show(tabA); &#125; &#125; /** * è·³è½¬åˆ°tabB * * @param transaction */ private void changeToTabB(FragmentTransaction transaction) &#123; indexTitleTv.setText(&quot;TabBé¡µé¢&quot;); if (tabB == null) &#123; tabB = new TabB(); transaction.add(R.id.index_content_fl, tabB); &#125; else &#123; transaction.show(tabB); &#125; &#125; /** * è·³è½¬åˆ°tabC * * @param transaction */ private void changeToTabC(FragmentTransaction transaction) &#123; indexTitleTv.setText(&quot;TabCé¡µé¢&quot;); if (tabC == null) &#123; tabC = new TabC(); transaction.add(R.id.index_content_fl, tabC); &#125; else &#123; transaction.show(tabC); &#125; &#125; /** * è·³è½¬åˆ°tabD * * @param transaction */ private void changeToTabD(FragmentTransaction transaction) &#123; indexTitleTv.setText(&quot;TabDé¡µé¢&quot;); if (tabD == null) &#123; tabD = new TabD(); transaction.add(R.id.index_content_fl, tabD); &#125; else &#123; transaction.show(tabD); &#125; &#125; /** * @param transaction éšè—æ‰€æœ‰fragment */ private void hideFragments(FragmentTransaction transaction) &#123; if (tabA != null &amp;&amp; !tabA.isHidden()) &#123; transaction.hide(tabA); &#125; if (tabB != null &amp;&amp; !tabB.isHidden()) &#123; transaction.hide(tabB); &#125; if (tabC != null &amp;&amp; !tabC.isHidden()) &#123; transaction.hide(tabC); &#125; if (tabD != null &amp;&amp; !tabD.isHidden()) &#123; transaction.hide(tabD); &#125; &#125;&#125; æ€»ç»“æ€»ä½“æ¥è¯´è¿˜æ˜¯æŒºç®€å•çš„ï¼Œå½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„æ–¹å¼è¿›è¡Œå¸ƒå±€ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥ç ”ç©¶ä¸‹ã€‚å¦‚æœæƒ³ç”¨è¿™ç§æ–¹å¼çš„è¯ï¼Œä½ åªç”¨æŠŠé‡Œé¢çš„èµ„æºæ–‡ä»¶æ”¹æˆè‡ªå·±ä½¿ç”¨çš„èµ„æºæ–‡ä»¶å°±å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨äº†ã€‚å½“ç„¶ï¼Œæˆ‘è¿™ä¸ªå‘½åè¿˜ä¸æ˜¯å¾ˆè§„èŒƒï¼Œå¤§å®¶å¯ä»¥è§„èŒƒä¸‹å‘½åã€‚ ç‰¹æ­¤è®°å½•ï¼","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android ä½¿ç”¨CheckBoxå®ç°å¥½çœ‹çš„å¼€å…³æŒ‰é’®","slug":"Android-ä½¿ç”¨CheckBoxå®ç°å¥½çœ‹çš„å¼€å…³æŒ‰é’®","date":"2016-11-20T10:11:24.000Z","updated":"2018-01-16T02:43:14.054Z","comments":true,"path":"2016/11/20/Android-ä½¿ç”¨CheckBoxå®ç°å¥½çœ‹çš„å¼€å…³æŒ‰é’®/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/11/20/Android-ä½¿ç”¨CheckBoxå®ç°å¥½çœ‹çš„å¼€å…³æŒ‰é’®/","excerpt":"","text":"è¿‘æœŸé¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨åˆ°å¼€å…³æŒ‰é’®ï¼Œå°±æ˜¯æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œå®ç°æ˜¯å¦æ¥å—æ–°æ¶ˆæ¯çš„åŠŸèƒ½ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨CheckBoxï¼ŒæŠŠuiç»™çš„å›¾ç‰‡è®¾ç½®æˆå¼€å…³çš„æ ·å¼å°±å¯ä»¥äº†ã€‚ æ•ˆæœå±•ç¤ºï¼š è¿™é‡Œä½¿ç”¨çš„æ˜¯ToggleButtonåœ¨xmlå¸ƒå±€æ–‡ä»¶é‡Œé¢è®¾ç½®å¦‚ä¸‹ï¼š123456789101112&lt;ToggleButton android:id=&quot;@+id/account_receive_new_message_explain_label_tb&quot; android:layout_width=&quot;38dp&quot; android:layout_height=&quot;22dp&quot; android:layout_alignParentRight=&quot;true&quot; android:layout_centerVertical=&quot;true&quot; android:layout_marginRight=&quot;16dp&quot; android:button=&quot;@drawable/account_message_select&quot; android:checked=&quot;true&quot; android:text=&quot;&quot; android:textOff=&quot;&quot; android:textOn=&quot;&quot; /&gt; è¯´æ˜1.è¿™é‡Œåªç”¨æŠŠbuttonå±æ€§è®¾ç½®æˆè‡ªå·±å®šä¹‰çš„æ–‡ä»¶å°±è¡Œäº†ï¼Œæˆ‘çš„selectorï¼ˆaccount_message_select.xmlï¼‰æ–‡ä»¶å¦‚ä¸‹ï¼š1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;!--æŒ‰ä¸‹çŠ¶æ€çš„æ˜¾ç¤ºå›¾ç‰‡--&gt; &lt;item android:state_checked=&quot;true&quot; android:drawable=&quot;@drawable/account_message_sel&quot;&gt;&lt;/item&gt; &lt;!--å¹³æ—¶çŠ¶æ€çš„æ˜¾ç¤ºå›¾ç‰‡--&gt; &lt;item android:state_checked=&quot;false&quot; android:drawable=&quot;@drawable/account_message_no_sel&quot;&gt;&lt;/item&gt;&lt;/selector&gt; 2.è¿™é‡Œæ˜¯ä¸ç”¨æ˜¾ç¤ºæ–‡å­—çš„ï¼Œæ‰€ä»¥æŠŠTextå±æ€§ã€TextOnå±æ€§ã€TextOffå±æ€§éƒ½è®¾ç½®ä¸ºç©ºï¼Œå°±ä¸ä¼šæœ‰æ–‡å­—æ˜¾ç¤ºäº†ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android---éªŒè¯ç å€’è®¡æ—¶çš„ç®€å•å®ç°","slug":"Android-éªŒè¯ç å€’è®¡æ—¶çš„ç®€å•å®ç°","date":"2016-10-16T10:31:11.000Z","updated":"2018-01-16T02:42:44.499Z","comments":true,"path":"2016/10/16/Android-éªŒè¯ç å€’è®¡æ—¶çš„ç®€å•å®ç°/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/10/16/Android-éªŒè¯ç å€’è®¡æ—¶çš„ç®€å•å®ç°/","excerpt":"","text":"å‰è¨€ ç°åœ¨çš„å¾ˆå¤šappéƒ½æ˜¯ä½¿ç”¨æ‰‹æœºæ³¨å†Œçš„ï¼Œä¸ºäº†ç¡®è®¤ä½¿ç”¨çš„æ˜¯è‡ªå·±çš„æ‰‹æœºï¼Œéƒ½ä¼šåŠ ä¸Šä¸€ä¸ªçŸ­çº¿éªŒè¯ç çš„é€‰é¡¹ï¼Œæœ€è¿‘å…¬å¸çš„é¡¹ç›®ä½¿ç”¨åˆ°äº†è¿™ä¸ªçŸ­ä¿¡éªŒè¯ç ï¼Œå¹¶ä¸”è¦åŠ å…¥éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯60ç§’æ‰èƒ½å‘é€ä¸€æ¬¡éªŒè¯ç ï¼Œå†æ¬¡åšè¿‡è®°å½•ï¼Œä»¥åä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥éšæ—¶æ‹¿æ¥ç”¨ã€‚ å®ç°å‘é€éªŒè¯ç çš„æ—¶å€™ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åä¾¿ä¼šç»™ä½ è¾“å…¥çš„æ‰‹æœºå‘é€ä¸€æ¡éªŒè¯ç ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸€ä¸ªTextViewï¼Œæ˜¾ç¤ºç‰¹å®šçš„æ•°å­—ï¼Œåªç”¨è®¾ç½®TextViewçš„ç‚¹å‡»äº‹ä»¶å³å¯ï¼› Androidä¸­æœ‰ä¸€ä¸ªç±»ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ—¶å€™è¯¥åŠŸèƒ½ï¼Œä½†æ˜¯ä¹Ÿä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨æœ€åä¸€ç§’çš„æ—¶å€™ï¼Œä¼šç­‰å¾…å¾ˆä¹…æ‰ä¼šæ˜¾ç¤ºå‡ºâ€œé‡æ–°å‘é€â€çš„æ–‡å­—ï¼Œè¿™ä¸ªç±»æ˜¯CountDownTimerï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»ç ”ç©¶ä¸‹ï¼Œç”¨èµ·æ¥è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ï¼Œä¸è¿‡æˆ‘åæ¥å‘ç°é‡æ–°å¼€å¯ä¸€ä¸ªçº¿ç¨‹æ¥å®ç°æ˜¯æ¯”è¾ƒå®Œç¾çš„ã€‚ ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334/** * çŸ­ä¿¡éªŒè¯ç å€’è®¡æ—¶ */ private void startTimer() &#123; registerVerificationCodeTv.setTextColor(getResources().getColor(R.color.text_color_code_green)); registerVerificationCodeTv.setText(getResources().getString(R.string.timer_default_show)); registerVerificationCodeTv.setEnabled(false); new Thread() &#123; @Override public void run() &#123; for (int i = 59; i &gt;= 0; i--) &#123; final int second = i; try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; runOnUiThread(new Runnable() &#123; @Override public void run() &#123; if (second &lt;= 0) &#123; registerVerificationCodeTv.setTextColor(getResources().getColor(R.color.text_get_verification_code)); registerVerificationCodeTv.setText(getResources().getString(R.string.register_re_get_verification_code)); registerVerificationCodeTv.setEnabled(true); &#125; else &#123; registerVerificationCodeTv.setTextColor(getResources().getColor(R.color.text_color_code_green)); registerVerificationCodeTv.setText(second + &quot;s&quot;); &#125; &#125; &#125;); &#125; &#125; &#125;.start(); &#125; è¯´æ˜ï¼š registerVerificationCodeTvå°±æ˜¯é‚£ä¸ªæ˜¾ç¤ºå€’è®¡æ—¶ç§’æ•°çš„TextViewï¼Œç”¨çš„æ—¶å€™åªç”¨åœ¨registerVerificationCodeTvçš„ç‚¹å‡»äº‹ä»¶é‡Œé¢è°ƒç”¨æ­¤æ–¹æ³•å°±å¥½äº†ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"ç¨‹åºå‘˜çš„Windowså·¥å…·ï¼ˆæŒç»­æ›´æ–°ï¼‰","slug":"ç¨‹åºå‘˜çš„Windowså·¥å…·ï¼ˆæŒç»­æ›´æ–°ï¼‰","date":"2016-10-16T10:03:07.000Z","updated":"2018-01-15T14:16:41.873Z","comments":true,"path":"2016/10/16/ç¨‹åºå‘˜çš„Windowså·¥å…·ï¼ˆæŒç»­æ›´æ–°ï¼‰/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/10/16/ç¨‹åºå‘˜çš„Windowså·¥å…·ï¼ˆæŒç»­æ›´æ–°ï¼‰/","excerpt":"å‰è¨€ ç›¸ä¿¡ä¸€åƒå°ç”µè„‘å°±æœ‰ä¸€åƒä¸ªæ ·å­ï¼Œæ¯ä¸ªäººä½¿ç”¨ç”µè„‘çš„ç”¨é€”ã€ä¹ æƒ¯éƒ½æ˜¯å¤§ç›¸å¾„åº­çš„ï¼Œå¹¶æ²¡æœ‰è¯´è°çš„æ˜¯æœ€å¥½ç”¨çš„ï¼Œåªæœ‰é€‚åˆè‡ªå·±çš„æ‰æ˜¯æœ€å¥½çš„ï¼Œä»Šå¤©æˆ‘å°±æ¥åˆ†äº«ä¸‹æˆ‘ç”¨Windowsç”µè„‘çš„ä¸€äº›å·¥å…·ä»¥åŠä¹ æƒ¯ï¼š","text":"å‰è¨€ ç›¸ä¿¡ä¸€åƒå°ç”µè„‘å°±æœ‰ä¸€åƒä¸ªæ ·å­ï¼Œæ¯ä¸ªäººä½¿ç”¨ç”µè„‘çš„ç”¨é€”ã€ä¹ æƒ¯éƒ½æ˜¯å¤§ç›¸å¾„åº­çš„ï¼Œå¹¶æ²¡æœ‰è¯´è°çš„æ˜¯æœ€å¥½ç”¨çš„ï¼Œåªæœ‰é€‚åˆè‡ªå·±çš„æ‰æ˜¯æœ€å¥½çš„ï¼Œä»Šå¤©æˆ‘å°±æ¥åˆ†äº«ä¸‹æˆ‘ç”¨Windowsç”µè„‘çš„ä¸€äº›å·¥å…·ä»¥åŠä¹ æƒ¯ï¼š æ•ˆç‡ç±»: OneNote OneNoteæ˜¯æˆ‘åœ¨å¤§å››å®ä¹ çš„é€‚åˆæ¥è§¦åˆ°çš„ï¼Œå½“æ—¶çœ‹åˆ°åŒäº‹åŒçš„OneNoteï¼Œæ„Ÿè§‰æŒºå¥½çš„ï¼Œå½“æ—¶å¹¶æ²¡æœ‰åœ¨æ„ï¼Œç›´åˆ°åœ¨å­¦æ ¡ä¸Šè¯¾çš„æ—¶å€™ï¼Œè€å¸ˆç”¨çš„ä¹Ÿæ˜¯OneNoteï¼Œçœ‹ä»–ä½¿ç”¨çš„æ ·å­å¥½ç‚«é…·å•Šï¼Œäºæ˜¯å†³å®šå›å»ä¹‹åç ”ç©¶ä¸‹ã€‚å®‰è£…ä¹‹åå°±è‡ªå·±æ…¢æ…¢çš„æ‘¸ç´¢ï¼Œé€šè¿‡çŸ¥ä¹ç­‰å¹³å°ä¸æ–­çš„å­¦ä¹ ä½¿ç”¨æŠ€å·§ï¼Œä¹‹åè¿˜å‘ç°ä¸ä»…å¯ä»¥åœ¨Windowsä¸Šä½¿ç”¨ï¼Œåœ¨æ‰‹æœºå’Œipadä¸Šéƒ½å¯ä»¥ä½¿ç”¨ï¼Œæˆ‘å°±å¯ä»¥åœ¨å·¥ä½œæˆ–è€…å­¦ä¹ çš„æ—¶å€™åœ¨ç”µè„‘æŠŠè‡ªå·±çš„æ—¥å¸¸è®°å½•ã€å¿ƒå¾—ã€æƒ³æ³•è®°å½•ä¸‹æ¥ï¼Œç„¶ååœ¨ç§»åŠ¨ç«¯åŒæ­¥æŸ¥çœ‹ï¼Œè¿™ç§ç‰¹åˆ«é€‚ç”¨äºä¸Šç­è·¯ä¸Šæ—¶é—´æ¯”è¾ƒé•¿çš„äººï¼Œå®ä¹ çš„æ—¶å€™å°±æ˜¯ä½çš„åœ°æ–¹ç¦»å…¬å¸æ¯”è¾ƒè¿œï¼Œæ¯å¤©åè½¦ä¸Šçš„ä¸€ä¸ªå°æ—¶åŸºæœ¬éƒ½ç”¨æ¥çœ‹OneNoteã€‚ç°åœ¨ä¸Šç­æ—¶é—´çŸ­äº†ï¼Œä¹Ÿä¸å¸¦ç”µè„‘ä¸Šä¸‹ç­ï¼Œé€šè¿‡OneNoteå¯ä»¥å®ç°å…¬å¸å’Œå®¶é‡Œçš„ä¿¡æ¯å…±äº«ã€‚è¿™ä¸ªæ˜¯æåŠ›æ¨èçš„è½¯ä»¶ï¼Œå„å¤§å¹³å°éƒ½æœ‰å®¢æˆ·ç«¯ã€‚ æœ‰é“äº‘ç¬”è®° ç½‘æ˜“å‡ºå“ï¼Œå¿…å±ç²¾å“ã€‚æˆ‘ä¸»è¦ç”¨æ¥å­˜å‚¨ä¸€äº›ç½‘ä¸Šçœ‹åˆ°çš„å¥½æ–‡ç« ï¼Œå¾ˆå¤šå¹³å°éƒ½æ”¯æŒä¸€é”®æ”¶è—åˆ°æœ‰é“äº‘ç¬”è®°ï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œè¿˜å¯ä»¥å­˜å‚¨ä¸€äº›è‡ªå·±çš„åŠ å¯†ä¿¡æ¯ï¼Œä¸Šé¢çš„æ™®é€šç”¨æˆ·éƒ½å¯ä»¥äº«å—åˆ°åŠ å¯†æ–‡æ¡£çš„æœåŠ¡ï¼Œæ„Ÿè§‰å¾ˆè‰¯å¿ƒï¼Œæ”¯æŒç½‘æ˜“ æ»´ç­”æ¸…å• æ»´ç­”æ¸…å•ä¸»è¦å°±æ˜¯ç”¨æ¥è®°å½•è‡ªå·±çš„ä»£åŠäº‹é¡¹çš„ï¼Œæœ‰æ—¶å€™ ï¼Œæ­£æ‰€è°“å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œç°åœ¨æˆ‘ä»¬éƒ½éšèº«æºå¸¦æ‰‹æœºï¼Œå¯ä»¥æŠŠæ‰‹æœºå½“åšä¸€ä¸ªè®°äº‹æœ¬æ¥ç”¨ï¼ŒæŠŠè‡ªå·±ä»¥åè¦åšçš„äº‹æƒ…è®°å½•ä¸‹æ¥ï¼Œä¸ä»…å¯ä»¥éšæ—¶æŸ¥çœ‹ï¼Œè¿˜å¯ä»¥åœ¨è®¾å®šçš„æ—¶é—´è¿›è¡Œæé†’ã€‚ç®€ç›´å¦™å“‰ Cortana è¿™ä¸ªæ˜¯å‡çº§äº†Windows10ä¹‹åæ‰å¼€å§‹ä½¿ç”¨çš„ï¼Œä¸ªäººè§‰å¾—å¾ˆå¥½ç”¨ï¼Œä¸è¿‡æˆ‘ä½¿ç”¨çš„åœºæ™¯ä¹Ÿå°±æ˜¯å’Œæ»´ç­”æ¸…å•å·®ä¸å¤šï¼Œåªç”¨åˆ°äº†æé†’åŠŸèƒ½ï¼Œè¿™ä¸ªåœ¨ä½ å·¥ä½œä¸­è¿›è¡Œæé†’è¿˜æ˜¯å¾ˆå¥½çš„ï¼Œä¸ç”¨éšæ—¶æ³¨æ„æ‰‹æœºï¼Œå½“ä½ è®¾å®šçš„äº‹æƒ…è¿›è¡Œæé†’çš„æ—¶å€™ï¼Œä¼šåœ¨å·¦ä¸‹è§’å¼¹çª—æé†’ï¼Œå¾ˆæ¸…æ–°ï¼Œå¹¶ä¸”æœ€è¿‘å‡çº§äº†win10å‘¨å¹´ç‰ˆä¹‹åç•Œé¢ä¹Ÿå˜å¾—å¥½çœ‹äº†å¾ˆå¤šã€‚ XMind winä¸‹é¢çš„æ€ç»´å¯¼å›¾å·¥å…·ï¼Œå…è´¹ç‰ˆå¯ä»¥å®ç°æˆ‘çš„åŸºæœ¬éœ€æ±‚ã€‚æˆ‘è§‰å¾—winä¸‹é¢æœ€å¥½ç”¨çš„æ€ç»´å¯¼å›¾å·¥å…·ã€‚ å¯¹äºæˆ‘è€Œè¨€ï¼ŒOneNote+æœ‰é“äº‘ç¬”è®°+æ»´ç­”æ¸…å•+Cortanaå¯ä»¥æ»¡è¶³æˆ‘åŸºæœ¬çš„éœ€æ±‚ã€‚ å°å·¥å…·ç±» Lantern æƒ³å¿…å¾ˆå¤šå°ä¼™ä¼´åœ¨ä¸Šç½‘çš„æ—¶å€™éƒ½å¶å°”ä¼šæœ‰â€œä¸–ç•Œé‚£ä¹ˆå¤§ï¼Œæˆ‘æƒ³å»çœ‹çœ‹â€çš„æƒ³æ³•ï¼Œä½†æ˜¯å—é™äºå›½å†…çš„ç½‘ç»œç¯å¢ƒï¼Œå¹¶ä¸èƒ½å¦‚æ„¿ä»¥å¿ï¼Œè¿™ä¸ªLanternæ˜¯ä¸€ä¸ªå…è´¹çš„ç§‘å­¦ä¸Šç½‘çš„å·¥å…·ï¼Œå¾ˆå¥½ç”¨ï¼Œä¸Šæ¬¡åœ¨macä¸Šç”¨çš„æ—¶å€™ï¼Œå‘ç°è¿˜æœ‰æ”¶è´¹ç‰ˆï¼ŒåœŸè±ªæœ‹å‹å¯ä»¥å»è¯•è¯•ä¼ é€é—¨ TeamViewer è¿œç¨‹æ§åˆ¶ç”µè„‘çš„ç¥å™¨ï¼Œæ¯”qqè¿œç¨‹é è°±å¤šäº†ã€‚ä¼ é€é—¨ Listary æ–‡ä»¶æœç´¢å·¥å…·ï¼Œä»¥å‰ä½¿ç”¨çš„æ˜¯EvertThingï¼Œè‡ªä»åœ¨Zealerä¸Šå‘ç°è¿™ä¸ªå·¥å…· ä¹‹åä¾¿æŠ›å¼ƒäº†EvertThingï¼Œå¼€å§‹ä½¿ç”¨Listaryï¼Œæ­£åœ¨æ…¢æ…¢å­¦ä¹ ä¸­ã€‚ä¼ é€é—¨ Launchy winä¸‹é¢å¿«é€Ÿå¯åŠ¨åº”ç”¨çš„å·¥å…·ï¼Œå…¶å®å¤§å¤šæ•°éƒ½å¯ä»¥é€šè¿‡win10è‡ªå¸¦çš„åŠŸèƒ½å®ç°ï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯è£…é€¼åˆ©å™¨å•Šæœ‰æœ¨æœ‰ï¼Œç›´æ¥ç»™ä½ å¼¹å‡ºå°æ¡†ï¼Œæœç´¢ä¹‹åå›è½¦æ‰“å¼€ï¼Œå¼€å¯ä»¥åŠ åŠ¨ç”»ï¼Œä¹Ÿæ˜¯åˆšå¼€å§‹ä½¿ç”¨ï¼Œæ„Ÿè§‰å¾ˆèµã€‚ä¼ é€é—¨ ç¨‹åºå‘˜å·¥å…· Beyond Compare ä»£ç æ¯”å¯¹å·¥å…·ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½å–œæ¬¢ postman è¿™ä¸ªå¤§å®¶åº”è¯¥éƒ½çŸ¥é“ï¼Œapiè°ƒè¯•ç”¨çš„ï¼Œåç«¯ç»™çš„æ¥å£èƒ½ä¸èƒ½ç”¨ï¼Œç”¨è¿™ä¸ªè¯•ä¸€ä¸‹å°±çŸ¥é“äº†ï¼Œæ–°åšå¥½çš„åŠŸèƒ½æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œå¦‚æœæ‰¾åˆ°ä¸åˆ°é—®é¢˜æ‰€åœ¨ï¼Œä¸è¦ä¸€ç›´æ€€ç–‘ä½ çš„ä»£ç ï¼Œè¯´ä¸å®šæ¥å£æœ¬æ¥å°±æ˜¯æœ‰é—®é¢˜çš„ã€‚ã€‚ã€‚ HIJson è¿™ä¸ªä¹Ÿç®—æ˜¯ä¸ªç¥å™¨ï¼ŒAndroidStudioè°ƒè¯•çœ‹åˆ°åç«¯è¿”å›çš„jsonæ•°æ®çœ‹èµ·æ¥ä¸æ˜¯å¾ˆç›´è§‚ï¼Œå¥½åŠï¼Œç›´æ¥å¤åˆ¶åˆ°HIJsoné‡Œé¢ï¼Œä¾¿å¯ä»¥å¸®ä½ æ ¼å¼åŒ–ï¼Œä»¥æ›´åŠ æ¸…æ™°çš„æ•°æ®å±•ç¤ºç»™ä½  Atom å¥½ç”¨çš„å‰ç«¯ç¼–è¾‘å™¨ï¼Œä»¥å‰çš„sublimeå¾ˆç«ï¼Œå¾ˆå¤šäººéƒ½åœ¨ç”¨ï¼Œè™½è¯´å¾ˆè½»é‡çº§ï¼Œä½†æ˜¯è‡ªå·±å¹¶ä¸æ˜¯å¾ˆå–œæ¬¢ç”¨ï¼ŒçŸ¥é“åœ¨æ…•è¯¾ç½‘ä¸Šçœ‹è€å¸ˆè¯¾ç¨‹çš„æ—¶å€™ï¼ŒçŸ¥é“äº†è¿™ä¸ªGitHubå‡ºå“çš„ç¼–è¾‘å™¨ï¼Œè‡ªå·±ä¹Ÿä¸‹è½½äº†ä¸€ä¸ªï¼Œå¾ˆå¥½ç”¨ï¼Œæ„Ÿè§‰ç»™äººä¸€ç§å¾ˆç¨³é‡çš„æ„Ÿè§‰ã€‚ gifå½•åˆ¶â€“LICEcap å¯ä»¥å¾ˆæ–¹ä¾¿çš„å½•åˆ¶gifï¼Œè¶…çº§å¥½ç”¨ï¼Œå¯ä»¥è°ƒæ•´å½•åˆ¶å¤§å°ï¼Œåšå‡ºå°åŠŸèƒ½ä¹‹åï¼Œå¯ä»¥å½•åˆ¶ä¸‹ï¼Œå†™åšå®¢ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„ä¸Šä¼ ã€‚ PxCook åƒç´ å¤§å¨ï¼ˆéœ€è¦Adobe airè¿è¡Œç¯å¢ƒï¼‰ å®‰å“å¼€å‘å¿…å¤‡ï¼Œuiç»™ä½ è®¾è®¡ä¹‹åï¼Œä½ å¯ä»¥ç”¨è¿™ä¸ªå·¥å…·å¾ˆæ–¹ä¾¿çš„è¿›è¡Œå–è‰²ã€æµ‹é‡è·ç¦»ç­‰æ“ä½œï¼Œå¯ä»¥åœ¨pxå’Œdpä¹‹é—´è½¬æ¢ï¼Œè¶…çº§ æ–¹ä¾¿ï¼Œå»ºè®®å¤§å®¶ä½¿ç”¨","categories":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}],"tags":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/tags/æˆ‘/"}],"keywords":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}]},{"title":"Android æ˜¾ç¤ºéšè—å¯†ç çš„ç®€å•å®ç°","slug":"Android-æ˜¾ç¤ºéšè—å¯†ç çš„ç®€å•å®ç°","date":"2016-10-15T07:23:26.000Z","updated":"2018-01-16T02:42:13.961Z","comments":true,"path":"2016/10/15/Android-æ˜¾ç¤ºéšè—å¯†ç çš„ç®€å•å®ç°/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/10/15/Android-æ˜¾ç¤ºéšè—å¯†ç çš„ç®€å•å®ç°/","excerpt":"","text":"å‰è¨€ ç°åœ¨çš„åº”ç”¨ä¸­ï¼Œäººæ€§åŒ–çš„è®¾ç½®è¶Šæ¥è¶Šå¤šï¼Œæ¯”å¦‚åœ¨è¾“å…¥å¯†ç çš„ç•Œé¢å¯ä»¥é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºå¯†ç ï¼Œè¿™æ ·å½“ç”¨æˆ·åœ¨ä¸å®‰å…¨çš„ç¯å¢ƒä¸­è¿˜å¯ä»¥ä½¿ç”¨å¯†ç ä¸å¯è§çš„æ–¹å¼å¡«å†™å¯†ç ï¼ˆä»¥**è¡¨ç¤ºï¼‰ï¼Œå½“ç”¨æˆ·ç¡®è®¤æ‰€å¤„ç¯å¢ƒæ˜¯å®‰å…¨çš„ï¼Œå¹¶ä¸”æœ‰éœ€æ±‚çœ‹è‡ªå·±è¾“å…¥çš„å¯†ç çš„æ—¶å€™ï¼Œä¾¿å¯ä»¥å®æ—¶æŸ¥çœ‹è‡ªå·±è¾“å…¥çš„å¯†ç æ˜¯ä¸æ˜¯è‡ªå·±æƒ³è¦çš„ã€‚å…¬å¸æœ€è¿‘çš„æ–°é¡¹ç›®ä¾¿åŠ å…¥äº†è¿™ä¸ªéœ€æ±‚ï¼Œè‡ªå·±ç½‘ä¸Šæœäº†ä¸‹ï¼Œç®€å•çš„å®ç°äº†è¯¥éœ€æ±‚ã€‚ æ•ˆæœå›¾ï¼š ä»£ç å®ç°é¦–å…ˆï¼Œå³ä¾§çš„å°çœ¼ç›æ˜¯æˆ‘ç”¨çš„æ˜¯CheckBoxï¼Œç„¶åç»™CheckBoxè®¾ç½®äº†å›¾ç‰‡ï¼Œå½“å¤„äºé€‰ä¸­è£…å¡«çš„æ—¶å€™ï¼Œçœ¼ç›æ˜¯ç»¿è‰²çš„ï¼Œå¦åˆ™æ˜¯ç°è‰²çš„ï¼Œç„¶ååœ¨activityé‡Œé¢è®¾ç½®è¯¥CheckBoxçš„ç›‘å¬äº‹ä»¶å¦‚ä¸‹ï¼š 12345678910111213//åˆ¤æ–­å½“å‰æ˜¯å¦éœ€è¦æ˜¾ç¤ºå¯†ç private void isPasswordShowListener() &#123; registerShowPasswordCb.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() &#123; @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) &#123; int passwordLength = registerPasswordEt.getText().length(); registerPasswordEt.setInputType(isChecked ? (InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD) : (InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD)); registerPasswordEt.setSelection(passwordLength); &#125; &#125;); &#125; è¯´æ˜ï¼š registerPasswordEtæ˜¯å‰é¢å¯†ç è¾“å…¥çš„EditText registerShowPasswordCbå°±æ˜¯é‚£ä¸ªå°çœ¼ç›çš„CheckBoxï¼Œ ç”¨çš„æ—¶å€™ç›´æ¥æ”¹ä¸‹å°±å¯ä»¥ç›´æ¥ç”¨äº†ã€‚ç‰¹æ­¤è®°å½•ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"ã€äº‹æ•…ã€‘é¡¹ç›®å¼€å‘ä¸­çš„ç”Ÿäº§äº‹æ•…","slug":"ã€äº‹æ•…ã€‘é¡¹ç›®å¼€å‘ä¸­çš„ç”Ÿäº§äº‹æ•…","date":"2016-10-14T16:31:11.000Z","updated":"2018-01-16T02:39:52.035Z","comments":true,"path":"2016/10/15/ã€äº‹æ•…ã€‘é¡¹ç›®å¼€å‘ä¸­çš„ç”Ÿäº§äº‹æ•…/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/10/15/ã€äº‹æ•…ã€‘é¡¹ç›®å¼€å‘ä¸­çš„ç”Ÿäº§äº‹æ•…/","excerpt":"","text":"ç¼˜ç”±æœ¬å‘¨å‘ç”Ÿäº†è‡ªå·±åœ¨æ­£å¼å·¥ä½œä»¥åçš„ä¸€ä¸ªé‡å¤§çš„é”™è¯¯ï¼Œå…¬å¸ä½¿ç”¨çš„æ˜¯ä¸ƒç‰›äº‘å­˜å‚¨ï¼Œappä½¿ç”¨è¿‡ç¨‹ä¸­ä¸Šä¼ çš„å›¾ç‰‡ä¿¡æ¯å­˜å‚¨åœ¨ä¸ƒç‰›äº‘ç©ºé—´ï¼Œå‘¨äºŒçš„æ—¶å€™ï¼Œåç«¯äººå‘˜åˆ é™¤äº†ä¸€äº›æµ‹è¯•ç¯å¢ƒä¸Šçš„æ•°æ®ï¼Œåœ¨æ™šä¸Šçš„å®¢æˆ·å°±åé¦ˆè¯´å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æœ‰æ•…éšœï¼Œå…¬å¸çš„æ¶æ„å’Œåç«¯ç´§æ€¥æŸ¥çœ‹äº†å‡ºç°è¯¥æ•…éšœçš„åŸå› ï¼Œå‘ç°æ˜¯ç”Ÿäº§ç¯å¢ƒçš„å›¾ç‰‡ä¼ åˆ°æµ‹è¯•ç¯å¢ƒæ¥äº†ï¼Œç”±äºåç«¯äººå‘˜åˆ é™¤äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¯¼è‡´è¯¥æ•…éšœï¼Œä½†æ˜¯ç”±äºè‡ªå·±ä¸çŸ¥é“è¿™ä¸ªç©ºé—´ä¹Ÿæ˜¯åˆ†æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ï¼Œæ‰€ä»¥åœ¨æ‰“åŒ…çš„æ—¶å€™åªæ˜¯æ”¹äº†æ•´ä¸ªappçš„ç¯å¢ƒï¼Œæ²¡æœ‰æ”¹å›¾ç‰‡ä¸Šä¼ çš„ç¯å¢ƒï¼Œå¯¼è‡´äº†è¿™æ¬¡ç”Ÿäº§äº‹æ•…ã€‚ åæ€è™½è¯´æ˜¯è‡ªå·±ä¸çŸ¥é“æœ‰è¿™ä¸ªå›¾ç‰‡ä¸Šä¼ åœ°å€çš„åŒºåˆ«ï¼Œä¹Ÿæ²¡äººå‘Šè¯‰æˆ‘ï¼Œä½†æ˜¯å½’æ ¹ç»“åº•è¿˜æ˜¯ç”±äºè‡ªå·±å¯¹é¡¹ç›®ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå¯¹é¡¹ç›®çš„æ¯ä¸ªç»†èŠ‚æŠŠæ¡çš„ä¸æ˜¯å¾ˆå¥½ï¼Œè¿™ä¸ªé¡¹ç›®çš„appç«¯ä»¥åéƒ½æ˜¯æˆ‘æ¥è´Ÿè´£ï¼Œä¸€å®šè¦å¯¹æ•´ä¸ªé¡¹ç›®ç†Ÿæ‚‰ï¼Œè¿™æ ·ä»¥åè‡ªå·±ç»´æŠ¤èµ·æ¥ä¹Ÿä¼šæ–¹ä¾¿ï¼Œå¦‚æœä»¥åæœ‰ä»€ä¹ˆæ–°çš„éœ€æ±‚è‡ªå·±åšèµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒçš„å¾—å¿ƒåº”æ‰‹ï¼Œç­‰ç°åœ¨æ‰‹å¤´ä¸Šçš„é¡¹ç›®åšå®Œï¼Œä¸€å®šè¦å¥½å¥½çš„ç ”ç©¶ä¸‹i5é¡¹ç›®ï¼Œäº‰å–ä¸å†çŠ¯é”™ã€‚","categories":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}],"tags":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/tags/æˆ‘/"}],"keywords":[{"name":"æˆ‘","slug":"æˆ‘","permalink":"https://github.com/smartsean/smartsean.github.io/categories/æˆ‘/"}]},{"title":"ã€Androidç¬”è®°ã€‘æ·¡å…¥æ·¡å‡ºã€ä¸Šä¸‹å¼¹å‡ºåŠ¨ç”»çš„","slug":"ã€Androidç¬”è®°ã€‘æ·¡å…¥æ·¡å‡ºã€ä¸Šä¸‹å¼¹å‡ºåŠ¨ç”»çš„","date":"2016-09-30T03:34:19.000Z","updated":"2018-01-16T02:38:55.563Z","comments":true,"path":"2016/09/30/ã€Androidç¬”è®°ã€‘æ·¡å…¥æ·¡å‡ºã€ä¸Šä¸‹å¼¹å‡ºåŠ¨ç”»çš„/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/09/30/ã€Androidç¬”è®°ã€‘æ·¡å…¥æ·¡å‡ºã€ä¸Šä¸‹å¼¹å‡ºåŠ¨ç”»çš„/","excerpt":"","text":"ä»Šå¤©æƒ³åˆ°äº†è‡ªå·±æ¯•ä¸šè®¾è®¡æ—¶å€™åšçš„appï¼Œé‡Œé¢ä¸»é¡µä¸Šé¢çš„æœç´¢æ¡†ç”¨åˆ°äº†ä¸€ä¸ªPopupWindowæ¥å®ç°ï¼Œæˆ‘å°±ç¢ç£¨è¿™åœ¨ç»™ä»–åŠ ä¸Šä¸€ä¸ªåŠ¨ç”»ï¼Œå½“æ—¶çœŸçš„æ˜¯ä»€ä¹ˆéƒ½ä¸æ‡‚ï¼Œå›«å›µåæ£çš„å°±æ‹¿æ¥ç”¨äº†ï¼Œç°åœ¨åˆå¤§æ¦‚æ‰¾äº†ä¸¤ç§åŠ¨ç”»æ•ˆæœæ¥å®ç°ï¼Œç°åœ¨è®°å½•ä¸‹ã€‚ ä¸€ã€æ·¡å…¥ã€æ·¡å‡ºåŠ¨ç”» åœ¨resæ–‡ä»¶ä¸‹é¢å»ºç«‹ä¸€ä¸ªå«animçš„æ–‡ä»¶å¤¹ã€‚ åœ¨animæ–‡ä»¶ä¸‹é¢å»ºç«‹ä¸¤ä¸ªxmlæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºï¼š push_bottom_in.xmlï¼ˆæ·¡å…¥æ•ˆæœï¼‰123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt; &lt;alpha android:duration=&quot;200&quot; android:fromAlpha=&quot;0.0&quot; android:toAlpha=&quot;1.0&quot; /&gt;&lt;/set&gt; - push_bottom_out.xmlï¼ˆæ·¡å‡ºæ•ˆæœï¼‰ 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt; &lt;alpha android:duration=&quot;200&quot; android:fromAlpha=&quot;1.0&quot; android:toAlpha=&quot;0.0&quot; /&gt;&lt;/set&gt; å‚æ•°è§£é‡Šï¼š - `duration`è®¾ç½®å®ŒæˆåŠ¨ç”»éœ€è¦çš„æ—¶é—´ - `fromAlpha`åŠ¨ç”»å¼€å§‹æ—¶çš„é€æ˜åº¦ - `toAlpha`åŠ¨ç”»ç»“æŸæ—¶å€™çš„é€æ˜åº¦ åœ¨resæ–‡ä»¶å¤¹ä¸‹é¢çš„valuesæ–‡ä»¶å¤¹ä¸‹é¢çš„styles.xmlé‡Œé¢åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š1234&lt;style name=&quot;AnimBottom&quot; parent=&quot;@android:style/Animation&quot;&gt; &lt;item name=&quot;android:windowEnterAnimation&quot;&gt;@anim/push_bottom_in&lt;/item&gt; &lt;item name=&quot;android:windowExitAnimation&quot;&gt;@anim/push_bottom_out&lt;/item&gt;&lt;/style&gt; AnimBottomå°±æ˜¯è¯¥åŠ¨ç”»çš„åå­—ï¼Œåœ¨éœ€è¦è®¾ç½®çš„åœ°æ–¹ç›´æ¥è°ƒç”¨R.style.AnimBottomå°±å¯ä»¥ä½¿ç”¨è¯¥åŠ¨ç”»äº†ã€‚ äºŒã€å¼¹å‡ºåŠ¨ç”»æ­¥éª¤å’Œä¸Šé¢çš„ä¸€æ ·ï¼Œanimä¸‹é¢ï¼š inuptodown.xmlï¼ˆå¼¹å…¥ï¼‰ 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt; &lt;translate android:duration=&quot;500&quot; android:fromYDelta=&quot;-100%&quot; android:toYDelta=&quot;0&quot; /&gt;&lt;/set&gt; outdowntoup.xmlï¼ˆå¼¹å‡ºï¼‰ 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt; &lt;translate android:duration=&quot;500&quot; android:fromYDelta=&quot;0&quot; android:toYDelta=&quot;-100%&quot; /&gt;&lt;/set&gt; styles.xmlä¸­ï¼š1234&lt;style name=&quot;AnimationFade&quot;&gt; &lt;item name=&quot;android:windowEnterAnimation&quot;&gt;@anim/inuptodown&lt;/item&gt; &lt;item name=&quot;android:windowExitAnimation&quot;&gt;@anim/outdowntoup&lt;/item&gt; &lt;/style&gt; ä½¿ç”¨çš„è¯å’Œä¸Šé¢çš„æ˜¯ä¸€æ ·çš„ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Genymotionä¸‹è½½æ…¢æˆ–è€…ä¸‹è½½å¤±è´¥çš„è§£å†³åŠæ³•","slug":"Genymotionä¸‹è½½æ…¢æˆ–è€…ä¸‹è½½å¤±è´¥çš„è§£å†³åŠæ³•","date":"2016-09-26T13:18:06.000Z","updated":"2018-01-16T02:37:56.382Z","comments":true,"path":"2016/09/26/Genymotionä¸‹è½½æ…¢æˆ–è€…ä¸‹è½½å¤±è´¥çš„è§£å†³åŠæ³•/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/09/26/Genymotionä¸‹è½½æ…¢æˆ–è€…ä¸‹è½½å¤±è´¥çš„è§£å†³åŠæ³•/","excerpt":"","text":"ä»¥å‰ä½¿ç”¨ genymotion çš„æ—¶å€™éƒ½æ˜¯ç­‰äº†å¾ˆä¹…æ‰èƒ½ä¸‹è½½å®Œæˆï¼Œå¹¶ä¸”æœ‰æ—¶å€™ä¼šä¸‹è½½å¤±è´¥ã€‚ä»Šå¤©åœ¨ç½‘ä¸Šæ— æ„é—´çœ‹åˆ°äº†ä¸€ä¸ªæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨è®°å½•ä¸‹ï¼Œå¤‡ç”¨ã€‚ ##åŠæ³•å¦‚ä¸‹ï¼š é¦–å…ˆç‚¹å‡»ç•Œé¢ä¸Šçš„ + å·ï¼ˆAddï¼‰æŒ‰é’®ï¼Œé€‰æ‹©ä½ è¦ä¸‹è½½çš„æ¨¡æ‹Ÿå™¨è™šæ‹Ÿæœºç‰ˆæœ¬ï¼Œç‚¹å‡»ä¸‹è½½ï¼ˆä¸€å®šè¦èµ°è¿™ä¸€æ­¥ï¼Œä¸ç„¶ä¼šå½±å“ä¸‹é¢çš„æ­¥éª¤ï¼‰ ç„¶ååˆ°C:\\Users\\ä½ çš„ç”¨æˆ·å\\AppData\\Local\\Genymobile\\ ä¸‹é¢æ‰“å¼€genymotion.logæ–‡ä»¶ï¼Œæ‰¾åˆ° Downloading file åé¢çš„ http å¼€å¤´çš„é“¾æ¥ï¼Œå¤åˆ¶åˆ°è¿…é›·å¼€å§‹ä¸‹è½½ï¼› ä¸‹è½½å®Œæˆä¹‹åæ‹·è´è¿™ä¸ªæ–‡ä»¶ï¼ˆç§°ä¸ºæ–‡ä»¶1ï¼‰åˆ° C:\\Users\\ä½ çš„ç”¨æˆ·å \\AppData\\Local\\Genymobile\\Genymotion\\ova ã€‚ç„¶åä½ ä¼šçœ‹åˆ°é‡Œé¢å·²ç»å­˜åœ¨ä¸€ä¸ª .ova æ–‡ä»¶ï¼Œï¼ˆè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ åˆšæ‰ç¬¬ä¸€æ­¥é€‰æ‹©ä¸‹è½½çš„é‚£ä¸ªï¼Œè‡ªåŠ¨ä¸‹è½½çš„ï¼Œæš‚ä¸”ç§°ä¸ºæ–‡ä»¶2ï¼‰ï¼ŒæŠŠæ–‡ä»¶2çš„æ–‡ä»¶åå¤åˆ¶åˆ°æ–‡ä»¶ 1ä¸Šï¼ˆè®°å¾—åˆ é™¤æ–‡ä»¶2ï¼‰ã€‚ é‡æ–°æ‰“å¼€ genymotion æ¨¡æ‹Ÿå™¨ï¼Œå’Œåˆšæ‰æ­¥éª¤1ä¸€æ ·çš„æ­¥éª¤ï¼Œä½ ä¼šå‘ç°å¾ˆå¿«å°±å¯ä»¥åŠ è½½å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨æ¨¡æ‹Ÿå™¨äº† æœ€è¿‘åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†å…¶ä»–çš„æ–¹æ³•ï¼Œè¯•äº†ä¸‹ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæœ‰å…´è¶£å¯ç‚¹å‡»ä¸‹é¢é“¾æ¥æŸ¥çœ‹macç”µè„‘è§£å†³æ–¹æ¡ˆ windowsè§£å†³æ–¹æ¡ˆ æ›´æ–°ï¼šå¦‚æœè¯´ä½ å·²ç»ä¸‹è½½å¥½äº†ä¸€ä¸ªç‰ˆæœ¬çš„æ¨¡æ‹Ÿå™¨ .ova æ–‡ä»¶ï¼Œé‚£ä¹ˆå¦‚æœä½ å¯ä»¥å¯¹å…¶è¿›è¡Œå¤‡ä»½ï¼Œä¸‹æ¬¡ç›´æ¥æ‹·è´è¿› C:\\Users\\ä½ çš„ç”¨æˆ·å \\AppData\\Local\\Genymobile\\Genymotion\\ova ç›®å½•ä¸‹é¢å°±å¯ä»¥äº†ã€‚è¿™æ ·å°±çœå»äº†å†æ¬¡ä¸‹è½½çš„æ—¶é—´ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"æ¨¡æ‹Ÿå™¨","slug":"æ¨¡æ‹Ÿå™¨","permalink":"https://github.com/smartsean/smartsean.github.io/tags/æ¨¡æ‹Ÿå™¨/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":" Macä¸‹Android Studio JDKçš„é…ç½®","slug":"Macä¸‹Android-Studio-JDKçš„é…ç½®","date":"2016-09-15T10:20:39.000Z","updated":"2018-01-16T02:24:19.743Z","comments":true,"path":"2016/09/15/Macä¸‹Android-Studio-JDKçš„é…ç½®/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/09/15/Macä¸‹Android-Studio-JDKçš„é…ç½®/","excerpt":"","text":"å‰è¨€ä¹‹å‰æ²¡æœ‰ç”¨è¿‡macç‰ˆçš„android studioï¼Œmacä¸Šçš„jdkå®‰è£…å’Œwinä¸å¤ªä¸€æ ·ï¼Œwinä¸Šå®‰è£…çš„æ—¶å€™æ˜¯å¯ä»¥é€‰æ‹©å®‰è£…è·¯å¾„çš„ï¼Œä½†æ˜¯åœ¨macä¸Šæ˜¯æ²¡é€‰æ‹©å®‰è£…è·¯å¾„çš„ï¼Œè¿™ç‚¹æ¯”è¾ƒéš¾æã€‚åœ¨ä»Šå¤©æ‰“å¼€é¡¹ç›®çš„æ—¶å€™æç¤ºé¡¹ç›®çš„jdkè·¯å¾„ä¸å¯¹ï¼Œåœ¨ç½‘ä¸Šä¸€é¡¿æ‰¾ï¼Œæœ€ç»ˆç»ˆäºçŸ¥é“æ€ä¹ˆè®¾ç½®äº† è·å–jdkå®‰è£…çš„è·¯å¾„ï¼š ç»ˆç«¯è¿è¡Œï¼š/usr/libexec/java_home æˆ‘çš„è¿è¡Œæ•ˆæœï¼š ç„¶åæ‰“å¼€Android Studioâ€”&gt;fileâ€”&gt;other Setting â€”&gt;Default Project Setting,åœ¨å‡ºç°çš„é¡µé¢é€‰æ‹©åˆ°ä½ æœºå™¨ä¸Šå‡ºç°çš„è·¯å¾„å°±è¡Œäº†ã€‚ 2016-9-15ç‰¹æ­¤è®°å½•ï¼","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"ionicå¼€å‘webApp---ç™¾åº¦å®šä½","slug":"ionicå¼€å‘webApp-ç™¾åº¦å®šä½","date":"2016-08-19T02:18:34.000Z","updated":"2018-01-16T02:23:21.702Z","comments":true,"path":"2016/08/19/ionicå¼€å‘webApp-ç™¾åº¦å®šä½/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/08/19/ionicå¼€å‘webApp-ç™¾åº¦å®šä½/","excerpt":"","text":"åæ€å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œæœ€è¿‘æ¯”è¾ƒå¿™ï¼Œè¿™æ®µæ—¶é—´å¿™çš„å·®ä¸å¤šäº†ï¼Œåšå®¢ä¸€å®šè¦åšæŒå†™ä¸‹å»ã€‚ æ¦‚è¿°æœ€è¿‘å®¢æˆ·æå‡ºäº†æ–°çš„éœ€æ±‚ï¼šåœ¨å®¢æˆ·æ“ä½œèŠ‚ç‚¹å¢åŠ åœ°å›¾å®šä½ï¼Œä»¥ä¾¿è·å–æ“ä½œèŠ‚ç‚¹æ—¶å€™çš„åœ°ç†ä½ç½®ï¼Œç»è¿‡è°ƒç ”å‘ç°ï¼Œå®˜æ–¹æä¾›çš„æœ‰ä¸ªå«cordova-plugin-geolocationçš„æ’ä»¶ï¼Œåœ¨iosä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨å¤©æœå› ä¸ºæŸäº›ç½‘ç»œåŸå› ä¸èƒ½ç»™æ­£å¸¸ä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨ç½‘ä¸Šå¾ˆå°‘èƒ½å¤Ÿæœç´¢åˆ°å…³äºè¿™æ–¹é¢çš„æ–‡ç« ï¼Œå°±å»åœ¨githubä¸Šæ‰¾ä¸€äº›ç¬¬ä¸‰æ–¹æä¾›çš„æ’ä»¶å»å®ç°ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œé˜²æ­¢ä»¥åèµ°å¼¯è·¯ã€‚ 1. ç”³è¯·ç™¾åº¦çš„ç§˜é’¥ ç™¾åº¦ç§˜é’¥ç”³è¯·åœ°å€2. å®‰è£…æ’ä»¶ï¼šionic plugin add https://github.com/mrwutong/cordova-qdc-baidu-location --variable API_KEY=&quot;&lt;API_KEY&gt;&quot; 3. ä½¿ç”¨æ–¹æ³•åœ¨éœ€è¦è·å–ä½ç½®ä¿¡æ¯çš„åœ°æ–¹ç›´æ¥ä½¿ç”¨ä»¥ä¸‹ä»£ç :12345baidu_location.getCurrentPosition(function ( message ) &#123; console.debug(message); &#125;, function ( message ) &#123; console.debug(message); &#125;); ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯æˆåŠŸçš„å›è°ƒï¼Œç¬¬äºŒä¸ªæ˜¯å¤±è´¥çš„å›è°ƒã€‚ ##åˆ‡è®° åœ¨å®‰è£…äº†æ’ä»¶ä¹‹åï¼Œåƒä¸‡è®°å¾—è¦å…ˆionic remove platform androidï¼Œç„¶åå†æ‰§è¡Œionic platform add androidå‘½ä»¤ï¼Œä¸ç„¶æ’ä»¶ä¸èƒ½æ­£ç¡®çš„æ‰§è¡Œï¼Œäº‹å®ä¸Šï¼Œæ¯ä¸€æ¬¡ä¿®æ”¹æ’ä»¶çš„å†…å®¹ï¼Œéƒ½è¦æ‰§è¡Œä¸Šé¢çš„ä¸¤ä¸ªæ“ä½œï¼Œæ‰èƒ½ä½¿æ’ä»¶æ­£å¸¸è¿è¡Œ å¦‚æœä½ ä½¿ç”¨sdk23ç‰ˆæœ¬è¿›è¡Œæ‰“åŒ…çš„ï¼Œä½ å°±è¦æ³¨æ„äº†ï¼Œåœ¨æœ€æ–°çš„android6.0ä¸Šé¢ï¼Œå’Œä»¥å‰çš„æƒé™æˆæƒæœºåˆ¶å·²ç»ä¸åŒï¼Œå¦‚æœä½¿ç”¨23ç‰ˆæœ¬çš„è¿›è¡Œæ‰“åŒ…ï¼Œåœ¨android6.0ä»¥ä¸Šçš„æ‰‹æœºä¸Šè¿è¡Œä¸ä¼šç»™å‡ºè·å–åœ°ç†ä½ç½®æƒé™çš„å¼¹çª—ï¼ŒåŠ¡å¿…æ”¹ä¸º23ä»¥ä¸‹çš„ç‰ˆæœ¬è¿›è¡Œç¼–è¯‘ è·å–æˆåŠŸçš„è¯ï¼Œé»˜è®¤æ˜¯åªç»™å‡ºç»çº¬åº¦ä¿¡æ¯çš„ï¼Œå¦‚æœè¦è·å–å®šä½çš„åœ°å€çš„å…·ä½“ä¿¡æ¯ï¼Œè¦åœ¨æ’ä»¶é‡Œé¢çš„BaiduLocation.javaæ–‡ä»¶æŠŠ 12æ”¹ä¸º```option.setIsNeedAddress(true); é»˜è®¤è¿”å›çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºç°åœ¨jsonè¿™ä¹ˆæµè¡Œçš„æƒ…å†µä¸‹ï¼Œå½“ç„¶æ˜¯è·å¾—jsonæ ¼å¼çš„æ•°æ®æ¯”è¾ƒè®©äººå–œæ¬¢ï¼Œè¿™ä¸ªæ—¶å€™åç€å·²ç»æ›¿æˆ‘ä»¬å°è£…å¥½äº†ï¼Œåªéœ€è¦åœ¨BaiduLocation.javaæ–‡ä»¶ä¸­æŠŠPluginResult pluginResult = new PluginResult(PluginResult.Status.OK, sb.toString());æ”¹ä¸ºPluginResult pluginResult = new PluginResult(PluginResult.Status.OK, json.toString());ï¼Œä½ å°±å¯ä»¥è·å¾—ä¸€ä¸ªjsonæ ¼å¼çš„å­—ç¬¦ä¸²äº† æœ€åä¸Šé¢çš„å†…å®¹å¤§å¤šæ•°æ˜¯åœ¨githubä¸Šæ‰¾åˆ°çš„ï¼Œè¿™é‡Œåªæ˜¯å†™ä¸Šäº†è‡ªå·±é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œåˆ†äº«å‡ºæ¥ï¼Œè¿™é‡Œé™„ä¸Šgithubåœ°å€ï¼šGitHubåœ°å€","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":"Ionic Cssç®€ä»‹ä¸åŸºæœ¬å¸ƒå±€","slug":"Ionic-Cssç®€ä»‹ä¸åŸºæœ¬å¸ƒå±€","date":"2016-06-21T10:05:26.000Z","updated":"2018-01-16T02:22:07.691Z","comments":true,"path":"2016/06/21/Ionic-Cssç®€ä»‹ä¸åŸºæœ¬å¸ƒå±€/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/06/21/Ionic-Cssç®€ä»‹ä¸åŸºæœ¬å¸ƒå±€/","excerpt":"","text":"Ionic Cssç®€ä»‹ä¸åŸºæœ¬å¸ƒå±€Ionicç®€ä»‹ Ionicå±äºhybridå¼€å‘æ¨¡å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯è®²ç§»åŠ¨webåº”ç”¨ä¸æµè§ˆå™¨æ‰“åŒ…ï¼Œä¼˜ç‚¹æ˜¯é‡‡ç”¨æ ‡å‡†çš„webæŠ€æœ¯è¿›è¡Œå¼€å‘ï¼Œé¿å…äº†ä¸åŒå¹³å°åŸå£°å¼€å‘ä½“ç³»çš„å­¦ä¹ ï¼Œä¸Šæ‰‹å¿«ã€æ•ˆç‡é«˜ã€‚ç¼ºç‚¹æ˜¯æ€§èƒ½ä¸Šæœ‰ä¸€å®šçš„æŸå¤± ionicæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ··åˆå¼/hybrid_HTML5ç§»åŠ¨å¼€å‘æ¡†æ¶ï¼Œç‰¹ç‚¹æ˜¯ä½¿ç”¨æ ‡å‡†çš„HTMLã€CSSã€JavaScriptï¼Œå¼€å‘è·¨å¹³å°ï¼ˆç›®å‰æ”¯æŒï¼šAndroidã€IOSï¼‰çš„åŸç”ŸAppåº”ç”¨ã€‚ ionicä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š CSSæ¡†æ¶ æä¾›åŸç”Ÿè´¨æ„Ÿçš„CSSæ ·å¼æ¨¡æ‹Ÿï¼Œionicè¿™ä¸ªéƒ¨åˆ†ä½¿ç”¨äº†ioniconså›¾æ ‡æ ·å¼åº“ JavaScriptæä¾›ç§»åŠ¨Webåº”ç”¨å¼€å‘æ¡†æ¶ï¼ŒionicåŸºäºAngularJSåŸºç¡€æ¡†æ¶å¼€å‘ï¼Œå› æ­¤è‡ªç„¶çš„éµå¾ªAngularJSæ¡†æ¶çš„çº¦æŸï¼Œæ­¤å¤–ï¼Œionicä½¿ç”¨AngularJS UI Routerå®ç°å‰ç«¯è·¯ç”± å‘½ä»¤è¡Œ/CLIå‘½ä»¤è¡Œå·¥å…·é›†ç”¨æ¥ç®€åŒ–åº”ç”¨ç¨‹åºçš„å¼€å‘ã€æ„é€ å’Œä»¿çœŸè¿è¡Œï¼Œionicå‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨äº†Cordovaï¼Œä¾èµ–äºå¹³å°SDKï¼ˆAndroid&amp;IOSï¼‰å®ç°å°†ç§»åŠ¨webé¡¹ç›®æ‰“åŒ…æˆåŸç”ŸApp ç”±äºionicä½¿ç”¨äº†HTML5å’ŒCSS3çš„ä¸€äº›æ–°è§„èŒƒï¼Œæ‰€ä»¥è¦æ±‚ios7+/Android4.1+ï¼Œåœ¨ä½ç‰ˆæœ¬ä¸Šä½¿ç”¨ionicå¼€å‘çš„åº”ç”¨çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šå‡ºç°é—®é¢˜ CSSæ¡†æ¶ å¯ä»¥ç›´æ¥ä½¿ç”¨ionicçš„CSSæ¡†æ¶ï¼Œç›´æ¥åœ¨HTMLä¸­å¼•å…¥ionic.csså°±å¯ä»¥ã€‚ionicçš„CSSæ¡†æ¶æä¾›äº†é¢„å®šä¹‰çš„CSSç±»ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ„å»ºé€‚ç”¨äºæ‰‹æœºç«¯çš„UIï¼Œionicçš„é¢„å®šä¹‰CSSç±»ä¸»è¦åˆ†ä¸ºä¸‹é¢å››ä¸ªæ–¹é¢ï¼š åŸºæœ¬å¸ƒå±€ç±» ionicå°†æ‰‹æœºé¡µé¢çš„å¸ƒå±€æ¨¡å¼åŸºæœ¬æŠ½è±¡ä¸ºä¸‰å—ï¼šå¤´éƒ¨ã€å†…å®¹å’Œå°¾éƒ¨ï¼ŒåŸºæœ¬å¸ƒå±€ç±»æä¾›äº†è¿™å‡ ä¸ªåŒºåŸŸçš„CSSç±» é¢œè‰²å’Œå›¾æ ‡ç±»ionicå®šä¹‰äº†å‡ ä¸ªé…è‰²æ–¹æ¡ˆCSSç±»ï¼Œå¹¶ä½¿ç”¨ioniconsæä¾›çš„å­—ä½“å›¾æ ‡ç±» ç•Œé¢ç»„ä»¶ç±»ionicå®šä¹‰äº†ä¸°å¯Œçš„ç•Œé¢ç»„ä»¶CSSç±»ï¼Œè®©HTMLå…ƒç´ çœ‹èµ·æ¥åƒç§»åŠ¨å¹³å°çš„UIç»„ä»¶ æ ¼æ …ç³»ç»Ÿç±»å’ŒBootstrapä¸€æ ·ï¼Œionicä¹Ÿæä¾›äº†æ ¼æ …ç³»ç»Ÿï¼Œä¸è¿‡ionicçš„å®ç°æ˜¯åŸºäºCSS3çš„flexBoxæ¨¡å‹ï¼Œæ›´ä¸ºçµæ´» å¸ƒå±€æ¨¡å¼åœ¨APPå¼€å‘ä¸­ï¼Œé€šå¸¸ä¸€ä¸ªé¡µé¢åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ† æ ‡é¢˜/header æ ‡é¢˜æ€»æ˜¯ä½äºå±å¹•é¡¶éƒ¨ å†…å®¹/content å†…å®¹åŒºå æ®é™¤äº†æ ‡é¢˜å’Œé¡µè„šçš„åŒºåŸŸ é¡µè„š/footer é¡µè„šåŒºæ€»æ˜¯ä½äºå±å¹•çš„åº•éƒ¨ionicä½¿ç”¨ä»¥ä¸‹çš„CSSç±»å£°æ˜åŒºåŸŸçš„æ€§è´¨ï¼š .bar.bar-header å£°æ˜å…ƒç´ ä¸ºæ ‡é¢˜åŒº .bar.bar-footer å£°æ˜å…ƒç´ ä¸ºé¡µè„šåŒº .contentå£°æ˜å…ƒç´ ä¸ºå†…å®¹åŒºå®šé«˜æ¡å—ï¼š.baræ ·å¼.barå°†å…ƒç´ å£°æ˜ä¸ºå±å¹•ä¸Šç»å¯¹å®šä¹‰å’Œå—çŠ¶åŒºåŸŸï¼Œå…·æœ‰å›ºå®šçš„é«˜åº¦ï¼ˆ44pxï¼‰ï¼š123456789101112131415161718&lt;any class=&quot;bar&quot;&gt;.....&lt;any&gt;``` ä¸€æ—¦å…ƒç´ åº”ç”¨äº†.baræ ·å¼ï¼Œå°±å¯ä»¥ç»§ç»­é€‰ç”¨ä¸¤ç±»é¢„å®šä¹‰æ ·å¼æ¥è¿›ä¸€æ­¥å£°æ˜å…ƒç´ åŠå…¶å†…å®¹çš„å¤–è§‚ï¼š1. åŒçº§æ ·å¼---åŒçº§æ ·å¼ä¸.baråº”ç”¨åœ¨åŒä¸€å…ƒç´ ä¸Šï¼Œå£°æ˜å…ƒç´ çš„ä½ç½®ã€é…è‰²ç­‰2. ä¸‹çº§æ ·å¼---ä¸‹çº§æ ·å¼åªèƒ½åº”ç”¨åœ¨.barçš„å­å…ƒç´ ä¸Šï¼Œå£°æ˜å­å…ƒç´ çš„å¤§å°ç­‰ç‰¹å¾å…·ä½“çš„æ ·å¼å¦‚ä¸‹ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](http://img.blog.csdn.net/20160621180215881)#### .barï¼šä½ç½®ionicä½¿ç”¨ä»¥ä¸‹æ ·å¼å®šä¹‰æ¡å—çš„ä½ç½®ï¼š- .bar-header -ç½®é¡¶- .bar-subheader -headerä¹‹ä¸‹ç½®é¡¶- .bar-footer - ç½®åº•- .bar-subfooter -footrtä¹‹ä¸Šç½®é¡¶æ¯”å¦‚è…¾è®¯Appä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸‰ä¸ªæ¡å—ï¼šæ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€é¡µè„š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](http://img.blog.csdn.net/20160621180245928)#### .bar :åµŒå…¥å­å…ƒç´ åœ¨ionicä¸­ï¼Œæœ‰ä¸‰ç§.barå­å…ƒç´ çš„æ ·å¼æ˜¯è‡ªå®šä¹‰çš„ï¼š- **æ ‡é¢˜æ–‡å­—** -å¯¹åŒ…å«çš„æ ‡é¢˜æ–‡å­—çš„å…ƒç´ ä½¿ç”¨.titleæ ·å¼ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨h1å…ƒç´ ï¼›ä¸€èˆ¬æ˜¯å±…ä¸­æ˜¾ç¤ºçš„æ ‡é¢˜ â€¦12- **æŒ‰é’®** --å¯¹ç”¨ä½œæŒ‰é’®çš„å…ƒç´ ï¼Œåº”ç”¨.buttonæ ·å¼ï¼Œé€šå¸¸ä½¿ç”¨buttonæˆ–è€…aå…ƒç´ ä½œä¸ºæŒ‰é’®ï¼Œæ³¨æ„æŒ‰é’®å°†ä½¿ç”¨.barçš„é…è‰²æ–¹æ¡ˆï¼›ç»å¸¸ä¼šç”¨åˆ°ï¼Œæ¯”å¦‚é¡¶éƒ¨æ ‡é¢˜æ å³ä¾§çš„+å·æŒ‰é’®ï¼Œæˆ–è€…é¡¶éƒ¨å·¦ä¾§çš„è¿”å›æŒ‰é’® â€¦12- **å·¥å…·æ ** - å·¥å…·æ åŒ…å«ä¸€ç»„æŒ‰é’®ï¼Œå¯¹ç”¨ä½œå·¥å…·æ çš„å…ƒç´ ï¼Œåº”ç”¨.button-baræ ·å¼ï¼Œé€šå¸¸ä½¿ç”¨divå…ƒç´ ä½œä¸ºå·¥å…·æ ;ä¸€èˆ¬è¾ƒå°‘ç”¨åˆ° â€¦12345678#### .bar :åµŒå…¥inputä¸€ç§å¸¸è§çš„UIæ¨¡å¼æ˜¯åœ¨æ ‡é¢˜æ ä¸­åµŒå…¥æœç´¢æ ï¼Œæ¯”å¦‚è¯´å¤§ä¼—ç‚¹è¯„å¦‚ä¸‹ï¼š![è¿™é‡Œå†™å›¾ç‰‡æè¿°](http://img.blog.csdn.net/20160621180311273)åœ¨.barå…ƒç´ ä¸­åµŒå…¥inputå…ƒç´ ï¼Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š1. åœ¨æ¡å—å…ƒç´ ä¸Šåº”ç”¨.item-input-insertæ ·å¼2. å°†inputåŒ…è£¹åœ¨åº”ç”¨.item-input-wrapperæ ·å¼çš„å…ƒç´ å†…è¿™æ˜¯å› ä¸ºåœ¨ionicçš„å®ç°ä¸­ï¼Œ.barä¸­çš„inputæ ·å¼å®šä¹‰å¦‚ä¸‹ï¼šæ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š åŒ—äº¬ ``` å†…å®¹ï¼š.contentå’Œ.scroll-contentionicé¢„å®šä¹‰äº†ä¸¤ä¸ªå†…å®¹å®¹å™¨æ ·å¼ï¼š .content - æµå¼å®šä½ï¼Œå†…å®¹å…ƒç´ åœ¨æ–‡æ¡£æµä¸­æŒ‰é¡ºåºå®šä½ .scroll-content - å†³å®šå®šä½ï¼Œå†…å®¹å…ƒç´ å æ»¡æ•´ä¸ªå±å¹•è¿™ä¸¤ä¸ªæ ·å¼éƒ½å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ·å¼è¿›ä¸€æ­¥ç¡®å®šä½ç½®åŠå…¶èŒƒå›´","categories":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}],"tags":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Ionic/"}],"keywords":[{"name":"Ionic","slug":"Ionic","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/"},{"name":"å…¶ä»–","slug":"Ionic/å…¶ä»–","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Ionic/å…¶ä»–/"}]},{"title":"JAVA ç”ŸæˆJSONæ ¼å¼æ•°æ®","slug":"JAVA-ç”ŸæˆJSONæ ¼å¼æ•°æ®","date":"2016-06-03T03:25:21.000Z","updated":"2018-01-16T02:19:59.524Z","comments":true,"path":"2016/06/03/JAVA-ç”ŸæˆJSONæ ¼å¼æ•°æ®/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/06/03/JAVA-ç”ŸæˆJSONæ ¼å¼æ•°æ®/","excerpt":"","text":"ç®€ä»‹åˆšå¼€å§‹å­¦ä¹ androidçš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“ï¼Œå¹³æ—¶è°ƒç”¨ç½‘ç»œè¯·æ±‚éƒ½æ˜¯é€šè¿‡å°è£…å¥½çš„apiè¿›è¡Œæ•°æ®è¯·æ±‚çš„ï¼Œä¹‹ååˆ°äº†å…¬å¸è¿›è¡ŒwebAppå¼€å‘ï¼Œä½¿ç”¨jsæ¥æ“ä½œjsonæ ¼å¼çš„æ•°æ®ç®€ç›´ä¸èƒ½å†çˆ½äº†ï¼Œä½†æ˜¯è‡ªå·±è¿˜æ˜¯æœ‰ç‚¹ä¸å¤ªæ¸…æ¥šjavaè·å¾—jsonå¯¹è±¡ï¼Œä»Šå¤©èŠ±äº†ä¸€ä¼šæ—¶é—´ç ”ç©¶ä¸‹ï¼Œä½œä¸ºè®°å½•ï¼Œä»¥åå¿˜çš„æ—¶å€™è®°èµ·æ¥æ–¹ä¾¿äº›ã€‚ åˆå§‹æ•°æ®12345678&#123; &quot;cmd&quot;: &quot;service&quot;, &quot;parameters&quot;: &#123; &quot;engineerId&quot;: &quot;10015&quot;, &quot;name&quot;:&quot;Sean&quot; &#125;&#125; javaä»£ç ä¸­ç”Ÿæˆjsonå¯¹è±¡çš„ä»£ç ï¼š12345678910111213JSONObject jsonObject = new JSONObject();//æœ€ç»ˆå¾—åˆ°çš„JSONå¯¹è±¡Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();map.put(&quot;engineerId&quot;,&quot;10015&quot;);map.put(&quot;name&quot;,&quot;Sean&quot;);JSONObject jsonObject1 = new JSONObject(map);try &#123; jsonObject.put(&quot;cmd&quot;,&quot;service&quot;); jsonObject.put(&quot;parameters&quot;,jsonObject1); &#125; catch (JSONException e) &#123; e.printStackTrace(); &#125; ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ä¾¿å¯ä»¥ç”Ÿæˆä¸ªJsonå¯¹è±¡ï¼Œå¯ä»¥åœ¨è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ä½¿ç”¨ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android---open failed: ENOENT (No such file or directory) é”™è¯¯","slug":"Android-open-failed-ENOENT-No-such-file-or-directory-é”™è¯¯","date":"2016-04-22T08:44:22.000Z","updated":"2018-01-16T02:19:05.652Z","comments":true,"path":"2016/04/22/Android-open-failed-ENOENT-No-such-file-or-directory-é”™è¯¯/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/22/Android-open-failed-ENOENT-No-such-file-or-directory-é”™è¯¯/","excerpt":"","text":"ä»Šå¤©æˆ‘æŠŠsdå¡ä¸‹é¢çš„åº”ç”¨ç›®å½•åˆ æ‰äº†ï¼Œç„¶åé‡æ–°æ‰“å¼€åº”ç”¨çš„æ—¶å€™ï¼Œå‡ºç°ä¸Šé¢çš„é”™è¯¯ï¼Œè¯´æ˜¯æ‰¾ä¸åˆ°è¯¥fileï¼Œç„¶åä¸æ–­çš„åŠ logè°ƒè¯•ï¼Œæœ€åé€šè¿‡æŸ¥æ‰¾èµ„æ–™äº†è§£åˆ°æ–°å»ºFileçš„æ—¶å€™ä¸æ”¯æŒæ–°å»ºä¸¤çº§ç›®å½•ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä¸€å±‚ä¸€å±‚çš„åˆ›å»ºã€‚ ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940/** * @param bitmap:å›¾ç‰‡çš„bitmap * @param srcï¼šè¦ä¿å­˜åˆ°æœ¬åœ°çš„è·¯å¾„ * @param bitNameï¼šè¦ä¿å­˜åˆ°æœ¬åœ°çš„æ–‡ä»¶å * @throws IOException */ private void saveBitmap(Bitmap bitmap,String src, String bitName) throws IOException &#123; File pictureFileDir = new File(src); if (!pictureFileDir.exists()) &#123; pictureFileDir.mkdir(); &#125; File pictureFileDirImage = new File(pictureFileDir.getAbsolutePath()+&quot;/images/&quot;); if (!pictureFileDirImage.exists()) &#123; pictureFileDirImage.mkdir(); &#125; File picFile = new File(pictureFileDirImage.getAbsolutePath()+&quot;/&quot;+ bitName); if(!picFile.exists())&#123; picFile.createNewFile(); &#125; FileOutputStream out; try&#123; out = new FileOutputStream(picFile); if(bitmap.compress(Bitmap.CompressFormat.JPEG, 90, out)) &#123; out.flush(); out.close(); &#125; &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;","categories":[],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å¼‚å¸¸","slug":"å¼‚å¸¸","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å¼‚å¸¸/"}],"keywords":[]},{"title":" Androidæ§ä»¶ä¹‹CheckBoxæ¢å›¾æ ‡ã€ç„¦ç‚¹é—®é¢˜","slug":"Androidæ§ä»¶ä¹‹CheckBoxæ¢å›¾æ ‡ã€ç„¦ç‚¹é—®é¢˜","date":"2016-04-19T11:17:32.000Z","updated":"2018-01-16T02:17:30.567Z","comments":true,"path":"2016/04/19/Androidæ§ä»¶ä¹‹CheckBoxæ¢å›¾æ ‡ã€ç„¦ç‚¹é—®é¢˜/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/19/Androidæ§ä»¶ä¹‹CheckBoxæ¢å›¾æ ‡ã€ç„¦ç‚¹é—®é¢˜/","excerpt":"","text":"ä»Šå¤©åœ¨å®ç°ListViewç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œå‘ç°ç‚¹å‡»ä¹‹åæ²¡æœ‰æ•ˆæœï¼ŒæŸ¥äº†ä¸‹ï¼Œå‘ç°æ˜¯Itemå¸ƒå±€é‡Œé¢çš„CheckBoxæ§ä»¶æˆªå–äº†ç„¦ç‚¹ï¼Œåªéœ€è¦æŠŠCheckBoxä¸­çš„focusableå±æ€§è®¾ç½®ä¸ºfalseå³å¯ 1android:focusable=&quot;false&quot; ç”±äºç³»ç»Ÿè‡ªå¸¦çš„å›¾æ ‡æ»¡è¶³ä¸äº†æˆ‘çš„éœ€æ±‚ï¼Œç„¶ååˆé‡æ–°å®šåˆ¶äº†å±äºè‡ªå·±çš„å›¾æ ‡ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š1ã€åœ¨Drawableä¸‹é¢æ–°å»ºæ–‡ä»¶ï¼Œæ¯”å¦‚checkbox_for_addpending_0.xml 12345678910111213&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;!-- ç‚¹å‡»ä¹‹åçš„å›¾æ ‡ --&gt; &lt;item android:state_checked=&quot;true&quot; android:drawable=&quot;@mipmap/priority_no&quot; /&gt; &lt;!-- ç‚¹å‡»ä¹‹å‰çš„å›¾æ ‡ --&gt; &lt;item android:state_checked=&quot;false&quot; android:drawable=&quot;@mipmap/priority_no_normal&quot; /&gt;&lt;/selector&gt; 2ã€åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ç›´æ¥è®¾ç½®buttonå±æ€§æŒ‡å‘è¿™ä¸ªæ–‡ä»¶å³å¯ç¬¬ä¸€ç§å†™æ³•ï¼š1234567&lt;CheckBox android:id=&quot;@+id/cb_is_finish_in_lv&quot; android:focusable=&quot;false&quot; android:layout_width=&quot;50dp&quot; android:layout_height=&quot;50dp&quot; android:button=&quot;@drawable/checkbox_for_addpending_0&quot; /&gt; å¦‚æœæŒ‰ç…§ä¸Šé¢çš„å†™æ³•ï¼Œä½ è®¾ç½®çš„å›¾æ ‡ä¸ä¼šå†CheckBoxçš„æ­£ä¸­é—´æ˜¾ç¤ºï¼Œä¼šå‚ç›´å±…ä¸­ï¼Œè€Œä¸ä¼šæ°´å¹³å±…ä¸­ï¼Œå¹¶ä¸”å½“ä½ ç‚¹å‡»çš„CheckBoxæ§ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰ç°è‰²èƒŒæ™¯æ˜¾ç¤ºï¼Œå¾ˆéš¾çœ‹ï¼ŒæŒ‰ç…§ä¸‹é¢çš„è¿™ç§å†™æ³•å°±å¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼š ç¬¬äºŒç§å†™æ³•ï¼š12345678910111213&lt;CheckBox android:id=&quot;@+id/cb_is_finish_in_lv&quot; android:focusable=&quot;false&quot; android:layout_width=&quot;50dp&quot; android:layout_height=&quot;50dp&quot; android:button=&quot;@null&quot; android:drawableLeft=&quot;@drawable/checkbox_for_addpending_0&quot; android:drawablePadding=&quot;10dip&quot; android:paddingBottom=&quot;10dip&quot; android:paddingLeft=&quot;10dip&quot; android:paddingTop=&quot;10dip&quot; android:background=&quot;#FFFFFF&quot; /&gt; æŒ‰ç…§ä¸Šé¢å†™çš„è¯ä¹Ÿæœ‰ä¸€å®šçš„å¼Šç«¯ï¼Œæ¯”å¦‚æˆ‘æƒ³æ›´æ¢CheckBoxå›¾ç‰‡æŒ‰é’®çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å·¦ä¾§åŠ ä¸Šä½ æ›´æ–°çš„å›¾ç‰‡ï¼Œä¼šå¾ˆä¸‘é™‹ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ç¬¬ä¸€ç§å†™æ³•ï¼Œç„¶åæŠŠèƒŒæ™¯è®¾ç½®çš„å’Œçˆ¶å¸ƒå±€ä¸€è‡´ï¼Œè®©CheckBoxå‘å³ç§»åŠ¨ä¸‹ï¼Œä¹Ÿå¯ä»¥å®ç°ç¬¬äºŒç§å†™æ³•çš„æ•ˆæœã€‚ ç‰¹æ­¤è®°å½•ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"ã€è½¬ã€‘Androidé¢è¯•é¢˜ç²¾é€‰","slug":"ã€è½¬ã€‘Androidé¢è¯•é¢˜ç²¾é€‰","date":"2016-04-18T14:43:54.000Z","updated":"2018-01-16T02:16:04.681Z","comments":true,"path":"2016/04/18/ã€è½¬ã€‘Androidé¢è¯•é¢˜ç²¾é€‰/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/18/ã€è½¬ã€‘Androidé¢è¯•é¢˜ç²¾é€‰/","excerpt":"","text":"1.Android dvm çš„è¿›ç¨‹å’ŒLinuxçš„è¿›ç¨‹ï¼Œåº”ç”¨ç¨‹åºçš„è¿›ç¨‹æ˜¯å¦ä¸ºåŒä¸€ä¸ªæ¦‚å¿µï¼šç­”ï¼šdvmæ˜¯dalivkè™šæ‹Ÿæœºã€‚æ¯ä¸€ä¸ªandroidåº”ç”¨ç¨‹åºéƒ½åœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­è¿è¡Œï¼Œéƒ½æ‹¥æœ‰ä¸€ä¸ªdalivkè™šæ‹Ÿæœºå®ä¾‹ã€‚è€Œæ¯ä¸€ä¸ªdvméƒ½æ˜¯åœ¨linuxçš„ä¸€ä¸ªè¿›ç¨‹ã€‚æ‰€ä»¥è¯´å¯ä»¥è®¤ä¸ºæ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚2.androidçš„åŠ¨ç”»æœ‰å“ªå‡ ç§ï¼Ÿä»–ä»¬çš„ç‰¹ç‚¹å’ŒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿç­”ï¼šä¸¤ç§ï¼Œä¸€ç§æ˜¯tweenåŠ¨ç”»ï¼Œä¸€ç§æ˜¯frameåŠ¨ç”»ã€‚tweenåŠ¨ç”»ï¼Œè¿™ç§å®ç°æ–¹å¼å¯ä»¥ä½¿è§†å›¾ç»„ä»¶ç§»åŠ¨ï¼Œæ”¾å¤§æˆ–ç¼©å°ä»¥åŠäº§ç”Ÿé€æ˜åº¦çš„å˜åŒ–ã€‚frameåŠ¨ç”»ï¼Œä¼ ç»Ÿçš„åŠ¨ç”»æ–¹æ³•ï¼Œé€šè¿‡é¡ºåºçš„æ’­æ”¾æ’åˆ—å¥½çš„å›¾ç‰‡æ¥å®ç°ï¼Œç±»ä¼¼ç”µå½±ã€‚3.handlerè¿›åˆ¶çš„åŸç†ï¼šç­”ï¼šandroidæä¾›äº†handlerå’Œlooperæ¥æ»¡è¶³çº¿ç¨‹é—´çš„é€šä¿¡ã€‚Handlerå…ˆè¿›å…ˆå‡ºåŸåˆ™ã€‚looperç”¨æ¥ç®¡ç†ç‰¹å®šçº¿ç¨‹å†…å¯¹è±¡ä¹‹é—´çš„æ¶ˆæ¯äº¤æ¢ï¼ˆmessage Exchangeï¼‰. 1)looper:ä¸€ä¸ªçº¿ç¨‹å¯ä»¥äº§ç”Ÿä¸€ä¸ªlooperå¯¹è±¡ï¼Œç”±å®ƒæ¥ç®¡ç†æ­¤çº¿ç¨‹é‡Œçš„message queue(æ¶ˆæ¯é˜Ÿåˆ—) 2)handler:ä½ å¯ä»¥æ„é€ ä¸€ä¸ªhandlerå¯¹è±¡æ¥ä¸looperæ²Ÿé€šï¼Œä»¥ä¾¿pushæ–°æ¶ˆæ¯åˆ°messagequeueé‡Œï¼›æˆ–è€…æ¥æ”¶looperï¼ˆä»messagequeueé‡Œå–å‡ºï¼‰æ‰€é€æ¥çš„æ¶ˆæ¯ã€‚ 3)messagequeue:ç”¨æ¥å­˜æ”¾çº¿ç¨‹æ”¾å…¥çš„æ¶ˆæ¯ã€‚ 4)çº¿ç¨‹ï¼šUI thread é€šå¸¸å°±æ˜¯main thread,è€Œandroidå¯åŠ¨ç¨‹åºæ—¶ä¼šä¸ºå®ƒå»ºç«‹ä¸€ä¸ªmessage queue.4.android viewçš„åˆ·æ–°ï¼šç­”ï¼šAndroidä¸­å¯¹Viewçš„æ›´æ–°æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œä½¿ç”¨æ—¶è¦åŒºåˆ†ä¸åŒçš„åº”ç”¨åœºåˆã€‚æˆ‘æ„Ÿè§‰æœ€è¦ç´§çš„æ˜¯åˆ†æ¸…ï¼šå¤šçº¿ç¨‹å’ŒåŒç¼“å†²çš„ä½¿ç”¨æƒ…å†µã€‚ 1).ä¸ä½¿ç”¨å¤šçº¿ç¨‹å’ŒåŒç¼“å†² è¿™ç§æƒ…å†µæœ€ç®€å•äº†ï¼Œä¸€èˆ¬åªæ˜¯å¸Œæœ›åœ¨Viewå‘ç”Ÿæ”¹å˜æ—¶å¯¹UIè¿›è¡Œé‡ç»˜ã€‚ä½ åªéœ€åœ¨Activityä¸­æ˜¾å¼åœ°è°ƒç”¨Viewå¯¹è±¡ä¸­çš„invalidate()æ–¹æ³•å³å¯ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨ Viewçš„onDraw()æ–¹æ³•ã€‚ 2).ä½¿ç”¨å¤šçº¿ç¨‹å’Œä¸ä½¿ç”¨åŒç¼“å†² è¿™ç§æƒ…å†µéœ€è¦å¼€å¯æ–°çš„çº¿ç¨‹ï¼Œæ–°å¼€çš„çº¿ç¨‹å°±ä¸å¥½è®¿é—®Viewå¯¹è±¡äº†ã€‚å¼ºè¡Œè®¿é—®çš„è¯ä¼šæŠ¥ï¼šandroid.view.ViewRoot$CalledFromWrongThreadExceptionï¼šOnly the originalthread that created a view hierarchy can touch its views. è¿™æ—¶å€™ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªç»§æ‰¿äº†android.os.Handlerçš„å­ç±»ï¼Œå¹¶é‡å†™handleMessage(Messagemsg)æ–¹æ³•ã€‚android.os.Handleræ˜¯èƒ½å‘é€å’Œå¤„ç†æ¶ˆæ¯çš„ï¼Œä½ éœ€è¦åœ¨Activityä¸­å‘å‡ºæ›´æ–°UIçš„æ¶ˆæ¯ï¼Œç„¶åå†ä½ çš„Handlerï¼ˆå¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ï¼‰ä¸­å¤„ç†æ¶ˆæ¯ï¼ˆå› ä¸ºåŒ¿åå†…éƒ¨ç±»å¯ä»¥è®¿é—®çˆ¶ç±»å˜é‡ï¼Œä½ å¯ä»¥ç›´æ¥è°ƒç”¨Viewå¯¹è±¡ä¸­çš„invalidate()æ–¹æ³• ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šåœ¨æ–°çº¿ç¨‹åˆ›å»ºå¹¶å‘é€ä¸€ä¸ªMessageï¼Œç„¶åå†ä¸»çº¿ç¨‹ä¸­æ•è·ã€å¤„ç†è¯¥æ¶ˆæ¯ã€‚ 3).ä½¿ç”¨å¤šçº¿ç¨‹å’ŒåŒç¼“å†² Androidä¸­SurfaceViewæ˜¯Viewçš„å­ç±»ï¼Œå¥¹åŒæ—¶ä¹Ÿå®ç°äº†åŒç¼“å†²ã€‚ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå¥¹çš„å­ç±»å¹¶å®ç°SurfaceHolder.Callbackæ¥å£ã€‚ç”±äºå®ç°SurfaceHolder.Callbackæ¥å£ï¼Œæ–°çº¿ç¨‹å°±ä¸éœ€è¦android.os.Handlerå¸®å¿™äº†ã€‚SurfaceHolderä¸­lockCanvas()æ–¹æ³•å¯ä»¥é”å®šç”»å¸ƒï¼Œç»˜åˆ¶ç©æ–°çš„å›¾åƒåè°ƒç”¨unlockCanvasAndPost(canvas)è§£é”ï¼ˆæ˜¾ç¤ºï¼‰ï¼Œè¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿å¾—ã€‚ 5.è¯´è¯´mvcæ¨¡å¼çš„åŸç†ï¼Œå®ƒåœ¨androidä¸­çš„è¿ç”¨:ç­”ï¼šandroidçš„å®˜æ–¹å»ºè®®åº”ç”¨ç¨‹åºçš„å¼€å‘é‡‡ç”¨mvcæ¨¡å¼ã€‚ä½•è°“mvcï¼Ÿ mvcæ˜¯model,view,controllerçš„ç¼©å†™ï¼ŒmvcåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š læ¨¡å‹ï¼ˆmodelï¼‰å¯¹è±¡ï¼šæ˜¯åº”ç”¨ç¨‹åºçš„ä¸»ä½“éƒ¨åˆ†ï¼Œæ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘éƒ½åº”è¯¥å†™åœ¨è¯¥å±‚ã€‚ 2è§†å›¾ï¼ˆviewï¼‰å¯¹è±¡ï¼šæ˜¯åº”ç”¨ç¨‹åºä¸­è´Ÿè´£ç”Ÿæˆç”¨æˆ·ç•Œé¢çš„éƒ¨åˆ†ã€‚ä¹Ÿæ˜¯åœ¨æ•´ä¸ªmvcæ¶æ„ä¸­ç”¨æˆ·å”¯ä¸€å¯ä»¥çœ‹åˆ°çš„ä¸€å±‚ï¼Œæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ï¼Œæ˜¾ç¤ºå¤„ç†ç»“æœã€‚ 3æ§åˆ¶å™¨ï¼ˆcontrolï¼‰å¯¹è±¡ï¼šæ˜¯æ ¹æ®ç”¨æˆ·çš„è¾“å…¥ï¼Œæ§åˆ¶ç”¨æˆ·ç•Œé¢æ•°æ®æ˜¾ç¤ºåŠæ›´æ–°modelå¯¹è±¡çŠ¶æ€çš„éƒ¨åˆ†ï¼Œæ§åˆ¶å™¨æ›´é‡è¦çš„ä¸€ç§å¯¼èˆªåŠŸèƒ½ï¼Œæƒ³ç”¨ç”¨æˆ·å‡ºå‘çš„ç›¸å…³äº‹ä»¶ï¼Œäº¤ç»™må“¦å¾—äº†å¤„ç†ã€‚ androidé¼“åŠ±å¼±è€¦åˆå’Œç»„ä»¶çš„é‡ç”¨ï¼Œåœ¨androidä¸­mvcçš„å…·ä½“ä½“ç°å¦‚ä¸‹ï¼š 1)è§†å›¾å±‚ï¼ˆviewï¼‰ï¼šä¸€èˆ¬é‡‡ç”¨xmlæ–‡ä»¶è¿›è¡Œç•Œé¢çš„æè¿°ï¼Œä½¿ç”¨çš„æ—¶å€™å¯ä»¥éå¸¸æ–¹ä¾¿çš„å¼•å…¥ï¼Œå½“ç„¶ï¼Œå¦‚ä½•ä½ å¯¹androidäº†è§£çš„æ¯”è¾ƒçš„å¤šäº†è¯ï¼Œå°±ä¸€å®š å¯ä»¥æƒ³åˆ°åœ¨androidä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨JavaScript+htmlç­‰çš„æ–¹å¼ä½œä¸ºviewå±‚ï¼Œå½“ç„¶è¿™é‡Œéœ€è¦è¿›è¡ŒJavaå’Œjavascriptä¹‹é—´çš„é€š ä¿¡ï¼Œå¹¸è¿çš„æ˜¯ï¼Œandroidæä¾›äº†å®ƒä»¬ä¹‹é—´éå¸¸æ–¹ä¾¿çš„é€šä¿¡å®ç°ã€‚ 2)æ§åˆ¶å±‚ï¼ˆcontrollerï¼‰ï¼šandroidçš„æ§åˆ¶å±‚çš„é‡ ä»»é€šå¸¸è½åœ¨äº†ä¼—å¤šçš„acitvityçš„è‚©ä¸Šï¼Œè¿™å¥è¯ä¹Ÿå°±æš—å«äº†ä¸è¦åœ¨acitivityä¸­å†™ä»£ç ï¼Œè¦é€šè¿‡activityäº¤å‰²modelä¸šåŠ¡é€»è¾‘å±‚å¤„ç†ï¼Œ è¿™æ ·åšçš„å¦å¤–ä¸€ä¸ªåŸå› æ˜¯androidä¸­çš„acitivityçš„å“åº”æ—¶é—´æ˜¯5sï¼Œå¦‚æœè€—æ—¶çš„æ“ä½œæ”¾åœ¨è¿™é‡Œï¼Œç¨‹åºå°±å¾ˆå®¹æ˜“è¢«å›æ”¶æ‰ã€‚ 3)æ¨¡å‹å±‚ï¼ˆmodelï¼‰ï¼šå¯¹æ•°æ®åº“çš„æ“ä½œã€å¯¹ç½‘ç»œç­‰çš„æ“ä½œéƒ½åº”è¯¥åœ¨modelé‡Œé¢å¤„ç†ï¼Œå½“ç„¶å¯¹ä¸šåŠ¡è®¡ç®—ç­‰æ“ä½œä¹Ÿæ˜¯å¿…é¡»æ”¾åœ¨çš„è¯¥å±‚çš„ã€‚ 6.Activityçš„ç”Ÿå‘½å‘¨æœŸ:ç­”ï¼šonCreate: åœ¨è¿™é‡Œåˆ›å»ºç•Œé¢ï¼Œåšä¸€äº›æ•°æ® çš„åˆå§‹åŒ–å·¥ä½œ onStart: åˆ°è¿™ä¸€æ­¥å˜æˆç”¨æˆ·å¯è§ä¸å¯äº¤äº’çš„ onResume:å˜æˆå’Œç”¨æˆ·å¯äº¤äº’ çš„ï¼Œ(åœ¨activity æ ˆç³»ç»Ÿé€šè¿‡æ ˆçš„æ–¹å¼ç®¡ç†è¿™äº›ä¸ªActivityçš„æœ€ä¸Šé¢ï¼Œè¿è¡Œå®Œå¼¹å‡ºæ ˆï¼Œåˆ™å›åˆ°ä¸Šä¸€ä¸ªActivity) onPause: åˆ°è¿™ä¸€æ­¥æ˜¯å¯è§ä½†ä¸å¯äº¤äº’çš„ï¼Œç³»ç»Ÿä¼šåœæ­¢åŠ¨ç”» ç­‰æ¶ˆè€—CPU çš„äº‹æƒ…ä»ä¸Šæ–‡çš„æè¿°å·²ç»çŸ¥é“ï¼Œåº”è¯¥åœ¨è¿™é‡Œä¿å­˜ä½ çš„ä¸€äº›æ•°æ®,å› ä¸ºè¿™ä¸ªæ—¶å€™ä½ çš„ç¨‹åºçš„ä¼˜å…ˆçº§é™ä½ï¼Œæœ‰å¯èƒ½è¢«ç³»ç»Ÿæ”¶å›ã€‚åœ¨è¿™é‡Œä¿å­˜çš„æ•°æ®ï¼Œåº”è¯¥åœ¨ onstop: å˜å¾—ä¸å¯è§ï¼Œè¢«ä¸‹ä¸€ä¸ªactivityè¦†ç›–äº†onDestroy: è¿™æ˜¯activityè¢«å¹²æ‰å‰æœ€åä¸€ä¸ªè¢«è°ƒç”¨æ–¹æ³•äº†ï¼Œå¯èƒ½æ˜¯å¤–é¢ç±»è°ƒç”¨finishæ–¹æ³•æˆ–è€…æ˜¯ç³»ç»Ÿä¸ºäº†èŠ‚çœç©ºé—´å°†å®ƒæš‚æ—¶æ€§çš„å¹²æ‰ 7.è®©Activityå˜æˆä¸€ä¸ªçª—å£ï¼šç­”ï¼šActivityå±æ€§è®¾å®šï¼šæœ‰æ—¶å€™ä¼šåšä¸ªåº”ç”¨ç¨‹åºæ˜¯æ¼‚æµ®åœ¨æ‰‹æœºä¸»ç•Œé¢çš„ã€‚è¿™ä¸ªåªéœ€è¦åœ¨è®¾ç½®ä¸‹Activityçš„ä¸»é¢˜theme,å³åœ¨Manifest.xmlå®šä¹‰Activityçš„åœ°æ–¹åŠ ä¸€å¥ï¼šandroid :theme=â€@android:style/Theme.Dialogâ€å¦‚æœæ˜¯ä½œåŠé€æ˜çš„æ•ˆæœï¼šandroid:theme=â€@android:style/Theme.Translucentâ€8.Androidä¸­å¸¸ç”¨çš„äº”ç§å¸ƒå±€:ç­”ï¼šLinearLayoutçº¿æ€§å¸ƒå±€ï¼›AbsoluteLayoutç»å¯¹å¸ƒå±€ï¼›TableLayoutè¡¨æ ¼å¸ƒå±€ï¼›RelativeLayoutç›¸å¯¹å¸ƒå±€ï¼›FrameLayoutå¸§å¸ƒå±€ï¼›9.Androidçš„äº”ç§æ•°æ®å­˜å‚¨æ–¹å¼ï¼šç­”ï¼šsharedPreferencesï¼›æ–‡ä»¶ï¼›SQLiteï¼›contentProviderï¼›ç½‘ç»œ10.è¯·è§£é‡Šä¸‹åœ¨å•çº¿ç¨‹æ¨¡å‹ä¸­Messageã€Handlerã€Message Queueã€Looperä¹‹é—´çš„å…³ç³»ï¼šç­”ï¼šHandlerè·å–å½“å‰çº¿ç¨‹ä¸­çš„looperå¯¹è±¡ï¼Œlooperç”¨æ¥ä»å­˜æœ‰Messageçš„Message Queueé‡Œå–å‡ºmessageï¼Œå†ç”±Handlerè¿›è¡Œmessageçš„åˆ†å‘å’Œå¤„ç†ã€‚11.AIDLçš„å…¨ç§°æ˜¯ä»€ä¹ˆ?å¦‚ä½•å·¥ä½œ?èƒ½å¤„ç†å“ªäº›ç±»å‹çš„æ•°æ®?ç­”ï¼šAIDL(AndroidInterface Definition Language)androidæ¥å£æè¿°è¯­è¨€12.ç³»ç»Ÿä¸Šå®‰è£…äº†å¤šç§æµè§ˆå™¨ï¼Œèƒ½å¦æŒ‡å®šæŸæµè§ˆå™¨è®¿é—®æŒ‡å®šé¡µé¢ï¼Ÿè¯·è¯´æ˜åŸç”±ï¼šç­”ï¼šé€šè¿‡ç›´æ¥å‘é€UriæŠŠå‚æ•°å¸¦è¿‡å»ï¼Œæˆ–è€…é€šè¿‡manifesté‡Œçš„intentfilteré‡Œçš„dataå±æ€§ã€‚ä»£ç å¦‚ä¸‹ï¼š Intent intent = new Intent();Intent.setAction(â€œandroid.intent.action.Viewâ€);Uri uriBrowsers = Uri.parse(â€œhttp://www.sina.com.cnâ€);Intent.setData(uriBrowsers);//åŒ…åã€è¦æ‰“å¼€çš„activity intent.setClassName(â€œcom.android.browserâ€,â€com.android.browser.BrowserActivityâ€);startActivity(intent);13.ä»€ä¹ˆæ˜¯ANR,å¦‚ä½•é¿å…ï¼Ÿç­”ï¼šANRçš„å®šä¹‰ï¼šåœ¨androidä¸Šï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºæœ‰ä¸€æ®µæ—¶é—´å“åº”ä¸ç§»çµæ•ï¼Œç³»ç»Ÿä¼šå‘ç”¨æˆ·æç¤ºâ€œåº”ç”¨ç¨‹åºæ— å“åº”â€ï¼ˆANRï¼šapplication Not Respondingï¼‰å¯¹è¯æ¡†ã€‚å› æ­¤ï¼Œåœ¨ç¨‹åºé‡Œå¯¹å“åº”æ€§èƒ½çš„è®¾è®¡å¾ˆé‡è¦ï¼Œè¿™æ ·ï¼Œç³»ç»Ÿä¸ä¼šæ˜¾ç¤ºANRç»™ç”¨æˆ·ã€‚å¦‚ä½•é¿å…ï¼šé¦–å…ˆæ¥ç ”ç©¶ä¸‹ä¸ºä»€ä¹ˆå®ƒä¼šåœ¨androidçš„åº”ç”¨ç¨‹åºé‡Œå‘ç”Ÿå’Œå¦‚ä½•æœ€ä½³æ„å»ºåº”ç”¨ç¨‹åºæ¥é¿å…ANR. androidåº”ç”¨ç¨‹åºé€šå¸¸æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ï¼ˆä¾‹å¦‚ï¼šmainï¼‰é‡Œï¼Œè¿™å°±æ„å‘³ä½ çš„åº”ç”¨ç¨‹åºæ‰€åšçš„äº‹æƒ…å¦‚æœåœ¨ä¸»çº¿ç¨‹é‡Œå ç”¨äº†å¤§é•¿æ—¶é—´çš„è¯ï¼Œå°±ä¼šå¼•å‘ANRå¯¹è¯æ¡†ï¼Œå› ä¸ºä½ çš„åº”ç”¨ç¨‹åºå¹¶æ²¡æœ‰ç»™è‡ªå·±æœºä¼šæ¥å¤„ç†è¾“å…¥äº‹ä»¶æˆ–è€…Intentå¹¿æ’­ã€‚ å› æ­¤ï¼Œè¿è¡Œåœ¨ä¸»çº¿ç¨‹é‡Œçš„ä»»ä½•è®¿æ±‚éƒ½å°½å¯èƒ½å°‘åšäº‹æƒ…ã€‚ç‰¹åˆ«æ˜¯ï¼Œactivityåº”è¯¥åœ¨å®ƒçš„å…³é”®ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆonCreate()å’ŒonResume()ï¼‰é‡Œå°½å¯èƒ½å°‘çš„å»ä½œåˆ›å»ºæ“ä½œã€‚æ½œåœ¨çš„è€—æ—¶æ“ä½œï¼Œä¾‹å¦‚ç½‘ç»œæˆ–æ•°æ®åº“æ“ä½œï¼Œæˆ–è€…é«˜è€—æ—¶çš„è®¡ç®—å¦‚æ”¹å˜ä½å›¾å°ºå¯¸ï¼Œåº”è¯¥åœ¨å­çº¿ç¨‹é‡Œï¼ˆæˆ–è€…ä»¥æ•°æ®åº“æ“ä½œä¸ºä¾‹ï¼Œé€šè¿‡å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼ï¼‰æ¥å®Œæˆã€‚ç„¶è€Œï¼Œä¸æ˜¯è¯´ä½ çš„ä¸»çº¿ç¨‹é˜»å¡åœ¨é‚£é‡Œç­‰å¾…å­çº¿ç¨‹çš„å®Œæˆâ€”ä¹Ÿä¸æ˜¯è°ƒç”¨Thread.wait()æˆ–è€…Thread.sleep()ã€‚æ›¿ä»£çš„æ–¹æ³•æ˜¯ï¼šä¸»çº¿ç¨‹åº”è¯¥ä¸ºå­çº¿ç¨‹æä¾›ä¸€ä¸ªHandler,ä»¥ä¾¿å®Œæˆæ—¶èƒ½å¤Ÿæäº¤ç»™ä¸»çº¿ç¨‹ã€‚ä»¥è¿™ç§æ–¹å¼è®¾è®¡ä½ çš„åº”ç”¨ç¨‹åºï¼Œå°†èƒ½ä¿è¯ä½ çš„ä¸»çº¿ç¨‹ä¿æŒå¯¹è¾“å…¥çš„å“åº”æ€§å¹¶èƒ½é¿å…ç”±5ç§’è¾“å…¥äº‹ä»¶çš„è¶…æ—¶å¼•å‘çš„ANRå¯¹è¯æ¡†ã€‚è¿™ç§åšæ³•åº”è¯¥åœ¨å…¶å®ƒæ˜¾ç¤ºUIçš„çº¿ç¨‹é‡Œæ•ˆä»¿ï¼Œå› ä¸ºå®ƒä»¬éƒ½å—ç›¸åŒçš„è¶…æ—¶å½±å“ã€‚ IntentReceiveræ‰§è¡Œæ—¶é—´çš„ç‰¹æ®Šé™åˆ¶æ„å‘³ç€å®ƒåº”è¯¥åšï¼šåœ¨åå°é‡Œåšå°çš„ã€çç¢çš„å·¥ä½œï¼Œå¦‚ä¿å­˜è®¾å®šæˆ–æ³¨å†Œä¸€ä¸ªNotificationã€‚å’Œåœ¨ä¸»çº¿ç¨‹é‡Œè°ƒç”¨çš„å…¶å®ƒæ–¹æ³•ä¸€æ ·ï¼Œåº”ç”¨ç¨‹åºåº”è¯¥é¿å…åœ¨BroadcastReceiveré‡Œåšè€—æ—¶çš„æ“ä½œæˆ–è®¡ç®—ï¼Œä½†ä¹Ÿä¸æ˜¯åœ¨å­çº¿ç¨‹é‡Œåšè¿™äº›ä»»åŠ¡ï¼ˆå› ä¸ºBroadcastReceiverçš„ç”Ÿå‘½å‘¨æœŸçŸ­ï¼‰ï¼Œæ›¿ä»£çš„æ˜¯ï¼Œå¦‚æœå“åº”Intentå¹¿æ’­éœ€è¦æ‰§è¡Œä¸€ä¸ªè€—æ—¶çš„åŠ¨ä½œçš„è¯ï¼Œåº”ç”¨ç¨‹åºåº”è¯¥å¯åŠ¨ä¸€ä¸ªServiceã€‚é¡ºä¾¿æåŠä¸€å¥ï¼Œä½ ä¹Ÿåº”è¯¥é¿å…åœ¨Intent Receiveré‡Œå¯åŠ¨ä¸€ä¸ªActivityï¼Œå› ä¸ºå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç”»é¢ï¼Œå¹¶ä»å½“å‰ç”¨æˆ·æ­£åœ¨è¿è¡Œçš„ç¨‹åºä¸ŠæŠ¢å¤ºç„¦ç‚¹ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºåœ¨å“åº”Intentå¹¿æ’­æ—¶éœ€è¦å‘ç”¨æˆ·å±•ç¤ºä»€ä¹ˆï¼Œä½ åº”è¯¥ä½¿ç”¨Notification Manageræ¥å®ç°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨åº”ç”¨ç¨‹åºé‡Œï¼Œ100åˆ°200msæ˜¯ç”¨æˆ·èƒ½æ„ŸçŸ¥é˜»æ»çš„æ—¶é—´é˜ˆå€¼ï¼Œä¸‹é¢æ€»ç»“äº†ä¸€äº›æŠ€å·§æ¥é¿å…ANR,å¹¶æœ‰åŠ©äºè®©ä½ çš„åº”ç”¨ç¨‹åºçœ‹èµ·æ¥æœ‰å“åº”æ€§ã€‚ å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä¸ºå“åº”ç”¨æˆ·è¾“å…¥æ­£åœ¨åå°å·¥ä½œçš„è¯ï¼Œå¯ä»¥æ˜¾ç¤ºå·¥ä½œçš„è¿›åº¦ï¼ˆProgressBarå’ŒProgressDialogå¯¹è¿™ç§æƒ…å†µæ¥è¯´å¾ˆæœ‰ç”¨ï¼‰ã€‚ç‰¹åˆ«æ˜¯æ¸¸æˆï¼Œåœ¨å­çº¿ç¨‹é‡Œåšç§»åŠ¨çš„è®¡ç®—ã€‚å¦‚æœä½ çš„ç¨‹åºæœ‰ä¸€ä¸ªè€—æ—¶çš„åˆå§‹åŒ–è¿‡ç¨‹çš„è¯ï¼Œè€ƒè™‘å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªSplash Screenæˆ–è€…å¿«é€Ÿæ˜¾ç¤ºä¸»ç”»é¢å¹¶å¼‚æ­¥æ¥å¡«å……è¿™äº›ä¿¡æ¯ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ éƒ½åº”è¯¥æ˜¾ç¤ºæ­£åœ¨è¿›è¡Œçš„è¿›åº¦ï¼Œä»¥å…ç”¨æˆ·è®¤ä¸ºç¨‹åºè¢«å†»ç»“äº†ã€‚ 14.ä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´Force Closeï¼Ÿå¦‚ä½•é¿å…ï¼Ÿèƒ½å¦æ•è·å¯¼è‡´å…¶çš„å¼‚å¸¸ï¼Ÿç­”ï¼šå¦‚ç©ºæŒ‡é’ˆç­‰å¯ä»¥å¯¼è‡´ForceClose;å¯ä»¥çœ‹Logcatï¼Œç„¶åæ‰¾åˆ°å¯¹åº”çš„ç¨‹åºä»£ç æ¥è§£å†³é”™è¯¯ã€‚15.æ¨ªç«–å±åˆ‡æ¢æ—¶å€™çš„activityçš„ç”Ÿå‘½å‘¨æœŸï¼šç­”ï¼š1ï¼‰ æ–°å»ºä¸€ä¸ªactivity,å¹¶æŠŠå„ä¸ªç”Ÿå‘½å‘¨æœŸæ‰“å°å‡ºæ¥2ï¼‰ è¿è¡Œactivityï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼šonCreate()Ã onStart()Ã onResume()Ã  3) æŒ‰ctrl+F12åˆ‡æ¢æˆæ¨ªå±æ—¶ onSaveInstanceState()Ã  onPause()Ã  onStop()Ã  onDestroy()Ã  onCreate()Ã  onStart()Ã  onRestoreInstanceState()Ã  onResume()Ã  4) å†æŒ‰ctrl+f12åˆ‡æ¢æˆç«–å±æ—¶ï¼Œå‘ç°æ‰“å°äº†ä¸¤æ¬¡ç›¸åŒçš„Log onSaveInstanceState()Ã  onPause()Ã  onStop()Ã  onDestroyÃ  onCreate()Ã  onStart()Ã  onRestoreInstanceState()Ã  onResume()Ã  onSaveInstanceState()Ã  onPause()Ã  onStop()Ã  onDestroyÃ  onCreate()Ã  onStart()Ã  onRestoreInstanceState()Ã  onResume()Ã  5) ä¿®æ”¹AndroidManifest.xmlï¼ŒæŠŠè¯¥Activityæ·»åŠ android:configChanges=â€œorientationâ€,æ‰§è¡Œæ­¥éª¤3 onSaveInstanceState()Ã  onPause()Ã  onStop()Ã  onDestroy()Ã  onCreate()Ã  onStart()Ã  onRestoreInstanceState()Ã  onResume()Ã  6) ä¿®æ”¹AndroidManifest.xmlï¼ŒæŠŠè¯¥Activityæ·»åŠ android:configChanges=â€œorientationâ€,æ‰§è¡Œæ­¥éª¤4,å‘ç°ä¸ä¼šå†æ‰“å°ç›¸åŒä¿¡æ¯ï¼Œä½†å¤šæ‰“å°äº†ä¸€è¡ŒonConfigChanged onSaveInstanceState()Ã  onPause()Ã  onStop()Ã  onDestroy()Ã  onCreate()Ã  onStart()Ã  onRestoreInstanceState()Ã  onResume()Ã  onConfigurationChanged()Ã  7) æŠŠæ­¥éª¤5çš„android:configChanges=â€œorientationâ€æ”¹æˆ android:configChanges=â€œorientation|keyboradHiddenâ€,æ‰§è¡Œæ­¥éª¤3ï¼Œå°±åªæ‰“å°onConfigChanged onConfigurationChanged()Ã  8) æŠŠæ­¥éª¤5çš„android:configChanges=â€œorientationâ€æ”¹æˆandroid:configChanges=â€œorientation|keyboradHiddenâ€,æ‰§è¡Œæ­¥éª¤4 onConfigurationChanged()Ã  onConfigurationChanged()Ã  æ€»ç»“ï¼š1ï¼‰ ä¸è®¾ç½®activityçš„android:configChangesæ—¶,åˆ‡å±ä¼šé‡æ–°è°ƒç”¨å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œåˆ‡æ¨ªå±æ—¶ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåˆ‡ç«–å±æ—¶ä¼šæ‰§è¡Œä¸¤æ¬¡ã€‚2ï¼‰ è®¾ç½®activityçš„android:configChanges=â€œorientationâ€æ—¶, åˆ‡å±ä¼šé‡æ–°è°ƒç”¨å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œåˆ‡æ¨ªå±ã€ç«–å±æ—¶éƒ½åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä½†æ˜¯ç«–å±æœ€åå¤šæ‰“å°ä¸€æ¡onConfigurationChanged()3ï¼‰ è®¾ç½®activityçš„android:configChanges=â€œorientation|keyboardHiddenâ€æ—¶,åˆ‡å±ä¸ä¼šé‡æ–°è°ƒç”¨å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œåªä¼šæ‰§è¡ŒonConfigurationChanged(),æ¨ªå±ä¸€æ¬¡ï¼Œç«–å±ä¸¤æ¬¡å†æ€»ç»“ä¸‹æ•´ä¸ªactivityçš„ç”Ÿå‘½å‘¨æœŸï¼š1ï¼‰ å½“å‰activityäº§ç”Ÿäº‹ä»¶å¼¹å‡ºToastå’ŒAlertDialogçš„æ—¶å€™Activityçš„ç”Ÿå‘½å‘¨æœŸä¸ä¼šæœ‰æ”¹å˜2ï¼‰ Activityè¿è¡Œæ—¶æŒ‰ä¸‹HOMEé”®ï¼ˆè·Ÿè¢«å®Œå…¨è¦†ç›–ä¸€æ ·çš„ï¼‰onSavaInstanceStateÃ onPauseÃ onStopÃ  onRestartÃ onStartÃ onResumeÃ  3) æœªè¢«å®Œå…¨è¦†ç›–ï¼Œåªæ˜¯å¤±å»ç„¦ç‚¹ï¼š onPauseÃ  onResumeÃ 16.å¦‚ä½•å°†SQLiteæ•°æ®åº“(.dbæ–‡ä»¶)ä¸apkæ–‡ä»¶ä¸€èµ·å‘å¸ƒ?ç­”ï¼šå¯ä»¥å°†.dbæ–‡ä»¶å¤åˆ¶åˆ°Eclipse Androidå·¥ç¨‹ä¸­çš„res awç›®å½•ä¸­ã€‚æ‰€æœ‰åœ¨res awç›®å½•ä¸­çš„æ–‡ä»¶ä¸ä¼šè¢«å‹ç¼©ï¼Œè¿™æ ·å¯ä»¥ç›´æ¥æå–è¯¥ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å¯ä»¥å°†.dbæ–‡ä»¶å¤åˆ¶åˆ°res awç›®å½•ä¸­17.å¦‚ä½•å°†æ‰“å¼€res awç›®å½•ä¸­çš„æ•°æ®åº“æ–‡ä»¶?ç­”ï¼šåœ¨Androidä¸­ä¸èƒ½ç›´æ¥æ‰“å¼€res awç›®å½•ä¸­çš„æ•°æ®åº“æ–‡ä»¶ï¼Œè€Œéœ€è¦åœ¨ç¨‹åºç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶å°†è¯¥æ–‡ä»¶å¤åˆ¶åˆ°æ‰‹æœºå†…å­˜æˆ–SDå¡çš„æŸä¸ªç›®å½•ä¸­ï¼Œç„¶åå†æ‰“å¼€è¯¥æ•°æ®åº“æ–‡ä»¶ã€‚å¤åˆ¶çš„åŸºæœ¬æ–¹æ³•æ˜¯ä½¿ç”¨getResources().openRawResourceæ–¹æ³•è·å¾—res awç›®å½•ä¸­èµ„æºçš„ InputStreamå¯¹è±¡ï¼Œç„¶åå°†è¯¥InputStreamå¯¹è±¡ä¸­çš„æ•°æ®å†™å…¥å…¶ä»–çš„ç›®å½•ä¸­ç›¸åº”æ–‡ä»¶ä¸­ã€‚åœ¨Android SDKä¸­å¯ä»¥ä½¿ç”¨SQLiteDatabase.openOrCreateDatabaseæ–¹æ³•æ¥æ‰“å¼€ä»»æ„ç›®å½•ä¸­çš„SQLiteæ•°æ®åº“æ–‡ä»¶ã€‚18.android ä¸­æœ‰å“ªå‡ ç§è§£æxmlçš„ç±»ï¼Ÿå®˜æ–¹æ¨èå“ªç§ï¼Ÿä»¥åŠå®ƒä»¬çš„åŸç†å’ŒåŒºåˆ«ï¼šç­”ï¼šXMLè§£æä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼ŒSAXã€DOMã€PULLã€‚å¸¸è§„åœ¨PCä¸Šå¼€å‘æˆ‘ä»¬ä½¿ç”¨Domç›¸å¯¹è½»æ¾äº›ï¼Œä½†ä¸€äº›æ€§èƒ½æ•æ„Ÿçš„æ•°æ®åº“æˆ–æ‰‹æœºä¸Šè¿˜æ˜¯ä¸»è¦é‡‡ç”¨SAXæ–¹ å¼ï¼ŒSAXè¯»å–æ˜¯å•å‘çš„ï¼Œä¼˜ç‚¹:ä¸å å†…å­˜ç©ºé—´ã€è§£æå±æ€§æ–¹ä¾¿ï¼Œä½†ç¼ºç‚¹å°±æ˜¯å¯¹äºå¥—åµŒå¤šä¸ªåˆ†æ”¯æ¥è¯´å¤„ç†ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚è€ŒDOMæ–¹å¼ä¼šæŠŠæ•´ä¸ªXMLæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ ä¸­å»ï¼Œè¿™é‡ŒAndroidå¼€å‘ç½‘æé†’å¤§å®¶è¯¥æ–¹æ³•åœ¨æŸ¥æ‰¾æ–¹é¢å¯ä»¥å’ŒXPathå¾ˆå¥½çš„ç»“åˆå¦‚æœæ•°æ®é‡ä¸æ˜¯å¾ˆå¤§æ¨èä½¿ç”¨ï¼Œè€ŒPULLå¸¸å¸¸ç”¨åœ¨J2MEå¯¹äºèŠ‚ç‚¹å¤„ ç†æ¯”è¾ƒå¥½ï¼Œç±»ä¼¼SAXæ–¹å¼ï¼ŒåŒæ ·å¾ˆèŠ‚çœå†…å­˜ï¼Œåœ¨J2MEä¸­æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„KXMLåº“æ¥è§£æã€‚19.DDMSå’ŒTraceViewçš„åŒºåˆ«?ç­”ï¼šDDMSæ˜¯ä¸€ä¸ªç¨‹åºæ‰§è¡ŒæŸ¥çœ‹å™¨ï¼Œåœ¨é‡Œé¢å¯ä»¥çœ‹è§çº¿ç¨‹å’Œå †æ ˆç­‰ä¿¡æ¯ï¼ŒTraceViewæ˜¯ç¨‹åºæ€§èƒ½åˆ†æå™¨20.è°ˆè°ˆAndroidçš„IPCæœºåˆ¶ï¼šç­”ï¼šIPCæ˜¯å†…éƒ¨è¿›ç¨‹é€šä¿¡çš„ç®€ç§°ï¼Œæ˜¯å…±äº«â€å‘½åç®¡é“â€çš„èµ„æºã€‚Androidä¸­çš„IPCæœºåˆ¶æ˜¯ä¸ºäº†è®©Activityå’ŒServiceä¹‹é—´å¯ä»¥éšæ—¶çš„è¿›è¡Œäº¤äº’ï¼Œæ•…åœ¨Androidä¸­è¯¥æœºåˆ¶ï¼Œåªé€‚ç”¨äºActivityå’ŒServiceä¹‹é—´çš„é€šä¿¡ï¼Œç±»ä¼¼äºè¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œç±»ä¼¼äºC/Sæ¨¡å¼çš„è®¿é—®ã€‚é€šè¿‡å®šä¹‰AIDLæ¥å£æ–‡ä»¶æ¥å®šä¹‰IPCæ¥å£ã€‚Servierç«¯å®ç°IPCæ¥å£ï¼ŒClientç«¯è°ƒç”¨IPCæ¥å£æœ¬åœ°ä»£ç†ã€‚21.NDKæ˜¯ä»€ä¹ˆï¼šç­”ï¼šNDKæ˜¯ä¸€ç³»åˆ—å·¥å…·çš„é›†åˆ NDKæä¾›äº†ä¸€ç³»åˆ—çš„å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…è¿…é€Ÿçš„å¼€å‘C/C++çš„åŠ¨æ€åº“ï¼Œå¹¶èƒ½è‡ªåŠ¨å°†soå’Œjavaåº”ç”¨æ‰“æˆapkåŒ… NDKé›†æˆäº†äº¤å‰ç¼–è¯‘å™¨ï¼Œå¹¶æä¾›äº†ç›¸åº”çš„mkæ–‡ä»¶å’Œéš”ç¦»cpuï¼Œå¹³å°ç­‰çš„å·®å¼‚ï¼Œå¼€å‘äººå‘˜åªéœ€ç®€å•çš„ä¿®æ”¹mkæ–‡ä»¶å°±å¯ä»¥åˆ›å»ºå‡ºso22.æè¿°ä¸€ä¸‹androidçš„ç³»ç»Ÿæ¶æ„ï¼šç­”ï¼šandroidç³»ç»Ÿæ¶æ„åˆ†ä»ä¸‹å¾€ä¸Šä¸ºLinuxå†…æ ¸å±‚ã€è¿è¡Œåº“ã€åº”ç”¨ç¨‹åºæ¡†æ¶å±‚å’Œåº”ç”¨ç¨‹åºå±‚ã€‚ Linuxå†…æ ¸å±‚ï¼šè´Ÿè´£ç¡¬ä»¶çš„é©±åŠ¨ç¨‹åºã€ç½‘ç»œã€ç”µæºã€ç³»ç»Ÿå®‰å…¨ä»¥åŠå†…å­˜ç®¡ç†ç­‰åŠŸèƒ½ã€‚è¿è¡Œåº“å’Œandroidruntionï¼šè¿è¡Œåº“ï¼šå³c/c++å‡½æ•°åº“éƒ¨åˆ†ï¼Œå¤§å¤šæ•°éƒ½æ˜¯å¼€æ”¾æºä»£ç çš„å‡½æ•°åº“ï¼Œä¾‹å¦‚webkitï¼Œè¯¥å‡½æ•°åº“è´Ÿè´£androidç½‘é¡µæµè§ˆå™¨çš„è¿è¡Œï¼›ä¾‹å¦‚æ ‡å‡†çš„cå‡½æ•°åº“libcã€opensslã€sqliteç­‰ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬æ”¯æŒæ¸¸æˆå¼€å‘çš„2dsglå’Œ3dopenglesï¼Œåœ¨å¤šåª’ä½“æ–¹é¢æœ‰mediaframeworkæ¡†æ¶æ¥æ”¯æŒå„ç§å½±éŸ³å’Œå›¾å½¢æ–‡ä»¶çš„æ’­æ”¾ä¸æ˜¾ç¤ºï¼Œå¦‚mpeg4ã€h.264ã€mp3ã€aacã€amrã€jpgå’Œpngç­‰ä¼—å¤šçš„å¤šåª’ä½“æ–‡ä»¶æ ¼å¼ã€‚Androidruntionè´Ÿè´£è§£é‡Šå’Œæ‰§è¡Œç”Ÿæˆçš„dalvikæ ¼å¼çš„å­—èŠ‚ç åº”ç”¨è½¯ä»¶æ¶æ„ï¼šjavaåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ä¸»è¦æ˜¯ä½¿ç”¨è¯¥å±‚å°è£…å¥½çš„apiè¿›è¡Œå¿«é€Ÿå¼€å‘çš„ã€‚åº”ç”¨ç¨‹åºå±‚ï¼šè¯¥å±‚æ˜¯javaçš„åº”ç”¨ç¨‹åºå±‚ï¼Œandroidå†…ç½®çš„googlemapsã€emailã€IMã€æµè§ˆå™¨ç­‰ï¼Œéƒ½å¤„äºè¯¥å±‚ï¼Œjavaå¼€å‘äººå‘˜å·¥å‘çš„ç¨‹åºä¹Ÿå¤„äºè¯¥å±‚ï¼Œè€Œä¸”å’Œå†…ç½®çš„åº”ç”¨ç¨‹åºå…·æœ‰å¹³ç­‰çš„åœ°ä½ï¼Œå¯ä»¥è°ƒç”¨å†…ç½®çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ›¿æ¢å†…ç½®çš„åº”ç”¨ç¨‹åº23.Activity ä¸ Taskçš„å¯åŠ¨æ¨¡å¼æœ‰å“ªäº›ï¼Œå®ƒä»¬å«ä¹‰å…·ä½“æ˜¯ä»€ä¹ˆ?ç­”ï¼šåœ¨ä¸€ä¸ªactivityä¸­ï¼Œæœ‰å¤šæ¬¡è°ƒç”¨startActivityæ¥å¯åŠ¨å¦ä¸€ä¸ªactivityï¼Œè¦æƒ³åªç”Ÿæˆä¸€ä¸ªactivityå®ä¾‹ï¼Œå¯ä»¥è®¾ç½®å¯åŠ¨æ¨¡å¼ã€‚ ä¸€ä¸ªactivityæœ‰å››ç§å¯åŠ¨æ¨¡å¼ï¼šstanded,signleTop,singleTask,singleInstance Standed:æ ‡å‡†æ¨¡å¼ï¼Œä¸€è°ƒç”¨startActivity()æ–¹æ³•å°±ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚ SingleTop:å¦‚æœå·²ç»æœ‰ä¸€ä¸ªå®ä¾‹ä½äºactivityæ ˆé¡¶ï¼Œå°±ä¸äº§ç”Ÿæ–°çš„å®ä¾‹ï¼Œè€Œåªæ˜¯è°ƒç”¨activityä¸­çš„newInstance()æ–¹æ³•ã€‚å¦‚æœä¸ä½äºæ ˆé¡¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚ singleTask:ä¼šåœ¨ä¸€ä¸ªæ–°çš„taskä¸­äº§ç”Ÿè¿™ä¸ªå®ä¾‹ï¼Œä»¥åæ¯æ¬¡è°ƒç”¨éƒ½ä¼šä½¿ç”¨è¿™ä¸ªï¼Œä¸ä¼šå»äº§ç”Ÿæ–°çš„å®ä¾‹äº†ã€‚ SingleInstance:è¿™ä¸ªå’ŒsingleTaskåŸºæœ¬ä¸€æ ·ï¼Œåªæœ‰ä¸€ä¸ªåŒºåˆ«ï¼šåœ¨è¿™ä¸ªæ¨¡å¼ä¸‹çš„activityå®ä¾‹æ‰€å¤„çš„taskä¸­ï¼Œåªèƒ½æœ‰è¿™ä¸ªactivityå®ä¾‹ï¼Œä¸èƒ½æœ‰å…¶ä»–å®ä¾‹24.Applicationç±»çš„ä½œç”¨ï¼šç­”ï¼šAPIé‡Œçš„ç¬¬ä¸€å¥æ˜¯ï¼šBase class for those who need to maintain global application state å¦‚æœæƒ³åœ¨æ•´ä¸ªåº”ç”¨ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼Œåœ¨javaä¸­ä¸€èˆ¬æ˜¯ä½¿ç”¨é™æ€å˜é‡ï¼Œpublicç±»å‹ï¼›è€Œåœ¨androidä¸­å¦‚æœä½¿ç”¨è¿™æ ·çš„å…¨å±€å˜é‡å°±ä¸ç¬¦åˆAndroidçš„æ¡†æ¶æ¶æ„ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨Application contextã€‚ é¦–å…ˆéœ€è¦é‡å†™Applicationï¼Œä¸»è¦é‡å†™é‡Œé¢çš„onCreateæ–¹æ³•ï¼Œå°±æ˜¯åˆ›å»ºçš„æ—¶å€™ï¼Œåˆå§‹åŒ–å˜é‡çš„å€¼ã€‚ç„¶ååœ¨æ•´ä¸ªåº”ç”¨ä¸­çš„å„ä¸ªæ–‡ä»¶ä¸­å°±å¯ä»¥å¯¹è¯¥å˜é‡è¿›è¡Œæ“ä½œäº†ã€‚ å¯åŠ¨Applicationæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªPIDï¼Œå³è¿›ç¨‹IDï¼Œæ‰€æœ‰çš„Activityå°±ä¼šåœ¨æ­¤è¿›ç¨‹ä¸Šè¿è¡Œã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨Applicationåˆ›å»ºçš„æ—¶å€™åˆå§‹åŒ–å…¨å±€å˜é‡ï¼ŒåŒä¸€ä¸ªåº”ç”¨çš„æ‰€æœ‰Activityéƒ½å¯ä»¥å–åˆ°è¿™äº›å…¨å±€å˜é‡çš„å€¼ï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬åœ¨æŸä¸€ä¸ªActivityä¸­æ”¹å˜äº†è¿™äº›å…¨å±€å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆåœ¨åŒä¸€ä¸ªåº”ç”¨çš„å…¶ä»–Activityä¸­å€¼å°±ä¼šæ”¹å˜25.è¯´æ˜onSaveInstanceState() å’Œ onRestoreInstanceState()åœ¨ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨ï¼šç­”ï¼šActivityçš„ onSaveInstanceState() å’Œ onRestoreInstanceState()å¹¶ä¸æ˜¯ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå®ƒä»¬ä¸åŒäº onCreate()ã€onPause()ç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šä¼šè¢«è§¦å‘ã€‚å½“åº”ç”¨é‡åˆ°æ„å¤–æƒ…å†µï¼ˆå¦‚ï¼šå†…å­˜ä¸è¶³ã€ç”¨æˆ·ç›´æ¥æŒ‰Homeé”®ï¼‰ç”±ç³»ç»Ÿé”€æ¯ä¸€ä¸ªActivityæ—¶ï¼ŒonSaveInstanceState()æ‰ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯å½“ç”¨æˆ·ä¸»åŠ¨å»é”€æ¯ä¸€ä¸ªActivityæ—¶ï¼Œä¾‹å¦‚åœ¨åº”ç”¨ä¸­æŒ‰è¿”å›é”®ï¼ŒonSaveInstanceState()å°±ä¸ä¼šè¢«è°ƒç”¨ã€‚å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„è¡Œä¸ºå†³å®šäº†ä¸éœ€è¦ä¿å­˜Activityçš„çŠ¶æ€ã€‚é€šå¸¸onSaveInstanceState()åªé€‚åˆç”¨äºä¿å­˜ä¸€äº›ä¸´æ—¶æ€§çš„çŠ¶æ€ï¼Œè€ŒonPause()é€‚åˆç”¨äºæ•°æ®çš„æŒä¹…åŒ–ä¿å­˜ã€‚ å¦å¤–ï¼Œå½“å±å¹•çš„æ–¹å‘å‘ç”Ÿäº†æ”¹å˜ï¼Œ Activityä¼šè¢«æ‘§æ¯å¹¶ä¸”è¢«é‡æ–°åˆ›å»ºï¼Œå¦‚æœä½ æƒ³åœ¨Activityè¢«æ‘§æ¯å‰ç¼“å­˜ä¸€äº›æ•°æ®ï¼Œå¹¶ä¸”åœ¨Activityè¢«é‡æ–°åˆ›å»ºåæ¢å¤ç¼“å­˜çš„æ•°æ®ã€‚å¯ä»¥é‡å†™Activityçš„ onSaveInstanceState() å’Œ onRestoreInstanceState()æ–¹æ³•ã€‚26.androidçš„serviceçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿå“ªä¸ªæ–¹æ³•å¯ä»¥å¤šæ¬¡è¢«è°ƒç”¨ï¼šç­”ï¼š1)ä¸é‡‡ç”¨Context.startService()æ–¹æ³•å¯åŠ¨æœåŠ¡æœ‰å…³çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³• onCreate() -&gt; onStart() -&gt; onDestroy() onCreate()è¯¥æ–¹æ³•åœ¨æœåŠ¡è¢«åˆ›å»ºæ—¶è°ƒç”¨ï¼Œè¯¥æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œæ— è®ºè°ƒç”¨å¤šå°‘æ¬¡startService()æˆ–bindService()æ–¹æ³•ï¼ŒæœåŠ¡ä¹Ÿåªè¢«åˆ›å»ºä¸€æ¬¡ã€‚onStart() åªæœ‰é‡‡ç”¨Context.startService()æ–¹æ³•å¯åŠ¨æœåŠ¡æ—¶æ‰ä¼šå›è°ƒè¯¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•åœ¨æœåŠ¡å¼€å§‹è¿è¡Œæ—¶è¢«è°ƒç”¨ã€‚å¤šæ¬¡è°ƒç”¨startService()æ–¹æ³•å°½ç®¡ä¸ä¼šå¤šæ¬¡åˆ›å»ºæœåŠ¡ï¼Œä½†onStart() æ–¹æ³•ä¼šè¢«å¤šæ¬¡è°ƒç”¨ã€‚onDestroy()è¯¥æ–¹æ³•åœ¨æœåŠ¡è¢«ç»ˆæ­¢æ—¶è°ƒç”¨ã€‚ 2)ä¸é‡‡ç”¨Context.bindService()æ–¹æ³•å¯åŠ¨æœåŠ¡æœ‰å…³çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•onCreate() -&gt; onBind() -&gt; onUnbind() -&gt; onDestroy() onBind()åªæœ‰é‡‡ç”¨Context.bindService()æ–¹æ³•å¯åŠ¨æœåŠ¡æ—¶æ‰ä¼šå›è°ƒè¯¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•åœ¨è°ƒç”¨è€…ä¸æœåŠ¡ç»‘å®šæ—¶è¢«è°ƒç”¨ï¼Œå½“è°ƒç”¨è€…ä¸æœåŠ¡å·²ç»ç»‘å®šï¼Œå¤šæ¬¡è°ƒç”¨Context.bindService()æ–¹æ³•å¹¶ä¸ä¼šå¯¼è‡´è¯¥æ–¹æ³•è¢«å¤šæ¬¡è°ƒç”¨ã€‚onUnbind()åªæœ‰é‡‡ç”¨Context.bindService()æ–¹æ³•å¯åŠ¨æœåŠ¡æ—¶æ‰ä¼šå›è°ƒè¯¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•åœ¨è°ƒç”¨è€…ä¸æœåŠ¡è§£é™¤ç»‘å®šæ—¶è¢«è°ƒç”¨ã€‚å¦‚æœå…ˆé‡‡ç”¨startService()æ–¹æ³•å¯åŠ¨æœåŠ¡,ç„¶åè°ƒç”¨bindService()æ–¹æ³•ç»‘å®šåˆ°æœåŠ¡ï¼Œå†è°ƒç”¨unbindService()æ–¹æ³•è§£é™¤ç»‘å®šï¼Œæœ€åè°ƒç”¨bindService()æ–¹æ³•å†æ¬¡ç»‘å®šåˆ°æœåŠ¡ï¼Œè§¦å‘çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¦‚ä¸‹ï¼šonCreate() -&gt;onStart() -&gt;onBind() -&gt;onUnbind()[é‡è½½åçš„æ–¹æ³•éœ€è¿”å›true] -&gt;onRebind()27.androidçš„broadcastçš„ç”Ÿå‘½å‘¨æœŸï¼šç­”ï¼š1)Broadcast receiverç”Ÿå‘½å‘¨æœŸä¸­ä»…æœ‰ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼švoid onReceive(Context curContext, Intent broadcastMsg)å½“æ¥æ”¶å™¨æ¥æ”¶åˆ°ä¸€æ¡broadcastæ¶ˆæ¯ï¼ŒAndroidå°±ä¼šè°ƒç”¨onReceiver(),å¹¶ä¼ é€’ç»™å®ƒä¸€ä¸ªIntentå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æºå¸¦ç€é‚£æ¡broadcastæ¶ˆæ¯ã€‚æˆ‘ä»¬è®¤ä¸ºä»…å½“æ‰§è¡Œè¿™ä¸ªæ–¹å¼æ—¶ï¼ŒBroadcast receiveræ˜¯æ´»åŠ¨çš„ï¼›è¿™ä¸ªæ–¹æ³•è¿”å›æ—¶ï¼Œå®ƒå°±ç»ˆæ­¢äº†ã€‚è¿™å°±æ˜¯Broadcast receiverçš„ç”Ÿå‘½å‘¨æœŸã€‚ 2)ç”±äºBroadcast receiverçš„ç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­ï¼Œä¸€ä¸ªå¸¦æœ‰æ´»åŠ¨çš„Broadcast receiverçš„è¿›ç¨‹æ˜¯å—ä¿æŠ¤çš„ï¼Œä»¥é¿å…è¢«å¹²æ‰ï¼›ä½†æ˜¯åˆ«å¿˜äº†æœ‰ä¸€ç‚¹ï¼ŒAndroidä¼šåœ¨ä»»æ„æ—¶åˆ»å¹²æ‰é‚£äº›æºå¸¦ä¸å†æ´»åŠ¨çš„ç»„ä»¶çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å¾ˆå¯èƒ½ä¼šé€ æˆè¿™ä¸ªé—®é¢˜ã€‚ 3)è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ¡ˆé‡‡ç”¨ä¸€ä¸ªServiceæ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼ŒAndroidä¼šè®¤ä¸ºé‚£ä¸ªè¿›ç¨‹ä¸­ï¼ˆServiceæ‰€åœ¨çš„è¿›ç¨‹ï¼‰ä»ç„¶æœ‰åœ¨æ´»åŠ¨çš„ç»„ä»¶ã€‚28.android viewï¼Œsurfaceviewï¼Œglsurfaceviewçš„åŒºåˆ«ï¼šç­”ï¼šSurfaceViewæ˜¯ä»ViewåŸºç±»ä¸­æ´¾ç”Ÿå‡ºæ¥çš„æ˜¾ç¤ºç±»ï¼Œç›´æ¥å­ç±»æœ‰GLSurfaceViewå’ŒVideoViewï¼Œå¯ä»¥çœ‹å‡ºGLå’Œè§†é¢‘æ’­æ”¾ä»¥åŠCameraæ‘„åƒå¤´ä¸€èˆ¬å‡ä½¿ç”¨SurfaceViewSurfaceViewå’ŒViewæœ€æœ¬è´¨çš„åŒºåˆ«åœ¨äºï¼ŒsurfaceViewæ˜¯åœ¨ä¸€ä¸ªæ–°èµ·çš„å•ç‹¬çº¿ç¨‹ä¸­å¯ä»¥é‡æ–°ç»˜åˆ¶ç”»é¢è€ŒViewå¿…é¡»åœ¨UIçš„ä¸»çº¿ç¨‹ä¸­æ›´æ–°ç”»é¢ã€‚é‚£ä¹ˆåœ¨UIçš„ä¸»çº¿ç¨‹ä¸­æ›´æ–°ç”»é¢ å¯èƒ½ä¼šå¼•å‘é—®é¢˜ï¼Œæ¯”å¦‚ä½ æ›´æ–°ç”»é¢çš„æ—¶é—´è¿‡é•¿ï¼Œé‚£ä¹ˆä½ çš„ä¸»UIçº¿ç¨‹ä¼šè¢«ä½ æ­£åœ¨ç”»çš„å‡½æ•°é˜»å¡ã€‚é‚£ä¹ˆå°†æ— æ³•å“åº”æŒ‰é”®ï¼Œè§¦å±ç­‰æ¶ˆæ¯ã€‚å½“ä½¿ç”¨surfaceView ç”±äºæ˜¯åœ¨æ–°çš„çº¿ç¨‹ä¸­æ›´æ–°ç”»é¢æ‰€ä»¥ä¸ä¼šé˜»å¡ä½ çš„UIä¸»çº¿ç¨‹ã€‚ä½†è¿™ä¹Ÿå¸¦æ¥äº†å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯äº‹ä»¶åŒæ­¥ã€‚æ¯”å¦‚ä½ è§¦å±äº†ä¸€ä¸‹ï¼Œä½ éœ€è¦surfaceViewä¸­threadå¤„ç†ï¼Œä¸€èˆ¬å°±éœ€è¦æœ‰ä¸€ä¸ªevent queueçš„è®¾è®¡æ¥ä¿å­˜touch eventï¼Œè¿™ä¼šç¨ç¨å¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºæ¶‰åŠåˆ°çº¿ç¨‹åŒæ­¥ã€‚ æ‰€ä»¥åŸºäºä»¥ä¸Šï¼Œæ ¹æ®æ¸¸æˆç‰¹ç‚¹ï¼Œä¸€èˆ¬åˆ†æˆä¸¤ç±»ã€‚ 1)è¢«åŠ¨æ›´æ–°ç”»é¢çš„ã€‚æ¯”å¦‚æ£‹ç±»ï¼Œè¿™ç§ç”¨viewå°±å¥½äº†ã€‚å› ä¸ºç”»é¢çš„æ›´æ–°æ˜¯ä¾èµ–äº onTouch æ¥æ›´æ–°ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ invalidateã€‚ å› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸€æ¬¡Touchå’Œä¸‹ä¸€æ¬¡çš„Touchéœ€è¦çš„æ—¶é—´æ¯”è¾ƒé•¿äº›ï¼Œä¸ä¼šäº§ç”Ÿå½±å“ã€‚ 2)ä¸»åŠ¨æ›´æ–°ã€‚æ¯”å¦‚ä¸€ä¸ªäººåœ¨ä¸€ç›´è·‘åŠ¨ã€‚è¿™å°±éœ€è¦ä¸€ä¸ªå•ç‹¬çš„threadä¸åœçš„é‡ç»˜äººçš„çŠ¶æ€ï¼Œé¿å…é˜»å¡main UI threadã€‚æ‰€ä»¥æ˜¾ç„¶viewä¸åˆé€‚ï¼Œéœ€è¦surfaceViewæ¥æ§åˆ¶ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"Java","slug":"Java","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Java/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android Studio---å®šåˆ¶å±äºè‡ªå·±çš„æ³¨è§£æ¨¡æ¿","slug":"Android-Studio-å®šåˆ¶å±äºè‡ªå·±çš„æ³¨è§£æ¨¡æ¿","date":"2016-04-18T14:43:46.000Z","updated":"2018-01-16T02:13:40.426Z","comments":true,"path":"2016/04/18/Android-Studio-å®šåˆ¶å±äºè‡ªå·±çš„æ³¨è§£æ¨¡æ¿/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/18/Android-Studio-å®šåˆ¶å±äºè‡ªå·±çš„æ³¨è§£æ¨¡æ¿/","excerpt":"","text":"ç›¸ä¿¡å¤§å®¶éƒ½å¾ˆå–œæ¬¢ç”¨æ³¨è§£è¿™ä¸ªåŠŸèƒ½å§ï¼Œä»Šå¤©å°±ä»‹ç»ä¸‹å¦‚ä½•åœ¨Android Studioä¸­å®šåˆ¶å±äºè‡ªå·±çš„æ³¨è§£æ¨¡æ¿å§ï¼š1ã€æ‰“å¼€Android Studioçš„Settingsï¼Œè®¾ç½®å›¾å¦‚ä¸‹ï¼š2ã€3ã€4ã€5ã€6ã€ä¸Šè¿°è®¾ç½®å®Œæ¯•å°±å¯ä»¥ä¿å­˜ä½¿ç”¨äº†ï¼Œåœ¨å‡½æ•°ä¸Šæ–¹ç›´æ¥è¾“å¦‚ccå°±å¯ä»¥å¿«é€Ÿæ³¨è§£äº†ã€‚ æˆ‘çš„è‡ªå®šä¹‰ä»£ç ï¼š 12345/** *$desc$ *@auther css *created at $date$ $time$ */ Over","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"AndroidStudio","slug":"AndroidStudio","permalink":"https://github.com/smartsean/smartsean.github.io/tags/AndroidStudio/"},{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Androidå¼‚å¸¸ï¼šServiceConnection æ³„éœ²","slug":"Androidå¼‚å¸¸ï¼šServiceConnection-æ³„éœ²","date":"2016-04-18T06:35:34.000Z","updated":"2018-01-16T02:12:12.834Z","comments":true,"path":"2016/04/18/Androidå¼‚å¸¸ï¼šServiceConnection-æ³„éœ²/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/18/Androidå¼‚å¸¸ï¼šServiceConnection-æ³„éœ²/","excerpt":"","text":"å†™äº†ä¸ªserviceï¼Œç”¨æ¥æ’­æ”¾æç¤ºéŸ³ï¼Œå½“ç”¨æˆ·æ²¡æœ‰å»å¤„ç†å¹¶ä¸”æç¤ºéŸ³æ’­æ”¾å®Œæ¯•çš„æ—¶å€™ï¼Œå‘é€ä¸€æ¡Notificationæ‰§è¡ŒonDestory()æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ç›´æ¥é”€æ¯çš„æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨unbindServiceå»é‡Šæ”¾æœåŠ¡è¿æ¥ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç° ServiceConnection æ³„éœ²çš„æƒ…å†µï¼Œè™½ç„¶è¯´ä¸ä¼šå½±å“ç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯è¿˜æ˜¯è§£å†³æ‰æ¯”è¾ƒå¥½ã€‚ è§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨unbindService è§£é™¤ç»‘å®šï¼Œé™äºæˆ‘çš„ç‰¹å®šæƒ…å†µï¼Œæˆ‘åœ¨Activityä¸­åŠ¨æ€æ³¨å†Œäº†ä¸€ä¸ªå¹¿æ’­æ¥æ”¶å™¨ï¼Œç„¶ååœ¨Serviceä¸­å½“æç¤ºéŸ³æ’­æ”¾å®Œæ¯•çš„æ—¶å€™å‘é€ä¸€æ¡å¹¿æ’­ï¼Œåœ¨Activityä¸­æ¥æ”¶ï¼Œè§£é™¤å’ŒServiceçš„ç»‘å®šã€‚ æœ‰æ—¶é—´æŠŠæ•´ä¸ªç¨‹åºå¼„åˆ°åšå®¢ä¸Šæ¥åšä¸ªè®°å½•ã€‚//TODO 123456789101112131415161718192021222304-18 11:01:02.270 440-440/css.alarm.com.alarmdemo E/ActivityThread: Activity css.alarm.com.alarmdemo.PlayAlarmActivity has leaked ServiceConnection css.alarm.com.alarmdemo.PlayAlarmActivity$1@42efa448 that was originally bound here android.app.ServiceConnectionLeaked: Activity css.alarm.com.alarmdemo.PlayAlarmActivity has leaked ServiceConnection css.alarm.com.alarmdemo.PlayAlarmActivity$1@42efa448 that was originally bound here at android.app.LoadedApk$ServiceDispatcher.&lt;init&gt;(LoadedApk.java:979) at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:873) at android.app.ContextImpl.bindServiceAsUser(ContextImpl.java:1833) at android.app.ContextImpl.bindService(ContextImpl.java:1821) at android.content.ContextWrapper.bindService(ContextWrapper.java:503) at css.alarm.com.alarmdemo.PlayAlarmActivity.initView(PlayAlarmActivity.java:153) at css.alarm.com.alarmdemo.PlayAlarmActivity.onCreate(PlayAlarmActivity.java:47) at android.app.Activity.performCreate(Activity.java:5372) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1104) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2257) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2349) at android.app.ActivityThread.access$700(ActivityThread.java:159) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1316) at android.os.Handler.dispatchMessage(Handler.java:99) at android.os.Looper.loop(Looper.java:176) at android.app.ActivityThread.main(ActivityThread.java:5419) at java.lang.reflect.Method.invokeNative(Native Method) at java.lang.reflect.Method.invoke(Method.java:525) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1209) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1025) at dalvik.system.NativeStart.main(Native Method)","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Androidç»„ä»¶ä¹‹æœåŠ¡---Service","slug":"Androidç»„ä»¶ä¹‹æœåŠ¡-Service","date":"2016-04-17T11:44:33.000Z","updated":"2018-01-16T02:12:15.411Z","comments":true,"path":"2016/04/17/Androidç»„ä»¶ä¹‹æœåŠ¡-Service/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/17/Androidç»„ä»¶ä¹‹æœåŠ¡-Service/","excerpt":"","text":"â€”ä»Šå¤©åœ¨åšæ¯•è®¾çš„æ—¶å€™éœ€è¦ç”¨åˆ°æ’­æ”¾æç¤ºéŸ³ï¼Œæƒ³äº†æƒ³ï¼Œå½“éœ€è¦æç¤ºçš„æ—¶å€™æ–°å»ºä¸€ä¸ªServiceæ¥æ’­æ”¾æç¤ºéŸ³æ¯”è¾ƒå¥½ï¼Œè€Œä¸”å¯ä»¥åœ¨å“åº”äº‹ä»¶ä¸­æ§åˆ¶æç¤ºéŸ³çš„æ’­æ”¾ï¼Œå°±å…ˆä¸“é—¨å¼„äº†ä¸ªå°çš„ä¾‹å­æ¥ç»ƒä¸‹æ‰‹ï¼Œäºæ˜¯ä¿®æ”¹äº†ä¸‹ä¹‹å‰å…¥é—¨Serviceæ—¶å€™å†™çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªç®€æ˜“çš„éŸ³ä¹æ’­æ”¾ã€‚ï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯MediaPlayerï¼Œå¦‚æœæ˜¯è¾ƒçŸ­æç¤ºéŸ³çš„è¯ä½¿ç”¨SoundPoolæ¯”è¾ƒå¥½ï¼‰ ä»€ä¹ˆæ˜¯æœåŠ¡ï¼š æœåŠ¡æ˜¯Androidä¸­å®ç°ç¨‹åºåå°è¿è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒéå¸¸é€‚åˆç”¨äºå»æ‰§è¡Œå“ªäº›ä¸éœ€è¦å’Œç”¨æˆ·äº¤äº’è€Œä¸”è¿˜è¦æ±‚é•¿æœŸè¿è¡Œçš„ä»»åŠ¡ï¼ŒæœåŠ¡ä¸ä¾èµ–äºä»»ä½•ç•Œé¢ï¼Œå³ä½¿å½“ç¨‹åºè¢«åˆ‡æ¢åˆ°åå°ï¼Œæˆ–è€…æ‰“å¼€äº†å¦å¤–ä¸€ä¸ªç¨‹åºï¼ŒæœåŠ¡ä»ç„¶èƒ½å¤Ÿä¿æŒæ­£å¸¸è¿è¡Œï¼ŒæœåŠ¡çš„ä¼˜å…ˆçº§æ˜¯é«˜äºActivityçš„ï¼Œå¦å¤–æœåŠ¡ä½œä¸ºå››å¤§ç»„ä»¶ï¼Œåœ¨æ–°å»ºçš„æ—¶å€™ä¸€å®šè¦åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­è¿›è¡Œæ³¨å†Œæ‰èƒ½ä½¿ç”¨ã€‚æœåŠ¡è¿è¡Œç¯å¢ƒï¼š æœåŠ¡ä¸æ˜¯ç‹¬ç«‹è¿è¡Œåœ¨è¿›ç¨‹ä¸­çš„ï¼Œè€Œæ˜¯ä¾èµ–äºåˆ›å»ºè¯¥æœåŠ¡æ—¶æ‰€åœ¨çš„åº”ç”¨ç¨‹åºè¿›ç¨‹ï¼Œå½“æŸä¸ªåº”ç”¨ç¨‹åºè¢«æ€æ‰æ—¶ï¼Œæ‰€ä¾èµ–äºè¿™ä¸ªè¿›ç¨‹çš„æœåŠ¡ä¹Ÿä¼šè¢«åœæ­¢ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæœåŠ¡ä¸ä¼šè‡ªå·±å¼€å¯çº¿ç¨‹ï¼Œæ‰€æœ‰çš„ä»£ç éƒ½æ˜¯é»˜è®¤è¿è¡Œåœ¨ä¸»çº¿ç¨‹å½“ä¸­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡çš„å†…éƒ¨æ‰‹åŠ¨åˆ›å»ºå­çº¿ç¨‹ï¼Œå¹¶åœ¨å…¶ä¸­æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡ï¼Œè´Ÿè´£å°±å¯èƒ½å‡ºç°å­çº¿ç¨‹è¢«é˜»å¡çš„æƒ…å†µï¼Œå¯ä»¥ç”¨å¤šçº¿ç¨‹ç¼–ç¨‹è§£å†³ï¼ŒAndroidä¸“é—¨ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç±»---IntentServiceï¼Œå¯ä»¥åˆ›å»ºå¼‚æ­¥çš„ã€å¯è‡ªåŠ¨åœæ­¢è¿è¡Œçš„æœåŠ¡ã€‚ å¸¸è§çš„æœåŠ¡ç”¨é€”ï¼šåå°æ”¾éŸ³ä¹ï¼Œåå°è®°å½•åœ°ç†ä½ç½®çš„æ”¹å˜ï¼Œç›‘å¬ç¨‹åºåŠ¨ä½œ å¸¸è§ä½¿ç”¨æœåŠ¡çš„æ–¹å¼ï¼š ä¸å’ŒActivityç»‘å®š å¯åŠ¨ï¼šstartService(Intentå®ä¾‹);Intent intent1 = new Intent(MainActivity.this,MyStartService.class);startService(intent1); å…³é—­ï¼šstopService(Intentå®ä¾‹);stopService(intent1); å¯åŠ¨å’Œå…³é—­çš„æ—¶å€™Intentå®ä¾‹å¿…é¡»æ˜¯åŒä¸€ä¸ªï¼Œä¸ç„¶ä¸èƒ½åœæ­¢æœåŠ¡ï¼› å’ŒActivityç»‘å®šå®ŒæˆActivityå’ŒServiceé—´çš„é€šä¿¡ å¯åŠ¨ï¼šbindService(Intentå®ä¾‹,ServiceConnectionå®ä¾‹,BIND_AUTO_CREATE);Intent intent2 = new Intent(MainActivity.this,MyBindService.class);bindService(intent2, conn, BIND_AUTO_CREATE); å…³é—­ï¼šunbindService(conn);unbindService(conn); connæ˜¯ServiceConnectionå®ä¾‹çš„å®ä¾‹ï¼Œå¾…ä¼šåœ¨ä»£ç ä¸­ç»™å‡º,éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦æ´»Serviceè‡ªåŠ¨å…³é—­ï¼Œä¸Šé¢ä¸¤ç§éƒ½å¯ä»¥ä½¿ç”¨stopSelf();ä½†æ˜¯å¦‚æœæ—¢ä½¿ç”¨äº†startServiceåˆä½¿ç”¨äº†bingServiceçš„è¯ï¼Œå°±è¦åŒæ—¶è°ƒç”¨stopServiceå’ŒubBindServiceæ–¹æ³•æ‰èƒ½ä½¿æœåŠ¡çš„onDestory()æ‰§è¡Œï¼› ä»Šå¤©æ­£å¥½ç”¨åˆ°ä¸‹é¢é€šè¿‡ä¸€ä¸ªå°çš„ç®€æ˜“éŸ³ä¹æ’­æ”¾æ¥æ¼”ç¤ºä¸‹Activityå’ŒServiceä¹‹é—´çš„é€šä¿¡ï¼šä¸»è¦åˆ©ç”¨æœåŠ¡ä¸­çš„onBindæ–¹æ³•ï¼Œæ–°å»ºä¸€ä¸ªä¸“é—¨çš„Binderå¯¹è±¡è¿›è¡Œé€šä¿¡ã€‚1ã€å»ºä¸€ä¸ªæœåŠ¡ï¼Œç”¨æ¥å®šä¹‰ä¸€äº›æ’­æ”¾çš„æ“ä½œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116package com.service.css.servicedemo;import android.app.Service;import android.content.Intent;import android.media.MediaPlayer;import android.os.Binder;import android.os.IBinder;import android.support.annotation.Nullable;import android.util.Log;import java.io.IOException;/** * Created by css on 2016/3/29. */public class MyBindService extends Service implements MediaPlayer.OnCompletionListener&#123; private MediaPlayer mediaPlayer; //å®ç°MediaPlayer.OnCompletionListeneræ¥å£çš„æ–¹æ³• @Override public void onCompletion(MediaPlayer mp) &#123; stopSelf(); &#125; //æ–°å»ºç±»åŒäºå›è°ƒ public class MyBinder extends Binder &#123; public MyBindService getService() &#123; //è·å¾—MyBindServiceï¼Œå¯ä»¥æ‰§è¡Œå®ƒçš„æ–¹æ³• return MyBindService.this; &#125; &#125; //ç”¨äºä¼ é€Binderå¯¹è±¡ç»™Activity @Nullable @Override public IBinder onBind(Intent intent) &#123; Log.d(&quot;TAG&quot;, &quot;è¿™é‡Œæ˜¯ onBind&quot;); return new MyBinder(); &#125; //åˆå§‹åŒ–çš„æ—¶å€™ä½¿ç”¨ï¼Œå¯¹æ­¤ç»‘å®šåªæ‰§è¡Œä¸€æ¬¡ @Override public void onCreate() &#123; Log.d(&quot;TAG&quot;,&quot;è¿™é‡Œæ˜¯ onCreate&quot;); mediaPlayer = MediaPlayer.create(this, R.raw.alarm); mediaPlayer.setOnCompletionListener(this); //å¼€å§‹éœ‡åŠ¨// vibrator = (Vibrator) getApplicationContext().getSystemService(Service.VIBRATOR_SERVICE); super.onCreate(); &#125; //åˆå§‹åŒ–çš„æ—¶å€™ä½¿ç”¨ï¼Œå¯¹æ­¤ç»‘å®šæ‰§è¡Œå¤šæ¬¡ï¼Œ @Override public int onStartCommand(Intent intent, int flags, int startId) &#123; if(!mediaPlayer.isPlaying())&#123; mediaPlayer.start(); &#125; return START_STICKY; &#125; //è§£ç»‘å®šçš„æ—¶å€™æ‰§è¡Œçš„æ–¹æ³• @Override public boolean onUnbind(Intent intent) &#123; Log.d(&quot;TAG&quot;, &quot;è¿™é‡Œæ˜¯ onUnbind&quot;); return super.onUnbind(intent); &#125; //é‡å†™onDestroyæ–¹æ³• @Override public void onDestroy() &#123; Log.d(&quot;TAG&quot;, &quot;è¿™é‡Œæ˜¯ onDestroy&quot;); //åœæ­¢ if(mediaPlayer.isPlaying())&#123; mediaPlayer.stop(); &#125; //é‡Šæ”¾ mediaPlayer.release(); super.onDestroy(); &#125; //æ’­æ”¾ public void play() &#123; Log.d(&quot;TAG&quot;, &quot;æ’­æ”¾&quot;); //å¦‚æœä¸æ­£åœ¨æ’­æ”¾ï¼Œåˆ™å¼€å§‹æ’­æ”¾ if(!mediaPlayer.isPlaying())&#123; mediaPlayer.start(); &#125; &#125; //æš‚åœ public void pause() &#123; Log.d(&quot;TAG&quot;, &quot;æš‚åœ&quot;); //æš‚åœæ’­æ”¾ï¼Œä¸‹æ¬¡ç‚¹å‡»æ’­æ”¾å¯ä»¥æ¥ç€æš‚åœçš„åœ°æ–¹æ’­æ”¾ mediaPlayer.pause(); &#125; //åœæ­¢ public void stop() &#123; Log.d(&quot;TAG&quot;, &quot;åœæ­¢&quot;); //å¦‚æœä¸ä¸ºç©ºï¼Œåœæ­¢ if (mediaPlayer != null) &#123; mediaPlayer.stop(); try &#123; mediaPlayer.prepare();//stopåä¸‹æ¬¡é‡æ–°æ’­æ”¾è¦é¦–å…ˆè¿›å…¥preparedçŠ¶æ€ mediaPlayer.seekTo(0);//é¡»å°†æ’­æ”¾æ—¶é—´è®¾ç½®åˆ°0ï¼›è¿™æ ·æ‰èƒ½åœ¨ä¸‹æ¬¡æ’­æ”¾æ˜¯é‡æ–°å¼€å§‹ï¼Œå¦åˆ™ä¼šç»§ç»­ä¸Šæ¬¡æ’­æ”¾ &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; 2ã€ä¸»Activityä¸­çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package com.service.css.servicedemo;import android.app.Activity;import android.content.ComponentName;import android.content.Intent;import android.content.ServiceConnection;import android.os.Bundle;import android.os.IBinder;import android.util.Log;import android.view.View;public class MainActivity extends Activity &#123; private MyBindService myBindService; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); &#125; //ä½¿ç”¨ServiceConnectionï¼Œåœ¨Activityå’ŒServiceè¿æ¥ã€æ–­å¼€çš„æ—¶å€™æ‰§è¡Œæ“ä½œï¼› ServiceConnection conn = new ServiceConnection() &#123; //è¿æ¥æ‰§è¡Œçš„æ“ä½œ @Override public void onServiceConnected(ComponentName name, IBinder service) &#123; Log.d(&quot;TAG&quot;,&quot;service is onServiceConnected!&quot;); myBindService = ((MyBindService.MyBinder)service).getService(); &#125; //æ–­å¼€æ‰§è¡Œçš„æ“ä½œ @Override public void onServiceDisconnected(ComponentName name) &#123; Log.d(&quot;TAG&quot;,&quot;service is onServiceDisconnected!&quot;); &#125; &#125;; //å¤„ç†Buttonçš„ç‚¹å‡»äº‹ä»¶(åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æŒ‡å®šäº†onClickå±æ€§) public void doClick(View v) &#123; switch(v.getId()) &#123; //Activityå’ŒServiceç»‘å®š case R.id.bind: Intent intent2 = new Intent(MainActivity.this,MyBindService.class); bindService(intent2, conn, BIND_AUTO_CREATE); break; //æ’­æ”¾æ“ä½œ case R.id.play: myBindService.play(); break; //æš‚åœæ“ä½œ case R.id.pause: myBindService.pause(); break; //åœæ­¢æ“ä½œ case R.id.stop: myBindService.stop(); break; //è§£ç»‘å®šæ“ä½œ case R.id.unbind: unbindService(conn); myBindService = null; break; &#125; &#125;&#125; å¯¹äº†ï¼Œä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨Activityç»‘å®šServiceçš„æ“ä½œå¯ä»¥åœ¨Activityçš„onCreateæ–¹æ³•ä¸­ç›´æ¥è¿›è¡Œï¼Œä½†æ˜¯å¦‚æœæƒ³è¦åœ¨Activityä¸­æ’­æ”¾éŸ³ä¹çš„è¯ï¼Œä¸èƒ½æŠŠä¸Šé¢çš„myBindService.play();å†™åœ¨onCreateæˆ–è€…onResumeä¸­ã€‚ æºç ","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Androidéœ‡åŠ¨---å¯åŠ¨ã€å¾ªç¯ã€å–æ¶ˆæ§åˆ¶","slug":"Androidéœ‡åŠ¨-å¯åŠ¨ã€å¾ªç¯ã€å–æ¶ˆæ§åˆ¶","date":"2016-04-16T07:17:00.000Z","updated":"2018-01-16T02:12:15.410Z","comments":true,"path":"2016/04/16/Androidéœ‡åŠ¨-å¯åŠ¨ã€å¾ªç¯ã€å–æ¶ˆæ§åˆ¶/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/16/Androidéœ‡åŠ¨-å¯åŠ¨ã€å¾ªç¯ã€å–æ¶ˆæ§åˆ¶/","excerpt":"","text":"ä»Šå¤©åœ¨åšé—¹é’ŸDemoçš„æ—¶å€™ï¼Œæƒ³åŠ ä¸Šé—¹é’Ÿåˆ°æœŸæé†’çš„æ—¶å€™å®ç°éœ‡åŠ¨åŠŸèƒ½ï¼Œå°±ä¸Šç½‘å¤§æ¦‚æŸ¥äº†ä¸‹Androidä¸­éœ‡åŠ¨çš„ç›¸å…³èµ„æ–™ï¼Œæ€»ä½“æ¥è¯´è¿˜æ˜¯è›®ç®€å•çš„ã€‚ Androidä¸­çš„Vibrator ç±»è´Ÿè´£å¯¹æ‰‹æœºéœ‡åŠ¨çš„å¤„ç† å¯¼åŒ…ï¼šimport android.os.Vibrator;åŠ æƒé™ï¼š&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt; å…ˆå¤§æ¦‚ä»‹ç»ä¸‹å¸¸ç”¨çš„å‡ ä¸ªæ–¹æ³•ï¼š æ–¹æ³• æè¿° public void cancel() å–æ¶ˆéœ‡åŠ¨ public boolean hasVibrator() åˆ¤æ–­å½“å‰æ˜¯å¦åœ¨éœ‡åŠ¨ public void vibrate(long[] pattern, int repeat) è®¾ç½®éœ‡åŠ¨å‘¨æœŸï¼Œå¦‚æœrepeatä¸º-1åˆ™ä¸å¾ªç¯éœ‡åŠ¨ï¼Œ0è¡¨ç¤ºä¸€ç›´éœ‡åŠ¨ public void vibrate(long milliseconds) æ‰“å¼€éœ‡åŠ¨ï¼Œè®¾ç½®éœ‡åŠ¨æ—¶é•¿ï¼Œ1000ä¸º1ç§’ 1ã€é¦–å…ˆè¦è·å–åˆ°Vibratorçš„å®ä¾‹ï¼Œè¿™ä¸ªå’Œè·å–AlarmMangeræ¯”è¾ƒç±»ä¼¼ï¼Œè·å–ç³»ç»ŸæœåŠ¡ï¼Œä»£ç å¦‚ä¸‹ï¼š 12private Vibrator vibrator=null;vibrator = ( Vibrator ) getApplication().getSystemService(Service.VIBRATOR_SERVICE); 2ã€å¼€å¯éœ‡åŠ¨ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªæ–¹å¼ï¼Œåœ¨ä¸Šé¢ç»™å‡ºï¼Œä¸€ä¸ªå‚æ•°ï¼ˆä¸èƒ½è®¾ç½®å¾ªç¯ï¼‰ã€å¤šä¸ªå‚æ•°ï¼ˆå¯è®¾ç½®å¾ªç¯ï¼‰ 1vibrator.vibrate(1000);//éœ‡åŠ¨ä¸€ç§’ 12//longå‹æ•°ç»„å†…çš„æ•°ç»„ä¾æ¬¡è¡¨ç¤ºï¼šç­‰å¾…1ç§’ã€éœ‡åŠ¨2ç§’ã€ç­‰å¾…3ç§’ã€éœ‡åŠ¨4ç§’ï¼Œ0è¡¨ç¤ºæ— é™å¾ªç¯longå‹æ•°ç»„å†…å®šä¹‰çš„éœ‡åŠ¨è§„åˆ™ï¼›å¦‚æœæ˜¯-1åˆ™è¡¨ç¤ºä¸å¾ªç¯éœ‡åŠ¨vibrator.vibrate( new long[]&#123;1000,2000,3000,4000&#125;,0); éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä¸ç®¡åè¾¹çš„æ˜¯0ã€1ã€2ã€3ç­‰ï¼Œéƒ½ä¼šå…ˆæŠŠLongå‹æ•°ç»„å†…çš„éœ‡åŠ¨æ¨¡å¼æ‰§è¡Œä¸€éï¼Œä¹‹åï¼Œå¦‚æœæ˜¯2ï¼Œåˆ™è¡¨ç¤ºæŠŠç¬¬ä¸€éæ‰§è¡Œå®Œä¹‹åæŠŠ1000ç§»é™¤ï¼Œå¾ªç¯{2000,3000,4000}è¿™æ ·ï¼Œåªä¸è¿‡æ˜¯æ¨¡å¼å˜ä¸ºéœ‡åŠ¨ã€ç­‰å¾…ã€éœ‡åŠ¨ã€‚ã€‚ã€‚ 3ã€å–æ¶ˆéœ‡åŠ¨ 12//å–æ¶ˆè¯¥å®ä¾‹çš„éœ‡åŠ¨vibrator.cancel(); æœ€åå¤§å®¶ä¸è¦å¿˜äº†åŠ ä¸Šç›¸åº”çš„æƒé™ï¼Œè¿˜æœ‰è®°å¾—è¿è¡Œçš„æ—¶å€™ä¸è¦å¿˜äº†åœ¨çœŸæœºä¸Šè¿è¡Œï¼Œæ¨¡æ‹Ÿå™¨ä¸æ”¯æŒéœ‡åŠ¨ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android res/raw å’Œ assets ä½¿ç”¨","slug":"Android-res-raw-å’Œ-assets-ä½¿ç”¨","date":"2016-04-10T14:42:49.000Z","updated":"2018-01-16T02:12:15.409Z","comments":true,"path":"2016/04/10/Android-res-raw-å’Œ-assets-ä½¿ç”¨/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/10/Android-res-raw-å’Œ-assets-ä½¿ç”¨/","excerpt":"","text":"ä»Šå¤©åœ¨ç ”ç©¶é€šçŸ¥æ çš„æ—¶å€™ï¼Œä¸æƒ³ç”¨ç³»ç»Ÿé»˜è®¤çš„æç¤ºéŸ³ï¼Œå°±æƒ³ç€è‡ªå®šä¹‰æç¤ºéŸ³ï¼Œäº†è§£åˆ°å¯ä»¥å¯ä»¥åœ¨é¡¹ç›®ä¸­æ·»åŠ rawæ–‡ä»¶å¤¹æˆ–è€…assetsæ–‡ä»¶å¤¹æ¥å­˜æ”¾éŸ³é¢‘ï¼Œä½¿ç”¨rawçš„è¯æ˜¯æ”¾åœ¨resä¸‹é¢çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç›´æ¥ç”¨è¿‡R.raw.xxx.mp3ï¼Œè·å–åˆ°è¯¥éŸ³é¢‘ã€‚æ³¨æ„ï¼šä½†æ˜¯è¯¥æ–‡ä»¶å¤¹ä¸‹çš„éŸ³é¢‘ä¼šè¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥æ‰“å¼€ éŸ³é¢‘å…·ä½“çš„æ–°å»ºæ–¹æ³•ï¼š ä¸‹é¢æ˜¯ä»£ç ï¼Œè¯´æ˜ä¸‹ï¼Œæˆ‘æ˜¯ä¸ºäº†å›¾æ–¹ä¾¿ç›´æ¥åœ¨BroadcastReceiverçš„onReceiveæ–¹æ³•é‡Œé¢å‘é€Notificationçš„ï¼Œæœ€å¥½ä¸è¦åœ¨onReceiveæ–¹æ³•é‡Œé¢åšè€—æ—¶æ“ä½œã€‚ 1234567891011121314151617181920212223242526272829public class Receiver1 extends BroadcastReceiver &#123; NotificationManager manager; int notificationId = 0; @Override public void onReceive(Context context, Intent intent) &#123; Intent intent1 = new Intent(context,MainActivity.class);//å¯åŠ¨Activityçš„Intent PendingIntent pintent = PendingIntent.getActivity(context,0,intent1,0); Notification.Builder builder = new Notification.Builder(context); builder.setSmallIcon(R.mipmap.ic_launcher); builder.setTicker(&quot;Hello&quot;);//æ‰‹æœºçŠ¶æ€æ çš„æç¤º builder.setWhen(System.currentTimeMillis());//è®¾ç½®æ—¶é—´ builder.setContentTitle(&quot;é€šçŸ¥æ é€šçŸ¥&quot;); builder.setContentText(&quot;ç»ƒä¹ Notification&quot;); builder.setContentIntent(pintent);//ç‚¹å‡»ä¹‹åçš„æ„å›¾ builder.setSound(Uri.parse(&quot;android.resource://&quot; + context.getPackageName() + &quot;/&quot;+R.raw.sound));//è‡ªå®šä¹‰å£°éŸ³// builder.setDefaults(Notification.DEFAULT_SOUND);//è®¾ç½®å£°éŸ³ builder.setDefaults(Notification.DEFAULT_LIGHTS);//è®¾ç½®æŒ‡ç¤ºç¯ï¼Œï¼Œï¼Œï¼Œï¼ŒæŒ‡ç¤ºç¯ä¸ªéœ‡åŠ¨éƒ½éœ€è¦é…ç½®æƒé™ builder.setDefaults(Notification.DEFAULT_VIBRATE);//è®¾ç½®éœ‡åŠ¨æ•ˆæœ// builder.setDefaults(Notification.DEFAULT_ALL);//è®¾ç½®ä¸Šé¢çš„ä¸‰ç§æ•ˆæœ //Android4.1ä»¥ä¸Šçš„ç‰ˆæœ¬ç”¨Notification notification = builder.build(); //Android4.1ä»¥ä¸‹çš„ç‰ˆæœ¬ç”¨builder.getNotification(); manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE); Notification notification = builder.build(); manager.notify(notificationId,notification); &#125;&#125; æ–‡ä»¶åœ¨å¦‚ä¸‹ä½ç½®æ–°å»º assets æ–‡ä»¶å¤¹ï¼š ç„¶åé‡Œé¢ç”¨åˆ°äº†ä¸€ä¸ª error.html çš„ html æ–‡ä»¶ï¼Œç”¨äºåœ¨åŠ è½½ webView å¤±è´¥çš„æ—¶å€™å±•ç¤ºç»™ç”¨æˆ·ã€‚ ä½¿ç”¨ï¼š 1webView.loadUrl(&quot;file:///android_asset/error.html&quot;); è¿™ç§æ–¹å¼å¯ä»¥åŠ è½½assetsç›®å½•ä¸‹çš„ç½‘é¡µï¼Œå¹¶ä¸”ä¸ç½‘é¡µæœ‰å…³çš„cssï¼Œjsï¼Œå›¾ç‰‡ç­‰æ–‡ä»¶ä¹Ÿä¼šçš„åŠ è½½ã€‚ è¿™æ ·å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Ÿ åç»­ç›¸åŒç‚¹ä¸¤è€…ç›®å½•ä¸‹çš„æ–‡ä»¶åœ¨æ‰“åŒ…åä¼šåŸå°ä¸åŠ¨çš„ä¿å­˜åœ¨apkåŒ…ä¸­ï¼Œä¸ä¼šè¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶ï¼Œè¿™äº›æ–‡ä»¶å°†è¢«æ‰“åŒ…åˆ°APKä¸­åº”ç”¨ä½¿ç”¨ã€‚ ä¸åŒç‚¹åŒºåˆ« ä¸€å¯èƒ½æœ‰çš„æœ‹å‹ä¼šé—®äº†ï¼Œæ—¢ç„¶ä¸¤ç§æ–¹å¼éƒ½æ˜¯ä¸ä¼šè¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬åœ¨å¼•ç”¨éŸ³é¢‘æ–‡ä»¶çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ R.raw.xxx.mp3 è¿™ç§æ–¹å¼ï¼Œä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨æ–‡ä»¶çš„æ—¶å€™è¦ä½¿ç”¨ webView.loadUrl(&quot;file:///android_asset/error.html&quot;); è¿™ç§æ–¹å¼ï¼Ÿéš¾é“ä¸èƒ½ä¹Ÿä½¿ç”¨ R.assets.errpr.html è¿™ç§æ–¹å¼æ¥å¼•ç”¨æ–‡ä»¶å—ï¼Ÿ è¦å¼„æ¸…è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦æ˜ç™½ç¬¬ä¸€ä¸ªä¸åŒç‚¹ï¼š res/raw ä¸­çš„æ–‡ä»¶ä¼šè¢«æ˜ å°„åˆ° R.java æ–‡ä»¶ä¸­ï¼Œè®¿é—®çš„æ—¶å€™ç›´æ¥ä½¿ç”¨èµ„æº ID å³ R.raw.xxx.mp3ï¼› assets æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ä¸ä¼šè¢«æ˜ å°„åˆ° R.java ä¸­ï¼Œè®¿é—®çš„æ—¶å€™éœ€è¦ AssetManager ç±»ã€‚ é‚£ä¹ˆæˆ‘ä»¬æ—¢ç„¶ä¸èƒ½é€šè¿‡ä½¿ç”¨ R æ–‡ä»¶çš„æ–¹å¼å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼å»å¼•ç”¨å—ï¼Ÿ ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼ å› ä¸º apk æ–‡ä»¶å®‰è£…ä¹‹åä¼šæ”¾åœ¨ /data/app/ ç›®å½•ä¸‹ï¼Œä»¥ apk å½¢å¼å­˜åœ¨ï¼Œ asset/res è¢«ç»‘å®šåœ¨ apk é‡Œï¼Œå¹¶ä¸ä¼šè§£å‹åˆ° /data/data/ä½ çš„åº”ç”¨åŒ…å ç›®å½•ä¸‹å»ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•ç›´æ¥è·å–åˆ° assets çš„ç»å¯¹è·¯å¾„ï¼Œå› ä¸ºå®ƒä»¬æ ¹æœ¬å°±æ²¡æœ‰ã€‚ æ³¨æ„ï¼šä¸‹é¢çš„åªèƒ½åœ¨å·²ç» Root çš„æ‰‹æœºæˆ–è€…æ¨¡æ‹Ÿå™¨ä¸­å¯ä»¥çœ‹åˆ° é¦–å…ˆæˆ‘ä»¬çœ‹ä¸‹æˆ‘ä»¬çš„æ‰‹æœºåœ¨æ²¡å®‰è£… app çš„æƒ…å†µä¸‹ï¼Œdata/app æ–‡ä»¶å¤¹ä¸‹é¢æœ‰ä»€ä¹ˆæ–‡ä»¶ï¼Ÿ ç°åœ¨æˆ‘ä»¬æ¥å®‰è£…ä¸€ä¸‹ç®€ä¹¦ App ï¼š æˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬å®‰è£…çš„ app ç¡®å®æ˜¯å‡ºç°åœ¨äº† /data/app æ–‡ä»¶å¤¹ä¸‹é¢ã€‚ è¿™ä¸ªæ—¶å€™å¦‚æœä½ ç‚¹å¼€ /data/data/ä½ çš„åº”ç”¨åŒ…å æ–‡ä»¶å¤¹æŸ¥çœ‹çš„è¯ï¼Œæ˜¯çœ‹ä¸åˆ° assets æ–‡ä»¶å¤¹çš„ï¼Œè¯´æ˜å¹¶æ²¡æœ‰è§£å‹åˆ°è¿™é‡Œï¼Œæ‰€ä»¥å°±ä¸èƒ½ä½¿ç”¨ç»å¯¹è·¯å¾„å»å¼•ç”¨äº†ã€‚ system/app ç³»ç»Ÿè‡ªå¸¦çš„åº”ç”¨ç¨‹åºï¼Œæ— æ³•åˆ é™¤ã€‚ data/app ç”¨æˆ·ç¨‹åºå®‰è£…çš„ç›®å½•ï¼Œæœ‰åˆ é™¤æƒé™ã€‚å®‰è£…æ—¶æŠŠapkæ–‡ä»¶å¤åˆ¶åˆ°æ­¤ç›®å½•ã€‚ data/data å­˜æ”¾åº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚ data/dalvik-cache å°† apk ä¸­çš„ dex æ–‡ä»¶å®‰è£…åˆ° dalvik-cache ç›®å½•ä¸‹( dex æ–‡ä»¶æ˜¯ dalvik è™šæ‹Ÿæœºçš„å¯æ‰§è¡Œæ–‡ä»¶,å…¶å¤§å°çº¦ä¸ºåŸå§‹ apk æ–‡ä»¶å¤§å°çš„å››åˆ†ä¹‹ä¸€)ã€‚ APPå®‰è£…è¿‡ç¨‹ï¼šå¤åˆ¶APKå®‰è£…åŒ…åˆ°data/appç›®å½•ä¸‹ï¼Œè§£å‹å¹¶æ‰«æå®‰è£…åŒ…ï¼ŒæŠŠdexæ–‡ä»¶(Dalvikå­—èŠ‚ç )ä¿å­˜åˆ°dalvik-cacheç›®å½•ï¼Œå¹¶data/dataç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„åº”ç”¨æ•°æ®ç›®å½•ã€‚ é™„å½•ï¼š res/anim/ XMLæ–‡ä»¶ï¼Œå®ƒä»¬è¢«ç¼–è¯‘è¿›é€å¸§åŠ¨ç”»ï¼ˆframe by frame animationï¼‰æˆ–è¡¥é—´åŠ¨ç”»(tweened animation)å¯¹è±¡ res/drawable/ .pngã€.9.pngã€.jpgæ–‡ä»¶ï¼Œå®ƒä»¬è¢«ç¼–è¯‘è¿›ä»¥ä¸‹çš„Drawableèµ„æºå­ç±»å‹ä¸­ï¼š è¦è·å¾—è¿™ç§ç±»å‹çš„ä¸€ä¸ªèµ„æºï¼Œå¯ä»¥ä½¿ç”¨Resource.getDrawable(id) ä½å›¾æ–‡ä»¶ 9-patchesï¼ˆå¯å˜å°ºå¯¸çš„ä½å›¾ï¼‰ ä¸ºäº†è·å–èµ„æºç±»å‹ï¼Œä½¿ç”¨mContext.getResources().getDrawable(R.drawable.imageId)æ³¨æ„ï¼šæ”¾åœ¨è¿™é‡Œçš„å›¾åƒèµ„æºå¯èƒ½ä¼šè¢«aaptå·¥å…·è‡ªåŠ¨åœ°è¿›è¡Œæ— æŸå‹ç¼©ä¼˜åŒ–ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªçœŸå½©è‰²ä½†å¹¶ä¸éœ€è¦256è‰²çš„PNGå¯èƒ½ä¼šè¢«è½¬æ¢ä¸ºä¸€ä¸ªå¸¦è°ƒè‰²æ¿çš„8ä½PNGã€‚è¿™ä½¿å¾—åŒç­‰è´¨é‡çš„å›¾ç‰‡å ç”¨æ›´å°‘çš„èµ„æºã€‚æ‰€ä»¥æˆ‘ä»¬å¾—æ„è¯†åˆ°è¿™äº›æ”¾åœ¨è¯¥ç›®å½•ä¸‹çš„äºŒè¿›åˆ¶å›¾åƒåœ¨ç”Ÿæˆæ—¶å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚å¦‚æœä½ æƒ³è¯»å–ä¸€ä¸ªå›¾åƒä½æµå¹¶è½¬æ¢æˆä¸€ä¸ªä½å›¾(bitmap)ï¼Œè¯·æŠŠå›¾åƒæ–‡ä»¶æ”¾åœ¨res/raw/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥é¿å…è¢«è‡ªåŠ¨ä¼˜åŒ–ã€‚ res/layout/ è¢«ç¼–è¯‘ä¸ºå±å¹•å¸ƒå±€(æˆ–å±å¹•çš„ä¸€éƒ¨åˆ†)çš„XMLæ–‡ä»¶ã€‚å‚è§å¸ƒå±€å£°æ˜(Declaring Layout) res/values/ å¯ä»¥è¢«ç¼–è¯‘æˆå¾ˆå¤šç§ç±»å‹çš„èµ„æºçš„XMLæ–‡ä»¶ã€‚æ³¨æ„: ä¸åƒå…¶ä»–çš„res/æ–‡ä»¶å¤¹ï¼Œå®ƒå¯ä»¥ä¿å­˜ä»»æ„æ•°é‡çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¿å­˜äº†è¦åˆ›å»ºèµ„æºçš„æè¿°ï¼Œè€Œä¸æ˜¯èµ„æºæœ¬èº«ã€‚XMLå…ƒç´ ç±»å‹æ§åˆ¶è¿™äº›èµ„æºåº”è¯¥æ”¾åœ¨Rç±»çš„ä»€ä¹ˆåœ°æ–¹,å°½ç®¡è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å¯ä»¥ä»»æ„å‘½åï¼Œä¸è¿‡ä¸‹é¢ä½¿ä¸€äº›æ¯”è¾ƒå…¸å‹çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å‘½åçš„æƒ¯ä¾‹æ˜¯å°†å…ƒç´ ç±»å‹åŒ…å«åœ¨è¯¥åç§°ä¹‹ä¸­ï¼‰ï¼š array.xml å®šä¹‰æ•°ç»„ colors.xml å®šä¹‰color drawableå’Œé¢œè‰²çš„å­—ç¬¦ä¸²å€¼(color string values)ã€‚ä½¿ç”¨Resource.getDrawable()å’ŒResources.getColor()åˆ†åˆ«è·å¾—è¿™äº›èµ„æºã€‚ dimens.xmlå®šä¹‰å°ºå¯¸å€¼(dimension value)ã€‚ä½¿ç”¨Resources.getDimension()è·å¾—è¿™äº›èµ„æºã€‚ strings.xmlå®šä¹‰å­—ç¬¦ä¸²(string)å€¼ã€‚ä½¿ç”¨Resources.getString()æˆ–è€…Resources.getText()è·å–è¿™äº›èµ„æºã€‚getText()ä¼šä¿ç•™åœ¨UIå­—ç¬¦ä¸²ä¸Šåº”ç”¨çš„ä¸°å¯Œçš„æ–‡æœ¬æ ·å¼ã€‚ styles.xml å®šä¹‰æ ·å¼(style)å¯¹è±¡ã€‚ res/xml/ ä»»æ„çš„XMLæ–‡ä»¶ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡è°ƒç”¨Resources.getXML()è¯»å–ã€‚ res/raw/ ç›´æ¥å¤åˆ¶åˆ°è®¾å¤‡ä¸­çš„ä»»æ„æ–‡ä»¶ã€‚å®ƒä»¬æ— éœ€ç¼–è¯‘ï¼Œæ·»åŠ åˆ°ä½ çš„åº”ç”¨ç¨‹åºç¼–è¯‘äº§ç”Ÿçš„å‹ç¼©æ–‡ä»¶ä¸­ã€‚è¦ä½¿ç”¨è¿™äº›èµ„æºï¼Œå¯ä»¥è°ƒç”¨Resources.openRawResource()ï¼Œå‚æ•°æ˜¯èµ„æºçš„IDï¼Œå³R.raw.somefilenameã€‚ åŒºåˆ« äºŒå¦å¤–éœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼š res/raw ä¸å¯ä»¥æœ‰ç›®å½•ç»“æ„ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½å­˜æ”¾ä¸€çº§ç›®å½•ï¼Œä¸èƒ½å†ä¸‹é¢å»ºç«‹æ–‡ä»¶å¤¹ã€‚ è€Œ assets åˆ™å¯ä»¥æœ‰ç›®å½•ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ assets ç›®å½•ä¸‹å¯ä»¥å†å»ºç«‹ä»»æ„æ·±åº¦å’Œæ•°é‡çš„æ–‡ä»¶å¤¹ assets ä¸‹é¢æ–‡ä»¶çš„ä½¿ç”¨htmlæ–‡ä»¶å¦‚ä¸Šé¢ä¾‹å­æ‰€ç¤º å…¶ä»–æ–‡ä»¶è·å– AssetManager12AssetManager assetManager =getAssets();InputStream is = assetManager.open(&quot;filename&quot;); è¡¥å……ä¸€ä¸‹ï¼šåœ¨æœªçŸ¥ç›®å½•ä¸‹æœ‰å“ªäº›æ–‡ä»¶ï¼Œè¯¥å»å’Œè·å–è¿™äº›æ–‡ä»¶çš„åç§°å¹¶æŠŠæ–‡ä»¶æ‹·è´åˆ°ç›®æ ‡ç›®å½•ä¸­å‘¢ï¼Ÿï¼ˆç”¨äºå†…ç½®æ–‡ä»¶ä½†ä¸çŸ¥é“æ–‡ä»¶åç§°ï¼Œéœ€è¦ç­›é€‰å‡ºæƒ³è¦çš„æ–‡ä»¶ç„¶åæ‹·è´åˆ°ç›®æ ‡ç›®å½•ä¸­ï¼Œæ¨èå†…ç½®åœ¨assetsæ–‡ä»¶å¤¹ä¸­ï¼‰ res/rawç›®å½•ï¼šé€šè¿‡åå°„çš„æ–¹å¼å¾—åˆ°R.javaé‡Œé¢rawå†…éƒ¨ç±»é‡Œé¢æ‰€æœ‰çš„èµ„æºIDçš„åç§°ï¼Œç„¶åé€šè¿‡åç§°è·å–èµ„æºIDçš„å€¼æ¥è¯»å–æˆ‘ä»¬æƒ³è¦çš„æ–‡ä»¶ã€‚ï¼ˆè¿™ä¸ªæ–¹æ³•æˆ‘æ²¡è¯•è¿‡ï¼Œæœ‰ç”¨è¿‡çš„åŒå­¦éº»çƒ¦å‘ä¸€æ®µä»£ç çœ‹çœ‹ï¼‰ã€‚ assetsç›®å½•ï¼šgetAssets().list(â€œâ€);æ¥è·å–assetsç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„åç§°ï¼Œå†é€šè¿‡è¿™äº›åç§°å†è¯»å–æˆ‘ä»¬æƒ³è¦çš„æ–‡ä»¶ã€‚","categories":[],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[]},{"title":"Android Studioå¸¸ç”¨å¿«æ·é”®åŠè®¾ç½®","slug":"Android Studioå¸¸ç”¨å¿«æ·é”®åŠè®¾ç½®","date":"2016-04-10T06:37:03.000Z","updated":"2018-01-15T14:17:33.531Z","comments":true,"path":"2016/04/10/Android Studioå¸¸ç”¨å¿«æ·é”®åŠè®¾ç½®/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/10/Android Studioå¸¸ç”¨å¿«æ·é”®åŠè®¾ç½®/","excerpt":"1.ä»£ç æç¤ºå¿«æ·é”®ï¼š1åœ¨Settingsä¸­æœç´¢Class Name Completion","text":"1.ä»£ç æç¤ºå¿«æ·é”®ï¼š1åœ¨Settingsä¸­æœç´¢Class Name Completion 2.æ˜¾ç¤ºä»£ç è¡Œæ•°1Settings-&gt;IDE Settings-&gt;Editor-&gt;Appearance-&gt;Show line numbers 3.ä¿®æ”¹ä»£ç å­—ä½“å¤§å°1Settings-&gt;IDE Settings-&gt;Editor-&gt;Colors &amp; Fonts -&gt;Font-&gt;Save As-&gt;æ”¹ä¸ªåå­—åæ‰èƒ½æ”¹å­—ä½“å¤§å° 4.é”™è¯¯ä¿®æ­£æç¤ºåˆ—è¡¨1Keymap-&gt;Other-&gt;Show Intention Actionï¼šé»˜è®¤æ˜¯Alt+Enter 5.å¿«é€ŸOverriedæ–¹æ³•1Keymap-&gt;Main menu-&gt;Code-&gt;Override Methodsï¼šéœ€è¦è‡ªå·±è®¾å®š 6.é¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºdoc1Settings-&gt;IDE Settings-&gt;Editor-&gt;Show quick doc on mouse move 7.æ™ºèƒ½æ„ŸçŸ¥ä¸åŒºåˆ†å¤§å°å†™1Settings-&gt;æœç´¢Sensitive ä¿®æ”¹case sensitive complement çš„å€¼ä¸ºnone 8.å•è¡Œæ³¨é‡Šå¿«æ·é”®è®¾ç½®1Setting â€“KeyMapâ€“Main menu â€“code â€“ comment with line commentï¼Œå³é”®æ·»åŠ è‡ªå·±çš„å¿«æ·æ³¨é‡Šå•è¡Œ 9.è‡ªåŠ¨å¯¼åŒ…å’Œåˆ é™¤åŒ…12Setting â€“Editorâ€“General â€“ Auto Importå‹¾é€‰Javaä¸‹é¢çš„ä¸‰ä¸ªé€‰é¡¹ï¼Œå¹¶é€‰æ‹©Insert imports on pasteä¸ºAll æˆ‘çš„åšå®¢ï¼šåšå®¢ä¼ é€é—¨ æˆ‘çš„ç®€ä¹¦ï¼šç®€ä¹¦ä¼ é€é—¨ æˆ‘çš„CSDNï¼šCSDNä¼ é€é—¨ æˆ‘çš„GitHubï¼šGitHubä¼ é€é—¨","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android è·å¾—Bitmap","slug":"Android-è·å¾—Bitmap","date":"2016-04-06T01:53:16.000Z","updated":"2018-01-16T01:57:59.759Z","comments":true,"path":"2016/04/06/Android-è·å¾—Bitmap/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/04/06/Android-è·å¾—Bitmap/","excerpt":"","text":"1ã€ æœ¬åœ°urlè½¬æ¢ä¸ºBitmap 1234567891011121314/** * @param uriï¼šå›¾ç‰‡çš„æœ¬åœ°urlåœ°å€ * @return Bitmapï¼› */ private Bitmap decodeUriAsBitmap(Uri uri) &#123; Bitmap bitmap = null; try &#123; bitmap = BitmapFactory.decodeStream(getContentResolver().openInputStream(uri)); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); return null; &#125; return bitmap; &#125; 2ã€ç½‘ç»œurlè½¬æ¢ä¸ºBitmap 1234567891011121314151617181920212223242526272829/** * æ ¹æ®å›¾ç‰‡çš„urlè·¯å¾„è·å¾—Bitmapå¯¹è±¡ * @param url * @return */private Bitmap decodeUriAsBitmapFromNet(String url) &#123; URL fileUrl = null; Bitmap bitmap = null; try &#123; fileUrl = new URL(url); &#125; catch (MalformedURLException e) &#123; e.printStackTrace(); &#125; try &#123; HttpURLConnection conn = (HttpURLConnection) fileUrl .openConnection(); conn.setDoInput(true); conn.connect(); InputStream is = conn.getInputStream(); bitmap = BitmapFactory.decodeStream(is); is.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; return bitmap; &#125; 3ã€è·å–æŒ‡å®šå¤§å°çš„ Bitmap /** * @param path:å›¾ç‰‡çš„ç‰©ç†è·¯å¾„ * @param display_widthï¼šè®¾ç½®å›¾ç‰‡çš„å®½ * @param display_heightï¼šè®¾ç½®å›¾ç‰‡çš„é«˜ * @return * @throws Exception */ private Bitmap decodeBitmap(String path,float display_width,float display_height) throws Exception { if (Float.compare(display_width,0.0f) == 0 || Float.compare(display_width,0.0f) == 0) { throw new Exception(&quot;å›¾ç‰‡çš„å®½é«˜å‡ä¸èƒ½ä¸º0ï¼&quot;); } BitmapFactory.Options op = new BitmapFactory.Options(); //inJustDecodeBounds //If set to true, the decoder will return null (no bitmap), but the outâ€¦ op.inJustDecodeBounds = true; Bitmap bmp = BitmapFactory.decodeFile(path, op); //è·å–å°ºå¯¸ä¿¡æ¯ //è·å–æ¯”ä¾‹å¤§å° int wRatio = (int)Math.ceil(op.outWidth/display_width); int hRatio = (int)Math.ceil(op.outHeight/display_height); //å¦‚æœè¶…å‡ºæŒ‡å®šå¤§å°ï¼Œåˆ™ç¼©å°ç›¸åº”çš„æ¯”ä¾‹ if(wRatio &gt; 1 &amp;&amp; hRatio &gt; 1){ if(wRatio &gt; hRatio){ op.inSampleSize = wRatio; }else{ op.inSampleSize = hRatio; } } op.inJustDecodeBounds = false; bmp = BitmapFactory.decodeFile(path, op); return bmp; }","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://github.com/smartsean/smartsean.github.io/tags/å·¥å…·/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Androidç»„ä»¶ä¹‹å¹¿æ’­ï¼ˆBroadcastï¼‰","slug":"Androidç»„ä»¶ä¹‹å¹¿æ’­ï¼ˆBroadcastï¼‰","date":"2016-03-29T14:22:51.000Z","updated":"2018-01-16T01:50:30.315Z","comments":true,"path":"2016/03/29/Androidç»„ä»¶ä¹‹å¹¿æ’­ï¼ˆBroadcastï¼‰/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/03/29/Androidç»„ä»¶ä¹‹å¹¿æ’­ï¼ˆBroadcastï¼‰/","excerpt":"","text":"å››å¤§ç»„ä»¶ä¹‹å¹¿æ’­ï¼ˆBroadcastï¼‰æœ€è¿‘å­¦ä¹ äº†å®‰å“å››å¤§ç»„ä»¶ä¹‹å¹¿æ’­çš„ç”¨æ³•ã€‚ä¸‹é¢ç®€å•çš„æ€»ç»“ä¸‹ï¼š å¹¿æ’­å…¶å®æ˜¯ä¸€ç§ä¿¡æ¯çš„ä¼ é€’ï¼Œä¸»è¦åˆ†ä¸ºæ ‡å‡†å¹¿æ’­å’Œæœ‰åºå¹¿æ’­ã€‚ä¸‹é¢ä¸¾ä¾‹æè¿°ä¸‹ï¼Œ å¹¿æ’­åˆ†ç±»æ ‡å‡†å¹¿æ’­åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œå¦‚æœå•ä½è¦å‘Šè¯‰å…¨ä½“å‘˜å·¥å‘¨æœ«å…¨ä½“åŠ ç­ï¼Œåªéœ€è¦ç»™å…¨ä½“å‘˜å·¥å‘ä¸€ä¸ªé‚®ä»¶å‡ºå»ï¼Œè¿™æ ·å‘˜å·¥å°±èƒ½æ”¶åˆ°å‘¨æœ«åŠ ç­çš„é‚®ä»¶ï¼Œå°±å¯ä»¥åœ¨å‘¨æœ«æ¥åŠ ç­äº†ï¼Œè¿™ç§æ–¹å¼æ˜¯å…¨ä½“å‘˜å·¥éƒ½èƒ½æ”¶åˆ°ï¼Œä¸èƒ½è¢«æˆªæ–­ï¼Œè¿™å°±æ˜¯æ ‡å‡†å¹¿æ’­ï¼›ç‰¹ç‚¹ï¼š 1. åŒçº§åˆ«æ¥æ”¶å…ˆåæ˜¯éšæœºçš„ï¼ˆæ— åºçš„ï¼‰ 2. çº§åˆ«ä½çš„åæ¥æ”¶åˆ°å¹¿æ’­ 3. æ¥æ”¶å™¨ä¸èƒ½æˆªæ–­å¹¿æ’­çš„ç»§ç»­ä¼ æ’­ï¼Œä¹Ÿä¸èƒ½å¤„ç†å¹¿æ’­ 4. åŒçº§åˆ«åŠ¨æ€æ³¨å†Œï¼ˆä»£ç ä¸­æ³¨å†Œï¼‰é«˜äºé™æ€æ³¨å†Œï¼ˆAndroidManifestä¸­æ³¨å†Œï¼‰ æœ‰åºå¹¿æ’­æœ‰äº›æ—¶å€™ï¼Œå•ä½çš„è€å¤§å¹¶ä¸æƒ³ç›´æ¥ç»™å…¨ä½“å‘˜å·¥éƒ½å‘é‚®ä»¶ï¼Œé‚£ä¹ˆé‚®ä»¶èµ°å‘å¯èƒ½å°±æ˜¯è¿™æ ·çš„æƒ…å†µï¼Œè€å¤§â€”æ€»ç»ç†â€”å‰¯æ€»ç»ç†â€”é¡¹ç›®ç»ç†ç­‰ç­‰ï¼Œè¿™æ ·åŠ ç­çš„ä¿¡æ¯æ˜¯æ ¹æ®èŒä½çš„é«˜ä½ï¼ˆå¹¿æ’­çš„ä¼˜å…ˆçº§ï¼‰ä¸€çº§ä¸€çº§çš„ä¼ é€’çš„ï¼Œåˆ°æ¯ä¸€çº§éƒ½å¯ä»¥è¢«ç»§ç»­ä¼ é€’æˆ–è€…åœæ­¢ä¼ é€’ï¼Œæ‰€ä»¥è¿™ç§ä¿¡æ¯æ˜¯æœ‰å¯èƒ½è¢«æˆªæ–­çš„è¿™å°±æ˜¯æœ‰åºå¹¿æ’­ã€‚ç‰¹ç‚¹ï¼š åŒçº§åˆ«æ¥æ”¶æ˜¯éšæœºçš„ èƒ½æˆªæ–­å¹¿æ’­çš„ç»§ç»­ä¼ æ’­ï¼Œé«˜çº§åˆ«çš„æ¥æ”¶åˆ°å¹¿æ’­ä¹‹åï¼Œå¯ä»¥æˆªæ–­ä¼ æ’­ï¼Œæ˜¯é€šè¿‡intent-filterä¸­çš„priorityå£°æ˜çš„ï¼ŒèŒƒå›´æ˜¯-1000åˆ°1000 èƒ½æ¥æ”¶å¹¿æ’­ã€‚ä¹Ÿå¯ä»¥å¤„ç†å¹¿æ’­ åŒçº§åˆ«åŠ¨æ€æ³¨å†Œï¼ˆä»£ç ä¸­æ³¨å†Œï¼‰é«˜äºé™æ€æ³¨å†Œï¼ˆAndroidManifestä¸­æ³¨å†Œï¼‰å¹¿æ’­æ¥æ”¶å™¨çš„æ³¨å†Œæ³¨å†Œå¹¿æ’­ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼1. åœ¨ä»£ç ä¸­æ³¨å†Œï¼ˆåŠ¨æ€æ³¨å†Œï¼‰é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯åœ¨ä»£ç ä¸­æ³¨å†Œçš„ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªbuttonçš„ç‚¹å‡»äº‹ä»¶ä¸­ç‚¹å‡»æ—¶ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package com.css.sean.broadcasttest;import android.content.BroadcastReceiver;import android.content.Context;import android.content.Intent;import android.content.IntentFilter;import android.net.ConnectivityManager;import android.net.NetworkInfo;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.widget.Toast;public class MainActivity extends AppCompatActivity &#123; private IntentFilter intentFilter;//ç”¨äºå¤„ç†è¿‡æ»¤ç‰¹å®šçš„intent private NetworkChangeReceiver networkChangeReceiver;//å¹¿æ’­æ¥æ”¶å™¨ @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); intentFilter = new IntentFilter(); //æŒ‡å®šè¿‡æ»¤å™¨çš„actionï¼Œè¿™é‡Œä¼ å…¥çš„æ˜¯ç½‘ç»œçŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶å‘å‡ºçš„å¹¿æ’­ intentFilter.addAction(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;); networkChangeReceiver = new NetworkChangeReceiver(); registerReceiver(networkChangeReceiver, intentFilter);//æ³¨å†Œå¹¿æ’­ &#125; @Override protected void onDestroy() &#123; super.onDestroy(); unregisterReceiver(networkChangeReceiver);//ç”¨å®Œä¹‹åå–æ¶ˆæ³¨å†Œ &#125; //ç”¨äºç›‘å¬ç½‘ç»œçŠ¶æ€çš„å¹¿æ’­æ¥æ”¶å™¨ private class NetworkChangeReceiver extends BroadcastReceiver &#123; @Override public void onReceive(Context context, Intent intent) &#123; //ConnectivityManageræ˜¯ç³»ç»ŸæœåŠ¡ç±»ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†ç½‘ç»œè¿æ¥çš„ ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE); NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo(); if (networkInfo != null &amp;&amp; networkInfo.isAvailable()) &#123; Toast.makeText(MainActivity.this, &quot;ç½‘ç»œçŠ¶æ€å¯ç”¨ï¼&quot;, Toast.LENGTH_SHORT).show(); &#125; else &#123; Toast.makeText(MainActivity.this, &quot;ç½‘ç»œçŠ¶æ€ä¸å¯ç”¨ï¼&quot;, Toast.LENGTH_SHORT).show(); &#125; &#125; &#125;&#125; 2. åœ¨é…ç½®æ–‡ä»¶AndroidManifestä¸­æ³¨å†Œï¼ˆé™æ€æ³¨å†Œï¼‰åŠ¨æ€æ³¨å†Œæ—¶å¿…é¡»ç¨‹åºåœ¨è¿è¡Œæ—¶æ‰èƒ½æ³¨å†Œçš„ï¼Œæœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºè¿˜æ²¡å¯åŠ¨çš„æ—¶å€™å°±å¯ä»¥æ¥æ”¶åˆ°æ³¨å†Œçš„å¹¿æ’­ï¼Œå°±éœ€è¦é™æ€æ³¨å†Œäº†ï¼Œä¸‹é¢ç”¨æ¥æ”¶å¼€æœºå¯åŠ¨å¼€ä¸¾ä¾‹ï¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªå¹¿æ’­ç±»ï¼š123456public class BootCompleteReceiver extends BroadcastReceiver &#123; @Override public void onReceive(Context context, Intent intent) &#123; Toast.makeText(context,&quot;å¼€æœºå¯åŠ¨å¹¿æ’­&quot;,Toast.LENGTH_SHORT).show(); &#125;&#125; ç„¶åå†é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼š12345&lt;receiver android:name=&quot;.BootCompleteReceiver&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;&lt;/action&gt; &lt;/intent-filter&gt; &lt;/receiver&gt; å‘é€å¹¿æ’­å¹¿æ’­æ¥æ”¶å™¨ä¸ä»…å¯ä»¥æ¥æ”¶ç³»ç»Ÿå‘å‡ºçš„å¹¿æ’­ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶è‡ªå®šä¹‰çš„å¹¿æ’­ã€‚ å‘é€æ ‡å‡†å¹¿æ’­1234//åˆ›å»ºä¸€ä¸ªintentï¼Œå¸¦æœ‰å‚æ•°å°±æ˜¯Filterçš„actionIntent intent = new Intent(&quot;com.sean.css.MY_BROADCAST&quot;);//å‘é€å¹¿æ’­sendBroadcast(intent); æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œåªéœ€è¦ä¸¤è¡Œä»£ç ï¼Œä½†æ˜¯åˆ«å¿˜äº†ï¼Œè¿™åªæ˜¯å‘å‡ºçš„å¹¿æ’­ï¼Œè¿˜è¦å»å†™ä¸€ä¸ªå¹¿æ’­æ¥æ”¶å™¨å»æ¥å—è¿™ä¸ªå¹¿æ’­ï¼Œç„¶åå»æ‰§è¡Œçš„æ“ä½œï¼Œå¹¶ä¸”å¤§å®¶intentæ˜¯å¯ä»¥ä¼ é€’æ•°æ®çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨intentä¸­åŠ å…¥å‚æ•°è¿›è¡Œä¼ é€’ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å¹¿æ’­æ¥æ”¶å™¨ä¸­æ‹¿åˆ°è¿™ä¸ªå‚æ•°äº† å‘é€æœ‰åºå¹¿æ’­1234//åˆ›å»ºä¸€ä¸ªintentï¼Œå¸¦æœ‰å‚æ•°å°±æ˜¯Filterçš„actionIntent intent = new Intent(&quot;com.sean.css.MY_BROADCAST&quot;);//å‘é€å¹¿æ’­sendOrderBroadcast(intent,null); çœ‹èµ·æ¥å’Œå‘é€æ™®é€šå¹¿æ’­ä¹Ÿå·®ä¸å¤šï¼Œä¸»è¦å°±æ˜¯åœ¨å‘é€çš„æ—¶å€™æ–¹æ³•å˜äº†ï¼Œå¹¶ä¸”å‚æ•°ä¹Ÿå˜æˆäº†ä¸¤ä¸ªï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸æƒé™æœ‰å…³çš„å­—ç¬¦ä¸²ï¼Œå‰é¢è¯´è¿‡ï¼Œæœ‰åºå¹¿æ’­æ˜¯æœ‰é¡ºåºçš„ï¼Œæ‰€ä»¥æ˜¯æ¶‰åŠåˆ°å¤šä¸ªå¹¿æ’­æ¥æ”¶å™¨çš„ï¼Œåªéœ€è¦åœ¨æˆ‘ä»¬æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨çš„æ—¶å€™åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š123456//åŠ¨æ€æ³¨å†Œ intentFilter.setPriority(100); //é™æ€æ³¨å†Œ &lt;intent-filter android:priority=&quot;200&quot;&gt; &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;&lt;/action&gt; &lt;/intent-filter&gt; è¿™æ ·priorityä¸º200çš„ä¼šå…ˆæ”¶åˆ°å¹¿æ’­ï¼Œç„¶åpriorityä¸º100çš„åæ”¶åˆ°å¹¿æ’­ï¼Œå¦‚æœå…ˆæ”¶åˆ°çš„å¹¿æ’­åœ¨æ‰§è¡Œå®Œè‡ªå·±æ“ä½œåæ‰§è¡ŒabortBroadcast()ï¼›é‚£ä¹ˆä¼˜å…ˆçº§ä¸º100çš„å°±æ”¶ä¸åˆ°è¯¥å¹¿æ’­äº†ã€‚ æœ¬åœ°å¹¿æ’­å‰é¢æˆ‘ä»¬å‘å‡ºçš„å¹¿æ’­ï¼Œä¸ä»…ä»…æ˜¯æˆ‘ä»¬è‡ªå·±çš„ç¨‹åºå¯ä»¥æ”¶åˆ°ï¼Œå…¶ä»–çš„åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥æ”¶åˆ°ï¼Œè¿™æ ·çš„è¯æœ‰å¯èƒ½ä¼šå¼•èµ·ä¸€å®šçš„å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚å…¶ä»–çš„åº”ç”¨ç¨‹åºå¯ä»¥ä¸€ç›´å‘æˆ‘ä»¬çš„ç¨‹åºå‘é€åƒåœ¾å¹¿æ’­ï¼Œå¹²æ‰°æˆ‘ä»¬ç¨‹åºçš„æ­£å¸¸è¿è¡Œã€‚å¹¸å¥½Androidä¸­æœ‰ä¸€ä¸ªæœ¬åœ°å¹¿æ’­çš„æœºåˆ¶ï¼Œå¦‚æœä½¿ç”¨æœ¬åœ°å¹¿æ’­ç®¡ç†ï¼Œé‚£ä¹ˆåªèƒ½åœ¨æœ¬åœ°æ¥æ”¶ã€å‘é€å¹¿æ’­ã€‚ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨å‘é€æˆ–è€…æ¥æ”¶çš„æ—¶å€™è°ƒç”¨LocalBroadcastManagerå°±è¡Œäº†ï¼Œæ¯”å¦‚ï¼š1234//å‘é€localBroadcastManager.sendBroadcast(inetnt);//æ¥æ”¶localBroadcastManager.registerReceiver(localReceiver,intentFilter); æ³¨æ„äº‹é¡¹BroadcastReceiverçš„ç”Ÿå‘½å‘¨æœŸåªæœ‰10ç§’å·¦å³ï¼Œä¸èƒ½å†é‡Œé¢åšä¸€äº›è€—æ—¶çš„æ“ä½œï¼Œå¦‚æœè¦åšè€—æ—¶çš„æ“ä½œï¼Œåº”è¯¥é€šè¿‡å‘é€Intentç»™Serviceï¼Œç”±Serviceæ¥å®Œæˆè€—æ—¶æ“ä½œï¼Œå¹¶ä¸”ä¸èƒ½åœ¨BroadcastReceiverä¸­ä½¿ç”¨å­çº¿ç¨‹ æˆ‘åœ¨åšå®¢å›­çš„å°ä¾‹å­ï¼šå¹¿æ’­å®ç°å¼ºåˆ¶ä¸‹çº¿","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"å¼‚æ­¥ä»»åŠ¡å¤„ç†---AsyncTask","slug":"å¼‚æ­¥ä»»åŠ¡å¤„ç†-AsyncTask","date":"2016-03-29T14:19:32.000Z","updated":"2018-01-16T01:49:35.787Z","comments":true,"path":"2016/03/29/å¼‚æ­¥ä»»åŠ¡å¤„ç†-AsyncTask/","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/03/29/å¼‚æ­¥ä»»åŠ¡å¤„ç†-AsyncTask/","excerpt":"","text":"ä»Šå¤©å­¦ä¹ äº†AsyncTaskçš„åŸºæœ¬ç”¨æ³•ï¼Œç°åœ¨è¿›è¡Œä¸€ä¸ªæ€»ç»“ï¼š é¦–å…ˆè¦çŸ¥é“ä¸ºä»€ä¹ˆå¼‚æ­¥ä»»åŠ¡ï¼š 1ã€Androidå•çº¿ç¨‹æ¨¡å‹2ã€ è€—æ—¶çš„æ“ä½œè¦æ”¾åœ¨éä¸»çº¿ç¨‹ä¸­è¿›è¡Œï¼Œé¿å…ä¸»çº¿ç¨‹å µå¡ å…¶æ¬¡è¦çŸ¥é“AsyncTaskçš„ä½œç”¨ï¼š 1ã€åœ¨å­çº¿ç¨‹ä¸­æ›´æ–°UI2ã€å°è£…ã€ç®€åŒ–å¼‚æ­¥æ“ä½œ æ¥ä¸‹æ¥çœ‹ä¸‹AsyncTaskçš„åŸºæœ¬ç”¨æ³•ï¼š ç”±äºAsyncTaskæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨å®ƒï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªå­ç±»å»ç»§æ‰¿å®ƒï¼Œåœ¨ç»§æ‰¿æ—¶æˆ‘ä»¬å¿…é¡»ä¸ºAsyncTaskç±»æŒ‡å®šä¸‰ä¸ªæ³›å‹å‚æ•°ï¼Œå¦‚æœä¼ å…¥Voidï¼Œåˆ™è¡¨ç¤ºä¸ä¼ å…¥å‚æ•° 1ã€Paramsï¼šåœ¨æ‰§è¡Œæ—¶ä¼ å…¥è¦ä¼ å…¥çš„å‚æ•°ï¼Œå¯ç”¨äºåœ¨åå°ä»»åŠ¡ä¸­ä½¿ç”¨2ã€Progressï¼šåå°ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œå¦‚æœéœ€è¦åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå½“å‰çš„è¿›åº¦ï¼Œåˆ™ä½¿ç”¨æŒ‡å®šçš„æ³›å‹ä½œä¸ºè¿›åº¦å•ä½3ã€Resultï¼šå½“ä»»åŠ¡æ‰§è¡Œæ‰§è¡Œå®Œæ¯•åï¼Œå¦‚æœéœ€è¦å¯¹ç»“æœè¿›è¡Œè¿”å›ï¼Œä½¿ç”¨è¿™é‡ŒæŒ‡å®šçš„æ³›å‹ä½œä¸ºè¿”å›å€¼ç±»å‹ ç„¶åæˆ‘ä»¬éœ€è¦æ„å»ºAsyncTaskå­ç±»çš„å›è°ƒæ–¹æ³•ï¼š onPrexecute()æ‰§è¡Œåå°æ“ä½œå‰è°ƒç”¨ï¼Œä¸€èˆ¬æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼Œåœ¨doInBackgroundæ–¹æ³•å‰æ‰§è¡Œ doInBackground(Paramsâ€¦)å¿…é¡»é‡å†™ï¼Œåœ¨è¿™é‡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼›è€—æ—¶æ“ä½œå†™åœ¨è¿™é‡Œï¼Œå¯è°ƒç”¨publishProgress(Progressâ€¦)æ–¹æ³•è¿”å›å½“å‰çš„æ‰§è¡Œè¿›åº¦ onProgressUpdate(Progressâ€¦)å½“åœ¨doInBackgroundè°ƒç”¨doInBackground()åå¾ˆå¿«è¢«è°ƒç”¨å¯¹UIæ“ä½œï¼Œè¿™ä¸ªå¯ä»¥ä¸å†™ï¼ˆæ²¡æœ‰åœ¨doInBackgroundä¸­è°ƒç”¨ï¼‰ onPostExecute(Result)ï¼šå½“doInBackgroundæ–¹æ³•ç»“æŸæ‰§è¡Œï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ï¼Œæ¥æ”¶çš„å€¼å°±æ˜¯doInBackgroundæœ€åè¿”å›çš„å€¼ï¼› è¯´ä¸‹ä½¿ç”¨AsyncTaskçš„æ³¨æ„äº‹é¡¹ 1ã€å¿…é¡»åœ¨UIçº¿ç¨‹ä¸­åˆ›å»ºAsyncTaskå®ä¾‹2ã€å¿…é¡»åœ¨UIçº¿ç¨‹ä¸­è°ƒç”¨AsyncTaskçš„execute()æ–¹æ³•3ã€é‡å†™çš„å››ä¸ªæ–¹æ³•æ˜¯ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨çš„ï¼Œä¸è¦æ‰‹åŠ¨å»è°ƒç”¨4ã€æ¯ä¸ªAsyncTaskåªèƒ½è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¤šæ¬¡è°ƒç”¨å°†ä¼šå¼•å‘å¼‚å¸¸ ä¸‹é¢å¼€å§‹å®ä¾‹ï¼šä½¿ç”¨AsyncTaskåŠ è½½å›¾ç‰‡é¦–é€‰æˆ‘ä»¬åˆ›å»ºå¸ƒå±€ï¼šimage.xmlç”¨äºæ˜¾ç¤ºå›¾ç‰‡IMageViewå’ŒåŠ è½½è¿›åº¦ProgressBar 1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:padding=&quot;16dp&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;ImageView android:id=&quot;@+id/image&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt; &lt;ProgressBar android:id=&quot;@+id/progrssBar&quot; android:visibility=&quot;gone&quot; android:layout_centerInParent=&quot;true&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;&lt;/RelativeLayout&gt; æ–°å»ºæ´»åŠ¨ImageTest 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596package com.asynctask.css.asynctask;import android.app.Activity;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.os.AsyncTask;import android.os.Bundle;import android.view.View;import android.widget.ImageView;import android.widget.ProgressBar;import java.io.BufferedInputStream;import java.io.IOException;import java.net.URL;//æ‰‹åŠ¨å¯¼å…¥import java.io.InputStream;import java.net.URLConnection;/** * Created by css on 2016/3/28. */public class ImageTest extends Activity &#123; private ImageView mImageView; private ProgressBar mProgressBar; MyAsynvTask mtask; //å®šä¹‰é™æ€çš„Stringç±»å‹çš„URLç”¨äºå­˜å‚¨è¦åŠ è½½å›¾ç‰‡çš„åœ°å€ private static String URL = &quot;http://pic.mmfile.net/2013/08/1315595G7-2.jpg&quot;; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.image); mImageView = (ImageView) findViewById(R.id.image); mProgressBar = (ProgressBar) findViewById(R.id.progrssBar); //å½“è°ƒç”¨executeä¹‹åï¼Œè¿›è¡Œå¼‚æ­¥æ“ä½œ mtask = new MyAsynvTask(); mtask.execute(URL); &#125;// æ–°å»ºå†…éƒ¨ç±»MyAsynvTaskç»§æ‰¿AsyncTaskï¼Œè®¾ç½®ä¼ é€’è¿›å»çš„å‚æ•°ï¼Œ// 1ã€ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåŠ è½½å›¾ç‰‡çš„åœ°å€ï¼Œæ‰€ä»¥ä¼ å…¥Stringï¼Œ// 2ã€ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºä¸éœ€è¦æ˜¾ç¤ºè¿”å›è¿›åº¦ï¼Œä½¿ç”¨Voidï¼Œ// 3ã€ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºæœ€åè¿”å›Bitmap class MyAsynvTask extends AsyncTask&lt;String,Void,Bitmap&gt; &#123;// 1ã€ç³»ç»Ÿè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¯¹å¼‚æ­¥æ“ä½œè¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œè¿™é‡Œæ˜¾ç¤ºProgressBar @Override protected void onPreExecute() &#123; super.onPreExecute(); mProgressBar.setVisibility(View.VISIBLE); &#125;// 2ã€å¼€å§‹çœŸæ­£çš„å¼‚æ­¥æ“ä½œå¤„ç†ï¼Œéƒ½åœ¨å­çº¿ç¨‹ä¸­å¤„ç†ï¼Œæ”¾ç½®ä»»æ„çš„è€—æ—¶æ“ä½œï¼Œæœ€åè¿”å›æŒ‡å®šçš„ç±»å‹ @Override protected Bitmap doInBackground(String... params) &#123; String url = params[0];//å¯ä»¥ä¼ é€’ä¸æ­¢ä¸€ä¸ªå‚æ•°è¿›æ¥ï¼Œä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨ï¼Œå–å‡ºå¯¹åº”çš„URL Bitmap bitmap = null; URLConnection connection ; //å®šä¹‰ç½‘ç»œè¿æ¥å¯¹è±¡ InputStream is; //ç”¨äºè·å–æ•°æ®çš„è¾“å…¥æµ //è®¿é—®ç½‘ç»œçš„è´¹æ—¶æ“ä½œ try &#123; connection = new URL(url).openConnection(); //æ­¤å¤„éœ€è¦æ‰‹åŠ¨å¯¼å…¥URLåŒ…ï¼Œè·å–ç½‘ç»œè¿æ¥å¯¹è±¡ is = connection.getInputStream(); //è·å–è¾“å…¥æµ BufferedInputStream bis = new BufferedInputStream(is); //åŠ å…¥ç¡çœ æ—¶é—´ï¼Œæ™šç‚¹æ‰§è¡Œ// try &#123;// Thread.sleep(3000);// &#125; catch (InterruptedException e) &#123;// e.printStackTrace();// &#125; //ä½¿ç”¨BitmapFactoryçš„decodeStreamæ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŠŠbisè¾“å…¥æµè½¬æ¢ä¸ºBitmap bitmap = BitmapFactory.decodeStream(bis); is.close();//å…³é—­è¾“å…¥æµ bis.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; //å°†bitmapä½œä¸ºè¿”å›å€¼ä¼ é€’åˆ°onPostExecuteä¸­ï¼Œåœ¨onPostExecuteè¿›è¡ŒUIæ›´æ–° return bitmap; &#125;// 3ã€è¿è¡Œåœ¨ä¸»çº¿ç¨‹ï¼Œä»»æ„è¿›è¡ŒUIæ“ä½œonPostExecuteåœ¨æœ¬æ–¹æ³•ä¸­æ“ä½œUIï¼ŒæŠŠå›¾åƒè®¾ç½®åˆ°ImageView @Override protected void onPostExecute(Bitmap bitmap) &#123; super.onPostExecute(bitmap); mProgressBar.setVisibility(View.GONE); //éšè—ProgressBar mImageView.setImageBitmap(bitmap); //æ˜¾ç¤ºå›¾ç‰‡ &#125; &#125;&#125; å†™å®Œæ´»åŠ¨ä¹‹åç«‹é©¬æ³¨å†Œæ´»åŠ¨ï¼Œå…»æˆå¥½ä¹ æƒ¯ï¼› 1&lt;activity android:name=&quot;.ImageTest&quot;&gt;&lt;/activity&gt; æœ€ååœ¨ä¸»æ´»åŠ¨é‡Œé¢ç‚¹å‡»Buttonå®ç°åŠ è½½å›¾ç‰‡ï¼Œå‰©ä¸‹çš„ç‚¹å‡»Buttonå°±çœç•¥äº†ï¼Œå¾ˆç®€å•ã€‚çœ‹ä¸‹è¿è¡Œæ•ˆæœï¼š1ã€MainActivityä¸»ç•Œé¢ 2ã€åŠ è½½è¿‡ç¨‹ä¸­ProgressBaræ˜¾ç¤ºç•Œé¢ 3ã€åŠ è½½æˆåŠŸå›¾ç‰‡æ˜¾ç¤ºç•Œé¢ æœ€åè¯´ä¸‹AsyncTaskçš„å–æ¶ˆï¼š AsyncTaskcæ˜¯é€šè¿‡çº¿ç¨‹æ± æ‰§è¡Œçš„ï¼Œå¦‚æœå‰é¢çš„çº¿ç¨‹æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå†å»ç‚¹å‡»å¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹çš„æ—¶å€™å°±ä¼šå‡ºç°ç©ºç™½ï¼Œå³æ–°çº¿ç¨‹å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œè€Œæ˜¯ç­‰å¾…ä¸Šä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œä¹‹åæ‰å¼€å§‹æ‰§è¡Œçš„ï¼›é‚£ä¹ˆæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ éœ€è¦é€šè¿‡è®©AsyncTaskçš„å£°æ˜å‘¨æœŸå’Œactivityçš„å£°æ˜å‘¨æœŸä¿æŒä¸€è‡´ï¼Œåœ¨activityçš„onpauseæ–¹æ³•ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 123456789@Override protected void onPause() &#123; super.onPause(); if (mTask != null &amp;&amp; mTask.getStatus() == AsyncTask.Status.RUNNING) &#123; //cancelæ–¹æ³•åªæ˜¯å°†AsyncTaskæ ‡è®°ä¸ºcancelçŠ¶æ€ï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„å–æ¶ˆçº¿ç¨‹çš„æ‰§è¡Œ mTask.cancel(true); &#125; &#125; ä»…ä»…å†™è¿™äº›äº‹ä¸å¤Ÿçš„ï¼Œå› ä¸º.cancelæ–¹æ³•åªæ˜¯å¯¹è¯¥çº¿ç¨‹è¿›è¡Œæ ‡ç¤ºï¼Œå¹¶æ²¡æœ‰å–æ¶ˆè¯¥çº¿ç¨‹ï¼Œè¿˜è¦åŠ ä¸Šä¸‹é¢çš„ä»£ç  1234if(isCancelled())&#123; break;&#125; å…·ä½“çš„å‚è€ƒä»£ç ï¼Œä¸‹è½½åœ°å€ï¼šAsyncTaskå°ä¾‹å­","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]},{"title":"Android UIæ¨¡æ¿è®¾è®¡---TopBar(æ ‡é¢˜æ )","slug":"Android-UIæ¨¡æ¿è®¾è®¡-TopBar-æ ‡é¢˜æ ","date":"2016-03-29T14:18:04.000Z","updated":"2018-01-16T01:46:28.368Z","comments":true,"path":"2016/03/29/Android-UIæ¨¡æ¿è®¾è®¡-TopBar-æ ‡é¢˜æ /","link":"","permalink":"https://github.com/smartsean/smartsean.github.io/2016/03/29/Android-UIæ¨¡æ¿è®¾è®¡-TopBar-æ ‡é¢˜æ /","excerpt":"","text":"ä¹‹å‰åœ¨éƒ­ç¥çš„ä¹¦ä¸Šçœ‹åˆ°äº†è‡ªå®šä¹‰æ§ä»¶è¿™ä¸ªæ¦‚å¿µï¼Œä»Šå¤©åœ¨æ…•è¯¾ç½‘åˆæ¥è§¦äº†è‡ªå®šä¹‰æ¨¡æ¿ï¼Œä»Šå¤©å°±æŠŠå­¦ä¹ åˆ°çš„è‡ªå®šä¹‰TopBaræ¨¡æ¿çš„æ€»ç»“å†™åœ¨è¿™é‡Œã€‚ è‡ªå®šä¹‰ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼š è®¾ç½®è‡ªå®šä¹‰æ¨¡æ¿éœ€è¦çš„å±æ€§ åœ¨javaä»£ç ä¸­å®ç°æˆ‘ä»¬çš„è‡ªå®šä¹‰æ¨¡æ¿ åœ¨å¸ƒå±€æ–‡ä»¶ä¸­å¼•ç”¨è‡ªå®šä¹‰æ¨¡æ¿ 1. è®¾ç½®è‡ªå®šä¹‰æ¨¡æ¿éœ€è¦çš„å±æ€§ é¦–å…ˆæ–°å»ºé¡¹ç›®TopBarï¼Œåœ¨resçš„valuesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªxmlæ–‡ä»¶topba_attsï¼Œç”¨æ¥è®¾ç½®æˆ‘ä»¬è‡ªå®šä¹‰æ¨¡æ¿éœ€è¦çš„å±æ€§ï¼Œxmlä»£ç é‡Œé¢resourcesä¸‹é€šè¿‡declare-styleableæ¥å£°æ˜ï¼Œå‘Šè¯‰ç³»ç»Ÿè¿™æ˜¯æˆ‘ä»¬å£°æ˜çš„å±æ€§ï¼Œdeclare-styleableä¸‹çš„attrå£°æ˜æˆ‘ä»¬éœ€è¦å±æ€§çš„åç§°nameå’Œå¼•ç”¨çš„èµ„æºçš„ç±»å‹formatï¼›ä»£ç å¦‚ä¸‹ï¼š123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;resources&gt; &lt;declare-styleable name=&quot;Topbar&quot;&gt; &lt;!--è®¾ç½®æ ‡é¢˜æ å±æ€§--&gt; &lt;attr name=&quot;titleText&quot; format=&quot;string&quot;&gt;&lt;/attr&gt; &lt;attr name=&quot;titleTextSize&quot; format=&quot;dimension&quot;&gt;&lt;/attr&gt; &lt;attr name=&quot;titleTextColor1&quot; format=&quot;color&quot;&gt;&lt;/attr&gt; &lt;!--è®¾ç½®å·¦ä¾§æ˜¾ç¤ºå±æ€§ï¼Œå¯ä»¥è®¾ç½®ä¸ºå›¾ç‰‡ä»€ä¹ˆçš„--&gt; &lt;attr name=&quot;leftText&quot; format=&quot;string&quot;&gt;&lt;/attr&gt; &lt;attr name=&quot;leftTextColre&quot; format=&quot;color&quot;&gt;&lt;/attr&gt; &lt;attr name=&quot;leftBackground&quot; format=&quot;reference|color&quot;&gt;&lt;/attr&gt; &lt;!--è®¾ç½®å³ä¾§æ˜¾ç¤ºå±æ€§ï¼Œå¯ä»¥è®¾ç½®ä¸ºå›¾ç‰‡ä»€ä¹ˆçš„--&gt; &lt;attr name=&quot;rightText&quot; format=&quot;string&quot;&gt;&lt;/attr&gt; &lt;attr name=&quot;rightTextColre&quot; format=&quot;color&quot;&gt;&lt;/attr&gt; &lt;attr name=&quot;rightBackground&quot; format=&quot;reference|color&quot;&gt;&lt;/attr&gt; &lt;/declare-styleable&gt;&lt;/resources&gt; Topbaréœ€è¦çš„å±æ€§å®šä¹‰å®Œæ¯•ï¼Œä¸‹é¢æ˜¯javaä»£ç ä¸­å®ç°ã€‚ 2. åœ¨javaä»£ç ä¸­å®ç°æˆ‘ä»¬çš„è‡ªå®šä¹‰æ¨¡æ¿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139package com.udmodel.css.topbar;import android.content.Context;import android.content.res.TypedArray;import android.graphics.drawable.Drawable;import android.util.AttributeSet;import android.view.Gravity;import android.view.View;import android.view.ViewGroup;import android.widget.Button;import android.widget.RelativeLayout;import android.widget.TextView;/** * Created by css on 2016/3/27. */public class Topbar extends RelativeLayout &#123; //å®šä¹‰æˆ‘ä»¬è¦ç”¨åˆ°æ§ä»¶ private Button leftButton,rightButton; private TextView tvtitle; //å£°æ˜æ§ä»¶å±æ€§ï¼Œå’Œåœ¨valuesä¸‹é¢çš„topbar_atts.xmlä¸­çš„å¯¹åº” private int titleTextColor1; private String titleText; private float titleTextSize; private int leftTextColor; private Drawable leftBackground; private String leftText; private int rightTextColor; private Drawable rightBackground; private String rightText; //å®šä¹‰æ§ä»¶çš„å¸ƒå±€å±æ€§ private LayoutParams leftParams,rightParams,titleParams; //ä»¿ç…§ç³»ç»Ÿå®ç°onclickäº‹ä»¶çš„æ–¹æ³•ï¼Œå®ç°è‡ªå®šä¹‰æ¨¡æ¿å†…æ§ä»¶çš„ç‚¹å‡»äº‹ä»¶ //ç”¨äºæ˜ å°„è°ƒç”¨è€…ä¼ è¿›æ¥çš„topbarClickListeneræ¥å£ private topbarClickListener listener; //å®šä¹‰æ¥å£ï¼Œå®ç°ä¸¤ä¸ªæ–¹æ³• public interface topbarClickListener&#123; public void leftClick(); public void rightClick(); &#125; //åˆ›å»ºä¸€ä¸ªæ–¹æ³•ç»™è°ƒç”¨è€…ï¼Œè°ƒç”¨è€…å¯ä»¥ä¼ é€’è¿›æ¥åŒ¿åå†…éƒ¨ç±»å®ç° public void setOnTopbarClickListener(topbarClickListener listener) &#123; this.listener = listener; &#125; public Topbar(Context context, AttributeSet attrs) &#123; super(context, attrs); //è·å–æˆ‘ä»¬å®šä¹‰çš„xmlæ–‡ä»¶ TypedArray topBarAtts = context.obtainStyledAttributes(attrs,R.styleable.Topbar); titleTextColor1 = topBarAtts.getColor(R.styleable.Topbar_titleTextColor1, 0); titleText = topBarAtts.getString(R.styleable.Topbar_titleText); titleTextSize = topBarAtts.getDimension(R.styleable.Topbar_titleTextSize, 0); leftTextColor =topBarAtts.getColor(R.styleable.Topbar_leftTextColor, 0); leftBackground = topBarAtts.getDrawable(R.styleable.Topbar_leftBackground); leftText = topBarAtts.getString(R.styleable.Topbar_leftText); rightTextColor =topBarAtts.getColor(R.styleable.Topbar_rightTextColor, 0); rightBackground = topBarAtts.getDrawable(R.styleable.Topbar_rightBackground); rightText = topBarAtts.getString(R.styleable.Topbar_rightText); //é¿å…æµªè´¹èµ„æºï¼Œé¿å…å› ä¸ºç¼“å­˜é€ æˆçš„é”™è¯¯ topBarAtts.recycle(); //å®ä¾‹åŒ–æ§ä»¶ leftButton = new Button(context); rightButton = new Button(context); tvtitle = new TextView(context); //æŠŠè·å–åˆ°çš„å±æ€§èµ‹å€¼ç»™æˆ‘ä»¬çš„æ§ä»¶ leftButton.setTextColor(leftTextColor); leftButton.setBackground(leftBackground); leftButton.setText(leftText); rightButton.setTextColor(rightTextColor); rightButton.setBackground(rightBackground);//è¯¥æ–¹æ³•å¿…é¡»åœ¨API16ä»¥ä¸Šæ‰å¯ä»¥ç”¨ rightButton.setText(rightText); tvtitle.setTextColor(titleTextColor1); tvtitle.setText(titleText); tvtitle.setTextSize(titleTextSize); tvtitle.setGravity(Gravity.CENTER); setBackgroundColor(0xffffff00);//è®¾ç½®Topbarçš„èƒŒæ™¯è‰² //ç»™å·¦è¾¹Buttonæ·»åŠ å±æ€§ï¼Œç„¶åæ·»åŠ åˆ°Viewä¸­ leftParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); //å®šä¹‰å·¦ä¾§æŒ‰é’®çš„å®½é«˜å±æ€§ leftParams.addRule(RelativeLayout.ALIGN_PARENT_LEFT, TRUE);//åˆ¶å®šå·¦å¯¹é½çš„è§„åˆ™ addView(leftButton, leftParams);//æ·»åŠ åˆ°Viewä¸­ //ç»™å³è¾¹Buttonæ·»åŠ å±æ€§ï¼Œç„¶åæ·»åŠ åˆ°Viewä¸­ rightParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); rightParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, TRUE); addView(rightButton, rightParams); //ç»™ä¸­é—´çš„TextViewæ·»åŠ å±æ€§ï¼Œç„¶åæ·»åŠ åˆ°Viewä¸­ titleParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.MATCH_PARENT); titleParams.addRule(RelativeLayout.CENTER_IN_PARENT, TRUE);//å±…ä¸­å¯¹é½ addView(tvtitle, titleParams); //åœ¨leftButtonå’ŒrightButtonçš„OnClickäº‹ä»¶ä¸­å»è°ƒç”¨è¯¥æ¥å£çš„ä¸¤ä¸ªæ–¹æ³• leftButton.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; listener.leftClick(); &#125; &#125;); rightButton.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; listener.rightClick(); &#125; &#125;); &#125; //è‡ªå®šä¹‰æ–¹æ³•æ§åˆ¶å·¦ä¾§buttonçš„æ˜¾ç¤ºå—ï¼Œè°ƒç”¨è€…åªç”¨ä¼ å…¥å€¼æ¥é€‰æ‹©trueå¯ç”¨ï¼Œfalseä¸å¯ç”¨æ¶ˆå¤± public void setLeftButtonIsvisiable(boolean flag) &#123; if(flag) &#123; leftButton.setVisibility(View.VISIBLE); &#125; else &#123; leftButton.setVisibility(View.GONE); &#125; &#125;&#125; 3. åœ¨å¸ƒå±€æ–‡ä»¶ä¸­å¼•ç”¨è‡ªå®šä¹‰æ¨¡æ¿ ä»£ç å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:custom=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot; android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot; android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot; android:paddingTop=&quot;@dimen/activity_vertical_margin&quot; custom:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; tools:context=&quot;com.udmodel.css.topbar.MainActivity&quot; tools:showIn=&quot;@layout/activity_main&quot;&gt; &lt;com.udmodel.css.topbar.Topbar android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;40dp&quot; android:id=&quot;@+id/topbar&quot; custom:leftBackground=&quot;@color/colorAccent&quot; custom:leftText=&quot;Back&quot; custom:leftTextColor=&quot;#FFFFFF&quot; custom:rightBackground=&quot;@color/colorAccent&quot; custom:rightText=&quot;more&quot; custom:rightTextColor=&quot;#FFFFFF&quot; custom:titleText=&quot;è‡ªå®šä¹‰æ ‡é¢˜&quot; custom:titleTextColor1=&quot;#123412&quot; custom:titleTextSize=&quot;10sp&quot; &gt;&lt;/com.udmodel.css.topbar.Topbar&gt;&lt;/RelativeLayout&gt; ä¸‹é¢è¿™å¥åœ¨ASä¸­å¯ä»¥ç›´æ¥åœ¨æœ€åå†™res-autoï¼Œä½†æ˜¯å¦‚æœåœ¨eclipseä¸­å°±éœ€è¦å†™å…¨åŒ…åï¼Œå…·ä½“æ˜¯å¼•ç”¨ç¬¬ä¸‰æ–¹çš„åç§°ç©ºé—´(NameSpace),å®šä¹‰ä¸ºcustomï¼Œç„¶åé€šè¿‡customæ‰¾åˆ°æˆ‘ä»¬å®šä¹‰çš„å±æ€§1xmlns:custom=&quot;http://schemas.android.com/apk/res-auto&quot; ä¸‹é¢çš„@color/colorAccentæ˜¯åœ¨valuesä¸‹é¢çš„colorä¸‹é¢æœ‰ä¸ªè‡ªå®šä¹‰é¢œè‰²ï¼Œç›´æ¥å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ–°å»ºä¸€ä¸ªï¼Œé¢œè‰²è‡ªå·±é€‰1custom:leftBackground=&quot;@color/colorAccent&quot; æœ€åï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­å±•ç¤ºè‡ªå®šä¹‰çš„æ¨¡æ¿ï¼Œå¹¶ä¸”éªŒè¯åŠŸèƒ½ï¼› 123456789101112131415161718192021@Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); //è·å¾—topbar Topbar topbar = (Topbar) findViewById(R.id.topbar); //åˆ©ç”¨Topbarç±»ä¸­çš„æ–¹æ³•æ¥é‡å†™ç‚¹å‡»äº‹ä»¶ topbar.setOnTopbarClickListener(new Topbar.topbarClickListener() &#123; @Override public void leftClick() &#123; Toast.makeText(MainActivity.this,&quot;left&quot;,Toast.LENGTH_SHORT).show(); &#125; @Override public void rightClick() &#123; Toast.makeText(MainActivity.this,&quot;right&quot;,Toast.LENGTH_SHORT).show(); &#125; &#125;); //è®¾ç½®å·¦ä¾§çš„Buttonä¸å¯è§ topbar.setLeftButtonIsvisiable(false); æ•ˆæœå›¾ï¼š1ã€æœªç‚¹å‡»Buttonï¼Œå·¦ä¾§Buttonéšè— 2ã€ç‚¹å‡»å³ä¾§Buttonï¼Œæç¤ºToast ä¸‹è½½åœ°å€ï¼šè‡ªå®šä¹‰Topbarä¸‹è½½","categories":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/tags/Android/"},{"name":"è‡ªå®šä¹‰View","slug":"è‡ªå®šä¹‰View","permalink":"https://github.com/smartsean/smartsean.github.io/tags/è‡ªå®šä¹‰View/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://github.com/smartsean/smartsean.github.io/categories/Android/"}]}]}